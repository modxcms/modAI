!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.modAI=t():e.modAI=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{chatHistory:()=>he,executor:()=>r,history:()=>d,ui:()=>we,window:()=>Le});const n={buffered:{chatgpt:{content:e=>{const t=e?.choices?.[0]?.message?.content;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}},image:e=>{let t=e?.data?.[0]?.url;if(!t){if(t=e?.data?.[0]?.b64_json,!t)throw new Error(_("modai.cmp.failed_request"));t=`data:image/png;base64,${t}`}return{id:`chatgpt-${Date.now()}-${Math.round(1e3*Math.random())}`,url:t}}},claude:{content:e=>{const t=e?.content?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}}},gemini:{content:e=>{const t=e?.candidates?.[0]?.content?.parts?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:`gemini-${Date.now()}-${Math.round(1e3*Math.random())}`,content:t}},image:e=>{const t=e?.predictions?.[0]?.bytesBase64Encoded;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:`gemini-${Date.now()}-${Math.round(1e3*Math.random())}`,url:`data:image/png;base64,${t}`}}}},stream:{chatgpt:{content:(e,t)=>{const n=t?.content??"",o=e.choices?.[0]?.delta?.content||"";return{...t,id:e.id,content:`${n}${o}`}}},claude:{content:(e,t)=>{const n=t?.content??"",o=e.delta?.text||"";return{...t,content:`${n}${o}`}}},gemini:{content:(e,t)=>{const n=t?.content??"",o=e.candidates?.[0]?.content?.parts?.[0]?.text||"";return{...t,content:`${n}${o}`}}}}},o=async e=>{if(!e.ok){const t=await e.json();if(t?.error)throw new Error(t.error.message);throw new Error(`${e.status} ${e.statusText}`)}},a=async(e,t,o,a,i)=>{if(!e.body)throw new Error("failed");const r=e.body.getReader(),s=new TextDecoder("utf-8");let d="",l={id:`${t}-${Date.now()}-${Math.round(1e3*Math.random())}`,content:""};for(;!i||!i.aborted;){const{done:e,value:i}=await r.read();if(e)break;const c=s.decode(i,{stream:!0});if("gemini"===t){const e=c.trim().split(",\r\n").map((e=>e.replace(/^\[|]$/g,""))).filter((e=>""!==e.trim()));for(const i of e)try{const e=JSON.parse(i);l=n.stream[t][o](e,l),a&&a(l)}catch{}}if("chatgpt"===t){d+=c;let e,i=0;for(;-1!==(e=d.indexOf("\n",i));){const r=d.slice(i,e).trim();if(i=e+1,r.startsWith("data: ")){const e=r.slice(6);if("[DONE]"===e)continue;try{const i=JSON.parse(e);l=n.stream[t][o](i,l),a&&a(l)}catch{}}}d=d.slice(i)}if("claude"===t){d+=c;let e,i=0;for(;-1!==(e=d.indexOf("\n",i));){const r=d.slice(i,e).trim();if(i=e+1,r.startsWith("data: ")){const e=r.slice(6);try{const i=JSON.parse(e);if("message_start"===i.type){l.id=i.message.id;continue}if("content_block_delta"!==i.type)continue;l=n.stream[t][o](i,l),a&&a(l)}catch{}}}d=d.slice(i)}}return l},i=async(e,t,i,r)=>{const s=(r=r||new AbortController).signal,d=await fetch(`${modAI.apiURL}?action=${e}`,{signal:s,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!d.ok){const e=await d.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}const l=d.headers.get("x-modai-service")??"chatgpt",c=d.headers.get("x-modai-parser")??"content",p=1===parseInt(d.headers.get("x-modai-stream")??"0");if(1!==parseInt(d.headers.get("x-modai-proxy")??"0")){return(async(e,t,i)=>{if("object"!=typeof e||!e.forExecutor)return e;const r=e.forExecutor,s=(i=i||new AbortController).signal;if(!r.service||!r.parser)throw new Error(_("modai.cmp.service_required"));if(!n[r.stream?"stream":"buffered"]?.[r.service]?.[r.parser])throw new Error(_("modai.cmp.service_unsupported"));if(r.stream)return(async e=>{if("content"!==r.parser)throw new Error(_("modai.cmp.service_unsupported"));const n=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});return await o(n),a(n,r.service,r.parser,t)})(r);const d=await(async e=>{const t=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});await o(t);const n=await t.json();if(n.error)throw new Error(n.error.message);return n})(r);return n.buffered[r.service][r.parser](d)})(await d.json(),i,r)}if(!l||!c)throw r.abort(),new Error(_("modai.cmp.service_required"));if(!n[p?"stream":"buffered"]?.[l]?.[c])throw r.abort(),new Error(_("modai.cmp.service_unsupported"));if(!p){const e=await d.json();return n.buffered[l][c](e)}if("content"!==c)throw new Error(_("modai.cmp.service_unsupported"));return await a(d,l,c,i,s)},r={mgr:{download:{image:async e=>await(async(e,t)=>{const n=await fetch(`${modAI.apiURL}?action=Download\\Image`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}return await n.json()})(0,e)},prompt:{freeText:async(e,t,n)=>i("Prompt\\FreeText",e,t,n),text:async(e,t,n)=>i("Prompt\\Text",e,t,n),vision:async(e,t,n)=>i("Prompt\\Vision",e,t,n),image:async(e,t)=>i("Prompt\\Image",e,void 0,t)}}},s={},d={_formatOutput(e,t){const n=s[e],o=n.visible>0,a=n.visible!==n.values.length-1;return{value:void 0!==t?t:n.values[n.visible]??null,nextStatus:a,prevStatus:o,current:n.visible+1,total:n.values.length,context:n.context}},insert(e,t,n=!1){const o=s[e];n||(o.visible=o.values.push(t)-1);const a=this._formatOutput(e,t);return"function"==typeof o.syncUI&&o.syncUI(a,n),a},next(e){const t=s[e];if(t.visible===t.values.length-1)return this._formatOutput(e);t.visible++;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},prev(e){const t=s[e];if(t.visible<=0)return this._formatOutput(e);t.visible--;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},init(e,t,n,o){return s[e]||(s[e]={visible:-1,values:[],context:o}),s[e].syncUI=t,n&&(s[e].values=[n],s[e].visible=0),{cachedItem:s[e],getData:()=>this._formatOutput(e),getAll:()=>s[e].values,syncUI:()=>{"function"==typeof s[e].syncUI&&s[e].syncUI(this._formatOutput(e),!1)},insert:(t,n=!1)=>this.insert(e,t,n),next:()=>this.next(e),prev:()=>this.prev(e)}}},l=(e,t)=>{if(!t.isDragging)return;const n=e.clientX-t.offsetX,o=e.clientY-t.offsetY;t.style.left=n+"px",t.style.top=o+"px",t.style.transform="none"},c=e=>{e.isDragging=!1,document.body.style.userSelect=""},p=(e,t)=>{Object.assign(e.style,t)},g=(e,t,n="")=>{const o=document.createElement(e);return t&&p(o,t),n&&(o.textContent=n),o},m=e=>/<[^>]*>/g.test(e)?e:e.replace(/\r\n|\n|\r/g,"<br>"),h={loadingText:"Loading...",completedText:"Completed!",completedTextDuration:2e3,disabled:!1},u={backgroundColor:"#edf2f7",border:"1px solid #cbd5e0",borderRadius:"4px",padding:"3px 8px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",color:"#4a5568",opacity:"1"},f={display:"inline-block",width:"14px",height:"14px",marginRight:"5px",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},y={opacity:"0.5",cursor:"not-allowed"},x={copy:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z'/%3E%3Cpath d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z'/%3E%3C/svg%3E",insert:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z'/%3E%3C/svg%3E"},b=e=>{e={...h,...e};const t=g("button",u);t.className="action-button",t.enable=()=>{t.disabled=!1,p(t,u)},t.disable=()=>{t.disabled=!0,p(t,{...u,...y})},e.disabled&&t.disable();const n=g("span",{...f,backgroundImage:`url("${x[e.icon]}")`});return t.append(n),t.append(document.createTextNode(e.label)),t.addEventListener("click",(async()=>{const n=t.innerHTML,o=e.onClick(e.message,e.modal);if(o instanceof Promise){t.innerHTML=`\n                <span style="\n                    display: inline-block;\n                    margin-right: 5px;\n                    width: 12px;\n                    height: 12px;\n                    position: relative;\n                    animation: spin 1s linear infinite;\n                ">\n                    <span style="\n                        position: absolute;\n                        width: 3px;\n                        height: 3px;\n                        background-color: currentColor;\n                        border-radius: 50%;\n                        top: 0;\n                        left: 50%;\n                        transform: translate(-50%, 0);\n                    "></span>\n                    <span style="\n                        position: absolute;\n                        width: 3px;\n                        height: 3px;\n                        background-color: currentColor;\n                        border-radius: 50%;\n                        top: 50%;\n                        right: 0;\n                        transform: translate(0, -50%);\n                    "></span>\n                    <span style="\n                        position: absolute;\n                        width: 3px;\n                        height: 3px;\n                        background-color: currentColor;\n                        border-radius: 50%;\n                        bottom: 0;\n                        left: 50%;\n                        transform: translate(-50%, 0);\n                    "></span>\n                    <span style="\n                        position: absolute;\n                        width: 3px;\n                        height: 3px;\n                        background-color: currentColor;\n                        border-radius: 50%;\n                        top: 50%;\n                        left: 0;\n                        transform: translate(0, -50%);\n                    "></span>\n                </span>\n                ${e.loadingText}\n            `;const n=document.createElement("style");n.textContent="\n                @keyframes spin {\n                    from { transform: rotate(0deg); }\n                    to { transform: rotate(360deg); }\n                }\n            ",document.head.appendChild(n),await o,document.head.removeChild(n)}t.innerHTML=`\n                <span style="margin-right: 5px;">✓</span>\n                ${e.completedText}\n            `,await new Promise((e=>setTimeout(e,2e3))),t.innerHTML=n})),t},w={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"none",zIndex:"100"},v={position:"fixed",width:"1000px",minHeight:"170px",maxHeight:"600px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",display:"none",flexDirection:"column",overflow:"hidden",zIndex:"101",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:"height 0.3s ease-in-out"},C={backgroundColor:"#00B6DE",color:"white",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move"},E={fontWeight:"bold",fontSize:"16px"},k={display:"flex",gap:"10px"},M={background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer"},T={flex:"1",padding:"15px",overflowY:"auto",backgroundColor:"#f9f9f9",width:"100%",boxSizing:"border-box",display:"none"},I={marginBottom:"20px",borderRadius:"8px",position:"relative",wordWrap:"break-word",width:"100%",boxSizing:"border-box"},A={width:"100%",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.05)"},S={width:"fit-content",padding:"10px 15px",backgroundColor:"#4299e1",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px"},L={padding:"12px",width:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box"},O={display:"flex",padding:"8px 12px",gap:"8px",backgroundColor:"#f7fafc",borderTop:"1px solid #e2e8f0",borderRadius:"0 0 8px 8px"},z={display:"flex",padding:"15px",borderTop:"1px solid #e2e8f0",backgroundColor:"white",position:"relative"},D={display:"flex",width:"100%",gap:"10px"},$={flex:"1",position:"relative",minHeight:"48px",maxHeight:"150px",display:"flex"},B={width:"100%",padding:"12px 15px",border:"1px solid #e2e8f0",borderRadius:"10px",outline:"none",fontSize:"14px",resize:"none",minHeight:"48px",maxHeight:"150px",overflowY:"auto",backgroundColor:"#fff",cursor:"inherit"},H={display:"flex",flexDirection:"column",gap:"4px",width:"100px"},R={backgroundColor:"#6CB24A",color:"white",border:"none",borderRadius:"12px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold",height:"40px",minWidth:"100px",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:"1"},P={display:"flex",gap:"4px",justifyContent:"space-between"},j={backgroundColor:"transparent",border:"1px solid #e2e8f0",borderRadius:"8px",width:"48px",height:"32px",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s",opacity:"1"},U={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M2.01 21L23 12 2.01 3 2 10l15 2-15 2z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},F={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23DC2626'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 6h12v12H6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},N={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234B5563'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},q={opacity:"0.5",cursor:"not-allowed"},W={backgroundColor:"#f3f4f6",cursor:"not-allowed"},V={display:"none",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(243, 244, 246, 0.9)",borderRadius:"10px",color:"#6B7280",fontSize:"14px",alignItems:"center",justifyContent:"center",gap:"4px",flexDirection:"row",zIndex:"10",backdropFilter:"blur(2px)",border:"1px solid #e2e8f0",pointerEvents:"none"},Y={padding:"5px 15px",display:"flex",alignItems:"center",gap:"10px",borderTop:"1px solid #e2e8f0",backgroundColor:"white"},J={fontSize:"14px",color:"#4B5563",fontWeight:"500"},X={display:"flex",gap:"4px"},G={padding:"6px 12px",fontSize:"13px",border:"1px solid #e2e8f0",borderRadius:"6px",backgroundColor:"#fff",color:"#4B5563",cursor:"pointer",transition:"all 0.2s",opacity:"1"},K={backgroundColor:"#00B6DE",color:"#fff",borderColor:"#00B6DE"},Q={width:"fit-content",padding:"10px 15px",backgroundColor:"#DC2626",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px",display:"flex",alignItems:"center",gap:"8px"},Z={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},ee={position:"absolute",top:"5px",left:"5px",width:"71px",height:"71px",borderRadius:"6px",overflow:"hidden",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",cursor:"pointer",transition:"transform 0.2s ease"},te={width:"100%",height:"100%",objectFit:"cover"},ne={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",cursor:"pointer",opacity:"0",transition:"opacity 0.2s ease"},oe=(e,t)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const n=g("div",{...I,...Q}),o=g("span",Z);n.appendChild(o);const a=g("span");return a.textContent=t,n.appendChild(a),e.chatMessages.appendChild(n),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,n},ae=(e,t,n,o)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const a=g("div",{...I,...A}),i=o||"msg-"+Date.now(),s=g("div",L),d=((e,t,n=[])=>{const o=m(e);let a=!1,i=null;const r=g("iframe",{width:"100%",border:"none",backgroundColor:"white",maxWidth:"100%",boxSizing:"border-box"}),s=()=>r.contentDocument||r.contentWindow?.document,d=e=>`\n        <html>\n        <head>\n            <style>\n            html {\n                width: 100%;\n                max-width: 100%;\n                padding: 0;\n                margin: 0;\n            }\n            body {\n                margin: 0;\n                padding: 0;\n                font-family: Arial, sans-serif;\n                overflow-x: hidden;\n                width: 100%;\n                max-width: 100%;\n                box-sizing: border-box;\n            }\n            * {\n                box-sizing: border-box;\n                max-width: 100%;\n            }\n            pre {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                overflow-wrap: break-word;\n                max-width: 100%;\n                padding: 12px;\n                margin: 0;\n                background-color: #f5f7fa;\n                border-radius: 5px;\n                font-size: 14px;\n            }\n            img {\n                max-width: 100%;\n                height: auto;\n                display: block;\n            }\n            code {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                max-width: 100%;\n                display: block;\n                overflow-x: hidden;\n                font-size: 14px;\n            }\n            table {\n                width: 100%;\n                max-width: 100%;\n                overflow-x: hidden;\n                display: block;\n                border-collapse: collapse;\n            }\n            div {\n                max-width: 100%;\n                overflow-wrap: break-word;\n                word-wrap: break-word;\n                box-sizing: border-box;\n            }\n            p {\n                margin: 0 0 0.5em 0;\n                max-width: 100%;\n            }\n            h1, h2, h3, h4, h5, h6 {\n                margin: 0 0 0.1em 0;\n                max-width: 100%;\n            }\n        </style>\n            ${n.map((e=>`<link rel="stylesheet" type="text/css" href="${e}" />`)).join("")}\n        </head>\n        <body style="padding: 0; max-width: 100%; width: 100%; box-sizing: border-box;">${e}</body>\n        </html>\n    `,l=(e,t)=>{const o=e.createElement("style");o.textContent="\n            html {\n                width: 100%;\n                max-width: 100%;\n                padding: 0;\n                margin: 0;\n            }\n            body {\n                margin: 0;\n                padding: 0;\n                font-family: Arial, sans-serif;\n                overflow-x: hidden;\n                width: 100%;\n                max-width: 100%;\n                box-sizing: border-box;\n            }\n            * {\n                box-sizing: border-box;\n                max-width: 100%;\n            }\n            pre {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                overflow-wrap: break-word;\n                max-width: 100%;\n                padding: 12px;\n                margin: 0;\n                background-color: #f5f7fa;\n                border-radius: 5px;\n                font-size: 14px;\n            }\n            img {\n                max-width: 100%;\n                height: auto;\n                display: block;\n            }\n            code {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                max-width: 100%;\n                display: block;\n                overflow-x: hidden;\n                font-size: 14px;\n            }\n            table {\n                width: 100%;\n                max-width: 100%;\n                overflow-x: hidden;\n                display: block;\n                border-collapse: collapse;\n            }\n            div {\n                max-width: 100%;\n                overflow-wrap: break-word;\n                word-wrap: break-word;\n                box-sizing: border-box;\n            }\n            p {\n                margin: 0 0 0.5em 0;\n                max-width: 100%;\n            }\n            h1, h2, h3, h4, h5, h6 {\n                margin: 0 0 0.1em 0;\n                max-width: 100%;\n            }\n        ",e.head.appendChild(o),n.forEach((t=>{const n=e.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,e.head.appendChild(n)})),e.body.innerHTML=t,e.body.style.padding="0",e.body.style.maxWidth="100%",e.body.style.width="100%",e.body.style.boxSizing="border-box"};return r.syncContent=e=>{(e=>{if(!a)return i=e,void(r.srcdoc=d(e));const t=s();if(!t)return i=e,void(r.srcdoc=d(e));t.head.querySelector("style")?t.body.innerHTML=e:l(t,e),r.syncHeight()})(e)},r.syncHeight=()=>{const e=r.contentWindow?.document.body;if(!e)return;const n=e.getElementsByTagName("*");let o=e.offsetHeight;for(let e=0;e<n.length;e++){const t=n[e],a=t.offsetTop+t.offsetHeight;o=Math.max(o,a)}r.style.height=o+5+"px",e.style.overflow="hidden",t.chatMessages.scrollTop=t.chatMessages.scrollHeight},r.onload=()=>{if(a=!0,null!==i){const e=i;i=null;const t=s();t&&(l(t,e),r.syncHeight())}r.syncHeight()},r.srcdoc=d(o),r})(Array.isArray(t)?t[0].value:t,e,n.customCSS??[]);s.appendChild(d);const l=g("div",O),c=e.history.getMessages().find((e=>e.id===i&&"assistant"===e.role));if(c&&("text"===n.type&&(!1!==n.textActions?.copy&&l.append(b({message:c,modal:e,disabled:e.isLoading,icon:"copy",label:"Copy",completedText:"Copied!",onClick:"function"==typeof n.textActions?.copy?n.textActions.copy:re})),"function"==typeof n.textActions?.insert&&l.append(b({message:c,modal:e,disabled:e.isLoading,icon:"insert",label:"Insert",completedText:"Inserted!",onClick:n.textActions.insert}))),"image"===n.type)){!1!==n.imageActions?.copy&&l.append(b({message:c,modal:e,disabled:e.isLoading,icon:"copy",label:"Copy",loadingText:"Downloading...",completedText:"Copied!",onClick:async(e,t)=>{const o="function"==typeof n.textActions?.copy?n.textActions.copy:re;if(!0===e.ctx.downloaded)return void o(e,t);const a=await r.mgr.download.image({url:e.content,field:n.field,namespace:n.namespace,resource:n.resource,mediaSource:n.image?.mediaSource});e.content=a.fullUrl,e.ctx.downloaded=!0,e.ctx.url=a.url,e.ctx.fullUrl=a.fullUrl,o(e,t)}}));const t=n.imageActions?.insert;"function"==typeof t&&l.append(b({message:c,modal:e,disabled:e.isLoading,icon:"insert",label:"Insert",completedText:"Inserted!",loadingText:"Downloading...",onClick:async(e,o)=>{if(!0===e.ctx.downloaded)return void t(e,o);const a=await r.mgr.download.image({url:e.content,field:n.field,namespace:n.namespace,resource:n.resource,mediaSource:n.image?.mediaSource});e.content=a.fullUrl,e.ctx.downloaded=!0,e.ctx.url=a.url,e.ctx.fullUrl=a.fullUrl,t(e,o)}}))}return a.append(s,l),e.chatMessages.appendChild(a),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,a.update=e=>{const t=Array.isArray(e.content)?e.content[0].value:e.content,n="image"===e.type?`<img src="${t}" />`:m(t);d.syncContent(n),d.syncHeight()},a},ie=(e,t,n)=>{if(!e.hidden)return"user"===e.role?((e,t)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const n=g("div",{...I,...S});let o,a=null;if(Array.isArray(t)){const[e,...n]=t;o=e.value,a=n}else o=t;const i=g("div",{display:"flex",flexDirection:"column",gap:"8px"}),r=g("div");if(r.innerHTML=m(o),i.appendChild(r),a){const e=g("div",{display:"flex",flexDirection:"row",gap:"8px",flexWrap:"wrap"});for(const t of a){const n=g("div",{width:"100px",height:"100px",borderRadius:"4px",overflow:"hidden",marginTop:"4px"}),o=g("img",{width:"100%",height:"100%",objectFit:"cover"});o.src=t.value,n.appendChild(o),e.appendChild(n)}i.appendChild(e)}return n.appendChild(i),n.update=e=>{const t=Array.isArray(e.content)?e.content[0].value:e.content;r.innerHTML=m(t)},e.chatMessages.appendChild(n),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,n})(t,e.content):"image"===e.type?ae(t,`<img src="${e.content}" />`,n,e.id):ae(t,e.content,n,e.id)},re=async(e,t)=>{const n=Array.isArray(e.content)?e.content[0].value:e.content;if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(n)}catch{oe(t,_("modai.cmp.failed_copy"))}else try{const e=g("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}catch{oe(t,_("modai.cmp.failed_copy"))}},se={modalOpen:!1},de=(e,t,n)=>{e.isLoading=t,e.loadingIndicator.style.display=t?"flex":"none",e.messageInput.disabled=t,p(e.messageInput,t?{...B,...W}:B),e.sendBtn.disabled=t,p(e.sendBtn,t?{...R,...q}:R),e.stopBtn.disabled=!t,p(e.stopBtn,t?j:{...j,...q});const o=e.history.getMessages().length>0;e.tryAgainBtn.disabled=t||!o,p(e.tryAgainBtn,t||!o?{...j,...q}:j),Object.values(e.typeButtons).forEach((e=>{e.disabled=t;const o=e.textContent?.toLowerCase()===n.type;p(e,t?{...G,...o?K:{},...q}:{...G,...o?K:{}})})),e.chatMessages.querySelectorAll(".action-button").forEach((e=>{t?e.disable?.():e?.enable?.()}))},le=e=>{e.imagePreview&&(e.imagePreview.remove(),e.imagePreview=void 0),e.uploadedImage=void 0,e.messageInput.style.paddingLeft="15px"},ce=async(e,t,n=!1)=>{if(!n&&t instanceof File&&!t.type.startsWith("image/"))return void oe(e,"Only image files are allowed");e.uploadedImage&&le(e);const o=g("div",ee),a=g("img",te),i=g("div",ne,"×");if(n)a.src=t,e.uploadedImage=a.src;else{const n=await new Promise(((e,n)=>{const o=new FileReader;o.onload=function(t){e(t.target?.result)},o.onerror=function(e){n(e)},o.readAsDataURL(t)}));a.src=n,e.uploadedImage=n}i.addEventListener("click",(t=>{t.stopPropagation(),le(e)})),o.addEventListener("mouseenter",(()=>{o.style.transform="scale(1.05)",i.style.opacity="1"})),o.addEventListener("mouseleave",(()=>{o.style.transform="",i.style.opacity="0"})),o.append(a,i),e.imagePreview=o,e.messageInput.style.paddingLeft="85px",e.inputWrapper.append(o)},pe={},ge="assistant",me=(e,t,n,o,a=!1,i="text")=>{const r=pe[e];if(!r)return;const s={content:t,role:n,id:o,hidden:a,type:i,ctx:{}},d=r.history.push(s)-1;o&&(r.idRef[o]=r.history[d]),s.el=r.onAddMessage(s)},he={init:(e,t)=>(pe[e]||(pe[e]={history:[],idRef:{},onAddMessage:t}),pe[e].onAddMessage=t,{addUserMessage:(t,n,o,a="text")=>{me(e,t,"user",n,o,a)},addAssistantMessage:(t,n,o="text")=>{me(e,t,ge,n,!1,o)},updateAssistantMessage:(t,n,o="text")=>{((e,t,n,o="text")=>{const a=pe[e];if(!a)return;if(!a.idRef[t])return void me(e,n,ge,t,!1,o);const i=a.idRef[t];i.content=n,i.el&&i.el.update&&i.el.update(i)})(e,t,n,o)},getAssistantMessage:t=>((e,t)=>{const n=pe[e];if(n)return n.idRef[t]})(e,t),getMessages:()=>pe[e].history,getMessagesHistory:()=>pe[e].history.map((e=>({role:e.role,content:e.content})))})},ue=e=>{document.removeEventListener("mousemove",(t=>l(t,e))),document.removeEventListener("mouseup",(()=>c(e))),e.modalOverlay&&e.modalOverlay.remove(),e&&e.remove(),se.modalOpen=!1},fe=async(e,t,n,o)=>{const a=n?n.trim():e.messageInput.value.trim();if(!a||e.isLoading)return;de(e,!0,t),e.messageInput.value="",e.abortController=new AbortController;let i=a;e.uploadedImage&&"text"===t.type&&(i=[{type:"text",value:a},{type:"image",value:e.uploadedImage}]),le(e);const s=e.history.getMessagesHistory(),d="user-msg-"+Date.now()+Math.round(1e3*Math.random());e.history.addUserMessage(i,d,o);try{if("text"===t.type){const n=await r.mgr.prompt.freeText({namespace:t.namespace,context:t.context,prompt:i,field:t.field||"",messages:s},(t=>{e.history.updateAssistantMessage(t.id,t.content)}),e.abortController);e.history.updateAssistantMessage(n.id,n.content)}if("image"===t.type){const t=await r.mgr.prompt.image({prompt:i},e.abortController);e.history.addAssistantMessage(t.url,t.id,"image")}e.abortController=void 0}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;return void oe(e,t.message)}oe(e,"Unknown error")}de(e,!1,t)},ye=["text","image"],xe=e=>{if(se.modalOpen)return;if(!e.key)return void alert("key is required config property");void 0===e.overlay&&(e.overlay=!0),e.type||(e.type="text"),e.availableTypes||(e.availableTypes=[]),e.availableTypes=e.availableTypes.filter((e=>ye.includes(e))),e.availableTypes.length>0&&!e.availableTypes.includes(e.type)&&e.availableTypes.unshift(e.type);const t=(e=>{const t=g("div",w),n=g("div",v);n.history=he.init(`${e.key}/${e.type}`,(t=>ie(t,n,e)));const o=g("div",C),a=g("div",E,"modAI Assistant"),i=g("div",k),r=g("button",M,"✕");i.append(r),o.append(a,i);const s=g("div",T),d=g("div",z),m=g("div",D),h=g("div",$),u=g("textarea",B);u.placeholder="Type your message...",u.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation(),u.style.borderColor="#00B6DE"})),u.addEventListener("dragleave",(e=>{e.preventDefault(),e.stopPropagation(),u.style.borderColor="#e2e8f0"})),u.addEventListener("drop",(async e=>{e.preventDefault(),e.stopPropagation(),u.style.borderColor="#e2e8f0";let t=null,o=null;const a=e.dataTransfer;if(!a)return;const i=a.files;if(i?.length>0){const e=i[0];e.type.startsWith("image/")&&(t=e)}if(!t){const e=a.getData("text/uri-list");e&&(o=e)}if(t)await ce(n,t);else if(o){const e=new URL(window.location.href);if(!o.startsWith(e.origin))return void await ce(n,o,!0);try{const e=await fetch(o);if(e.ok){const t=await e.blob();if(t.type.startsWith("image/")){const e=new File([t],"image.png",{type:t.type});await ce(n,e)}}}catch{oe(n,"Failed to fetch an image")}}else oe(n,"Only image files are allowed")})),u.addEventListener("paste",(async e=>{const t=e.clipboardData?.items;if(t)for(let o=0;o<t.length;o++)if(-1!==t[o].type.indexOf("image")){const a=t[o].getAsFile();if(a){e.preventDefault(),await ce(n,a);break}}})),r.addEventListener("click",(()=>{ue(n)}));const f=g("div",H),y=g("button",R),x=g("span",U),b=document.createTextNode("Send");y.append(x,b);const I=g("div",P),A=g("button",{...j,...q}),S=g("span",F);A.appendChild(S),A.title="Stop Generation";const L=g("button",j),_=g("span",N);L.appendChild(_),L.title="Try Again",0===n.history.getMessages().length&&(L.disabled=!0,p(L,{...j,...q})),I.append(A,L),f.append(y,I),h.append(u),m.append(h,f);const O=g("div",V);O.innerHTML='\n    <style>\n        @keyframes loadingDotPulse {\n            0%, 80%, 100% { transform: scale(0.6); opacity: 0.3; }\n            40% { transform: scale(1); opacity: 1; }\n        }\n        .loading-dots {\n            display: flex;\n            gap: 4px;\n            padding: 8px 16px;\n            background-color: rgba(255, 255, 255, 0.8);\n            border-radius: 16px;\n        }\n        .loading-dot {\n            width: 8px;\n            height: 8px;\n            background-color: #6B7280;\n            border-radius: 50%;\n            display: inline-block;\n            animation: loadingDotPulse 1.4s infinite ease-in-out both;\n        }\n        .loading-dot:nth-child(1) { animation-delay: -0.32s; }\n        .loading-dot:nth-child(2) { animation-delay: -0.16s; }\n        .loading-dot:nth-child(3) { animation-delay: 0s; }\n    </style>\n    <div class="loading-dots">\n        <div class="loading-dot"></div>\n        <div class="loading-dot"></div>\n        <div class="loading-dot"></div>\n    </div>\n',h.append(O);const W=g("div",Y),Q=g("div",J,"Generate:"),Z=g("div",X),ee={},te=e.availableTypes??[];return te.forEach((t=>{const o=g("button",G,t.charAt(0).toUpperCase()+t.slice(1));t===e.type&&p(o,{...G,...K}),o.addEventListener("click",(()=>{Object.values(ee).forEach((e=>{p(e,G)})),p(o,{...G,...K}),((e,t,n)=>{for(n.type=e,t.history=he.init(`${n.key}/${n.type}`,(e=>ie(e,t,n)));t.chatMessages.firstChild;)t.chatMessages.removeChild(t.chatMessages.firstChild);t.chatMessages.style.display="none";const o=t.history.getMessages().filter((e=>!e.hidden));o.length>0&&(t.chatMessages.style.display="block",o.forEach((e=>{ie(e,t,n)})))})(t,n,e)})),ee[t]=o,Z.appendChild(o)})),W.append(Q,Z),d.append(m),n.append(o,s,d),te.length>0&&n.append(W),e.overlay&&document.body.append(t),document.body.append(n),r.addEventListener("click",(()=>ue(n))),y.addEventListener("click",(()=>fe(n,e))),A.addEventListener("click",(()=>((e,t)=>{e.isLoading&&e.abortController&&(e.abortController.abort(),e.abortController=void 0,de(e,!1,t))})(n,e))),L.addEventListener("click",(()=>((e,t)=>{if(0!==e.history.getMessages().length)if("text"!==t.type){if("image"===t.type){const n=e.history.getMessages().reverse().find((e=>"user"===e.role));n&&fe(e,t,n.content)}}else fe(e,t,"Try again")})(n,e))),u.addEventListener("keydown",(t=>{if("Enter"===t.key){if(t.shiftKey)return;t.preventDefault(),fe(n,e)}})),o.addEventListener("mousedown",(e=>((e,t)=>{t.isDragging=!0;const n=t.getBoundingClientRect();t.offsetX=e.clientX-n.left,t.offsetY=e.clientY-n.top,document.body.style.userSelect="none"})(e,n))),document.addEventListener("mousemove",(e=>l(e,n))),document.addEventListener("mouseup",(()=>c(n))),n.modalOverlay=t,n.chatHeader=o,n.closeBtn=r,n.chatMessages=s,n.messageInput=u,n.sendBtn=y,n.tryAgainBtn=L,n.stopBtn=A,n.loadingIndicator=O,n.typeSelector=W,n.typeButtons=ee,n.inputWrapper=h,n.isDragging=!1,n.isLoading=!1,n.abortController=void 0,n.offsetX=0,n.offsetY=0,n})(e);return t.api={sendMessage:async(n,o)=>{await fe(t,e,n,o)},closeModal:()=>{ue(t)}},((e,t)=>{e.chatMessages.innerHTML="",e.chatMessages.style.display="none",e.style.visibility="hidden",e.style.display="flex",e.modalOverlay.style.display="block";const n=e.history.getMessages().filter((e=>!e.hidden));n.length>0&&(e.chatMessages.style.display="block",n.forEach((n=>{ie(n,e,t)}))),setTimeout((()=>{e.chatMessages.scrollTop=e.chatMessages.scrollHeight,e.style.visibility="visible"}),100)})(t,e),se.modalOpen=!0,t},be=(e,t={})=>{const n={indicatorType:t.indicatorType||"spinner",overlayColor:t.overlayColor||"rgba(255, 255, 255, 0.7)",indicatorColor:t.indicatorColor||"#3498db"},o=document.createElement("div"),a=document.createElement("div"),i=window.getComputedStyle(e),r=e.getBoundingClientRect();t.indicatorColor||(n.indicatorType=r.height<=50?"dots":"spinner"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor=n.overlayColor,o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.zIndex="10000",o.style.borderRadius=i.borderRadius;let s="";if("spinner"===n.indicatorType)a.style.border="4px solid #f3f3f3",a.style.borderTop=`4px solid ${n.indicatorColor}`,a.style.borderRadius="50%",a.style.width="30px",a.style.height="30px",a.style.animation="textareaOverlaySpin 1s linear infinite",s="\n      @keyframes textareaOverlaySpin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    ";else if("dots"===n.indicatorType){a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.height="20px";for(let e=0;e<3;e++){const t=document.createElement("div");t.style.width="8px",t.style.height="8px",t.style.borderRadius="50%",t.style.backgroundColor=n.indicatorColor,t.style.margin="0 4px",t.style.animation="textareaOverlayDotPulse 1.4s infinite ease-in-out",t.style.animationDelay=.2*e+"s",a.appendChild(t)}s="\n      @keyframes textareaOverlayDotPulse {\n        0%, 80%, 100% { transform: scale(0); opacity: 0.5; }\n        40% { transform: scale(1); opacity: 1; }\n      }\n    "}const d=document.createElement("style");d.textContent=s,document.head.appendChild(d),o.appendChild(a);const l=window.getComputedStyle(e.parentElement);let c;-1===["relative","absolute","fixed"].indexOf(l.position)?(c=document.createElement("div"),c.style.position="relative",c.style.width=`${r.width}px`,c.style.height=`${r.height}px`,c.style.display="inline-block",e.parentNode?.insertBefore(c,e),c.appendChild(e)):c=e.parentElement,o.style.display="none",c.appendChild(o);const p=e.getBoundingClientRect();return c!==e.parentElement&&(c.style.width=`${p.width}px`,c.style.height=`${p.height}px`),o.style.display="flex",e.setAttribute("disabled","disabled"),()=>{o.style.display="none",e.removeAttribute("disabled"),o.remove(),d.remove(),c!==e.parentElement&&(c.parentNode?.insertBefore(e,c),c.remove())}},we={createLoadingOverlay:be,localChat:e=>xe(e)},ve=(e,t)=>{e.context.els.forEach((({wrapper:n,field:o})=>{const a=o.getValue();o.setValue(e.value),o.fireEvent("change",o,e.value,a),t&&(o.el.dom.scrollTop=o.el.dom.scrollHeight),e.total>0&&n.historyNav.show(),n.historyNav.info.update(e.current,e.total),e.prevStatus?n.historyNav.prevButton.enable():n.historyNav.prevButton.disable(),e.nextStatus?n.historyNav.nextButton.enable():n.historyNav.nextButton.disable()}))},Ce=()=>{const e=document.createElement("button");return e.className="modai-generate",e.innerText="✦",e.type="button",e.title="Generate using AI",e},Ee=e=>{const t=document.createElement("button");t.type="button",t.title="Previous Version",t.className="modai-history_prev",t.disable=()=>{t.disabled=!0},t.enable=()=>{t.disabled=!1},t.innerHTML="prev",t.addEventListener("click",(()=>{e.prev()}));const n=document.createElement("button");n.type="button",n.title="Next Version",n.className="modai-history_next",n.disable=()=>{n.disabled=!0},n.enable=()=>{n.disabled=!1},n.innerHTML="next",n.addEventListener("click",(()=>{e.next()}));const o=document.createElement("span");o.update=(e,t)=>{o.innerText=`${e}/${t}`},o.innerText="";const a=document.createElement("span");return a.show=()=>{a.style.display="initial"},a.hide=()=>{a.style.display="none"},a.prevButton=t,a.nextButton=n,a.info=o,a.appendChild(t),a.appendChild(n),a.appendChild(o),a.hide(),t.disable(),n.disable(),a},ke=e=>{const t=Ce();return t.addEventListener("click",(()=>{we.localChat({key:e,field:e,overlay:!1,type:"text",availableTypes:["text","image"],resource:MODx.request.id})})),t},Me=(e,t)=>{const n=document.createElement("span"),o=Ce();o.addEventListener("click",(async()=>{const n=be(e.el.dom);try{const e=await r.mgr.prompt.text({id:MODx.request.id,field:t});a.insert(e.content),n()}catch(e){n(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e instanceof Error?e.message:""}))}})),n.appendChild(o);const a=d.init(t,ve,e.getValue(),{});a.cachedItem.context.els||(a.cachedItem.context.els=[]),a.cachedItem.context.els.push({field:e,wrapper:n});const i=Ee(a);return n.appendChild(i),n.historyNav=i,n},Te=(e,t,n)=>{const o=Ce();return o.addEventListener("click",(()=>{we.localChat({key:t,field:t,type:"image",resource:MODx.request.id,image:{mediaSource:parseInt(e)||void 0},imageActions:{copy:!1,insert:(e,t)=>{n(e),t.api.closeModal()}}})})),o},Ie=(e,t)=>{const n=Ext.getCmp(e);if(!n)return;const o=document.createElement("span"),a=Ce();a.addEventListener("click",(async()=>{const e=be(n.el.dom);try{const n=await r.mgr.prompt.text({id:MODx.request.id,field:t},(e=>{i.insert(e.content,!0)}));i.insert(n.content),e()}catch(t){e(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:t instanceof Error?t.message:""}))}})),o.appendChild(a);const i=d.init(t,ve,n.getValue(),{});i.cachedItem.context.els||(i.cachedItem.context.els=[]),i.cachedItem.context.els.push({field:n,wrapper:o});const s=Ee(i);o.appendChild(s),o.historyNav=s,n.label.appendChild(o)},Ae=(e,t)=>{const n=Ext.getCmp(e.firstElementChild?.id),o=Te(n.imageBrowser.source,t,(function(e){n.imageBrowser.setValue(e.ctx.url),n.onImageChange(e.ctx.url)})),a=Ce();a.style.marginTop="6px",a.addEventListener("click",(async()=>{const e=n.imagePreview.el.dom,o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return;o.width=e.width,o.height=e.height,a.drawImage(e,0,0);const i=o.toDataURL("image/png"),s=be(n.altTextField.items.items[0].el.dom);try{const e=await r.mgr.prompt.vision({image:i,field:t},(e=>{n.altTextField.items.items[0].setValue(e.content),n.altTextField.items.items[0].el.dom.scrollTop=n.altTextField.items.items[0].el.dom.scrollHeight,n.image.altTag=e.content,n.updateValue()}));n.altTextField.items.items[0].setValue(e.content),n.image.altTag=e.content,n.updateValue(),s()}catch(e){s(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e instanceof Error?e.message:""}))}})),n.altTextField.el.dom.style.display="flex",n.altTextField.el.dom.style.justifyItems="center",n.altTextField.el.dom.style.alignItems="center",n.el.dom.parentElement?.parentElement?.parentElement?.querySelector("label")?.appendChild(o),n.altTextField.el.dom.appendChild(a)},Se=()=>{const e=Ext.getCmp("modx-resource-content").el.dom.querySelector("label");e?.appendChild(ke("res.content"))};Ext.onReady((function(){Ext.defer((function(){(()=>{const e={pagetitle:["modx-resource-pagetitle"],longtitle:["modx-resource-longtitle","seosuite-longtitle"],introtext:["modx-resource-introtext"],description:["modx-resource-description","seosuite-description"],content:["modx-resource-content"]};for(const t of modAI?.resourceFields||[])e[t]&&("content"!==t?e[t].forEach((e=>{Ie(e,`res.${t}`)})):Se())})(),(()=>{const e=Ext.getCmp("modx-panel-resource").getForm();for(const[t,n]of modAI?.tvs||[]){const o=Ext.get(`tv${t}-tr`);if(!o)continue;const a=e.findField(`tv${t}`),i=`tv.${n}`;if(a){if("textfield"===a.xtype||"textarea"===a.xtype){const e=MODx.config[`modai.tv.${n}.text.prompt`],t=o.dom.querySelector("label");if(!t)return;e?t.appendChild(Me(a,i)):t.appendChild(ke(i))}if("modx-panel-tv-image"===a.xtype){const e=Te(a.source,i,(function(e){const t={relativeUrl:e.ctx.url,url:e.ctx.url};a.items.items[1].fireEvent("select",t),a.fireEvent("select",t)})),t=o.dom.querySelector("label");if(!t)return;t.appendChild(e)}}else{const e=o.dom.querySelector(".imageplus-panel-input");e&&Ae(e,i)}}})()}),500)}));const Le={};return t})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFDRnVGLEVBQU1RLFlBQVkwUixHQUF1Qi9MLEVBQU80TCxJQUVoRC9SLEVBQU1RLFlBQVlzUixHQUFxQkMsR0FFM0MsQ0FFQSxHQUFvQix3QkFBaEI1TCxFQUFNNE8sTUFBaUMsQ0FDekMsTUFBTXZDLEVBQVlGLEdBQWtCbk0sRUFBTThNLE9BQVFsQixHQUFXLFNBQVVoTSxHQUNyRSxNQUFNaVAsRUFBWSxDQUNoQkMsWUFBYWxQLEVBQUlFLElBQUk1USxJQUNyQkEsSUFBSzBRLEVBQUlFLElBQUk1USxLQUdmOFEsRUFBTWlILE1BQU1BLE1BQU0sR0FBRzRELFVBQVUsU0FBVWdFLEdBQ3pDN08sRUFBTTZLLFVBQVUsU0FBVWdFLEVBQzVCLElBRU1oVixFQUFRbVEsRUFBUWMsSUFBSTFNLGNBQWMsU0FDeEMsSUFBS3ZFLEVBQU8sT0FFWkEsRUFBTVEsWUFBWWdTLEVBQ3BCLENBOUJBLEtBTkEsQ0FDRSxNQUFNSyxFQUFlMUMsRUFBUWMsSUFBSTFNLGNBQWMsMEJBQzNDc08sR0FDRkQsR0FBZ0JDLEVBQWNkLEVBR2xDLENBK0JGLEdBZ0NJbUQsRUFDRixHQUFHLElBQ0wsSUM1WkssTUFBTSxHQUFTLENBQUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL21vZEFJL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbW9kQUkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9leGVjdXRvci50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvaGlzdG9yeS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L2RyYWdIYW5kbGVycy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9hY3Rpb25CdXR0b24udHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9zdHlsZXMudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9tZXNzYWdlSGFuZGxlcnMudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9pZnJhbWUudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9zdGF0ZS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvY2hhdEhpc3RvcnkudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9tb2RhbEFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL2xvY2FsQ2hhdC9pbmRleC50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L21vZGFsQnVpbGRlci50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvb3ZlcmxheS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3Jlc291cmNlLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2RBSVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2RBSVwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInR5cGUgU2VydmljZVR5cGUgPSAnY2hhdGdwdCcgfCAnY2xhdWRlJyB8ICdnZW1pbmknO1xudHlwZSBCdWZmZXJNb2RlID0gJ2J1ZmZlcmVkJyB8ICdzdHJlYW0nO1xuXG5leHBvcnQgdHlwZSBTZXJ2aWNlUmVzcG9uc2UgPSBUZXh0RGF0YSB8IEltYWdlRGF0YTtcblxudHlwZSBDaGF0R1BUQ29tcGxldGlvbnNEYXRhID0ge1xuICBpZDogc3RyaW5nO1xuICBjaG9pY2VzPzoge1xuICAgIG1lc3NhZ2U/OiB7XG4gICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgfTtcbiAgfVtdO1xufTtcblxudHlwZSBDaGF0R1BUU3RyZWFtQ29tcGxldGlvbnNEYXRhID0ge1xuICBpZDogc3RyaW5nO1xuICBjaG9pY2VzPzoge1xuICAgIGRlbHRhPzoge1xuICAgICAgY29udGVudDogc3RyaW5nO1xuICAgIH07XG4gIH1bXTtcbn07XG5cbnR5cGUgQ2hhdEdQVEltYWdlRGF0YSA9IHtcbiAgZGF0YT86IHtcbiAgICB1cmw/OiBzdHJpbmc7XG4gICAgYjY0X2pzb24/OiBzdHJpbmc7XG4gIH1bXTtcbn07XG5cbnR5cGUgQ2xhdWRlQ29tcGxldGlvbnNEYXRhID0ge1xuICBpZDogc3RyaW5nO1xuICBjb250ZW50Pzoge1xuICAgIHRleHQ/OiBzdHJpbmc7XG4gIH1bXTtcbn07XG5cbnR5cGUgQ2xhdWRlU3RyZWFtQ29tcGxldGlvbnNEYXRhID0ge1xuICBpZDogc3RyaW5nO1xuICBkZWx0YT86IHtcbiAgICB0ZXh0Pzogc3RyaW5nO1xuICB9O1xufTtcblxudHlwZSBHZW1pbmlDb21wbGV0aW9uc0RhdGEgPSB7XG4gIGNhbmRpZGF0ZXM/OiB7XG4gICAgY29udGVudD86IHtcbiAgICAgIHBhcnRzPzoge1xuICAgICAgICB0ZXh0Pzogc3RyaW5nO1xuICAgICAgfVtdO1xuICAgIH07XG4gIH1bXTtcbn07XG5cbnR5cGUgR2VtaW5pU3RyZWFtQ29tcGxldGlvbnNEYXRhID0ge1xuICBjYW5kaWRhdGVzPzoge1xuICAgIGNvbnRlbnQ/OiB7XG4gICAgICBwYXJ0cz86IHtcbiAgICAgICAgdGV4dD86IHN0cmluZztcbiAgICAgIH1bXTtcbiAgICB9O1xuICB9W107XG59O1xuXG50eXBlIEdlbWluaUltYWdlRGF0YSA9IHtcbiAgcHJlZGljdGlvbnM/OiB7XG4gICAgYnl0ZXNCYXNlNjRFbmNvZGVkPzogc3RyaW5nO1xuICB9W107XG59O1xuXG50eXBlIFNlcnZpY2VIYW5kbGVycyA9IHtcbiAgYnVmZmVyZWQ6IHtcbiAgICBjaGF0Z3B0OiB7XG4gICAgICBjb250ZW50OiAoZGF0YTogQ2hhdEdQVENvbXBsZXRpb25zRGF0YSkgPT4gVGV4dERhdGE7XG4gICAgICBpbWFnZTogKGRhdGE6IENoYXRHUFRJbWFnZURhdGEpID0+IEltYWdlRGF0YTtcbiAgICB9O1xuICAgIGNsYXVkZToge1xuICAgICAgY29udGVudDogKGRhdGE6IENsYXVkZUNvbXBsZXRpb25zRGF0YSkgPT4gVGV4dERhdGE7XG4gICAgfTtcbiAgICBnZW1pbmk6IHtcbiAgICAgIGNvbnRlbnQ6IChkYXRhOiBHZW1pbmlDb21wbGV0aW9uc0RhdGEpID0+IFRleHREYXRhO1xuICAgICAgaW1hZ2U6IChkYXRhOiBHZW1pbmlJbWFnZURhdGEpID0+IEltYWdlRGF0YTtcbiAgICB9O1xuICB9O1xuICBzdHJlYW06IHtcbiAgICBjaGF0Z3B0OiB7XG4gICAgICBjb250ZW50OiAobmV3RGF0YTogQ2hhdEdQVFN0cmVhbUNvbXBsZXRpb25zRGF0YSwgY3VycmVudERhdGE6IFRleHREYXRhKSA9PiBUZXh0RGF0YTtcbiAgICB9O1xuICAgIGNsYXVkZToge1xuICAgICAgY29udGVudDogKG5ld0RhdGE6IENsYXVkZVN0cmVhbUNvbXBsZXRpb25zRGF0YSwgY3VycmVudERhdGE6IFRleHREYXRhKSA9PiBUZXh0RGF0YTtcbiAgICB9O1xuICAgIGdlbWluaToge1xuICAgICAgY29udGVudDogKG5ld0RhdGE6IEdlbWluaVN0cmVhbUNvbXBsZXRpb25zRGF0YSwgY3VycmVudERhdGE6IFRleHREYXRhKSA9PiBUZXh0RGF0YTtcbiAgICB9O1xuICB9O1xufTtcblxudHlwZSBGb3JFeGVjdXRvciA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbiAgc2VydmljZTogc3RyaW5nO1xuICBoZWFkZXJzOiBIZWFkZXJzSW5pdDtcbiAgcGFyc2VyOiBzdHJpbmc7XG4gIHN0cmVhbTogYm9vbGVhbjtcbn07XG5cbnR5cGUgRXhlY3V0b3JEYXRhID1cbiAgfCB7XG4gICAgICBmb3JFeGVjdXRvcjogRm9yRXhlY3V0b3I7XG4gICAgfVxuICB8IHN0cmluZztcblxuZXhwb3J0IHR5cGUgVGV4dFByb21wdCA9IHsgdHlwZTogJ3RleHQnOyB2YWx1ZTogc3RyaW5nIH07XG5leHBvcnQgdHlwZSBJbWFnZVByb21wdCA9IHsgdHlwZTogJ2ltYWdlJzsgdmFsdWU6IHN0cmluZyB9O1xuXG5leHBvcnQgdHlwZSBQcm9tcHQgPSBzdHJpbmcgfCBbVGV4dFByb21wdCwgLi4uSW1hZ2VQcm9tcHRbXV07XG5cbnR5cGUgRnJlZVRleHRQYXJhbXMgPSB7XG4gIHByb21wdDogUHJvbXB0O1xuICBmaWVsZD86IHN0cmluZztcbiAgY29udGV4dD86IHN0cmluZztcbiAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICBtZXNzYWdlczogeyByb2xlOiBzdHJpbmc7IGNvbnRlbnQ6IFByb21wdCB9W107XG59O1xuXG50eXBlIFRleHRQYXJhbXMgPSB7XG4gIGZpZWxkPzogc3RyaW5nO1xuICBuYW1lc3BhY2U/OiBzdHJpbmc7XG4gIGlkOiBzdHJpbmcgfCBudW1iZXI7XG59O1xuXG50eXBlIFZpc2lvblBhcmFtcyA9IHtcbiAgZmllbGQ/OiBzdHJpbmc7XG4gIG5hbWVzcGFjZT86IHN0cmluZztcbiAgaW1hZ2U6IHN0cmluZztcbn07XG5cbnR5cGUgSW1hZ2VQYXJhbXMgPSB7XG4gIHByb21wdDogc3RyaW5nO1xuICBmaWVsZD86IHN0cmluZztcbiAgbmFtZXNwYWNlPzogc3RyaW5nO1xufTtcblxudHlwZSBEb3dubG9hZEltYWdlUGFyYW1zID0ge1xuICB1cmw6IHN0cmluZztcbiAgZmllbGQ/OiBzdHJpbmc7XG4gIG5hbWVzcGFjZT86IHN0cmluZztcbiAgcmVzb3VyY2U/OiBzdHJpbmcgfCBudW1iZXI7XG4gIG1lZGlhU291cmNlPzogc3RyaW5nIHwgbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgVGV4dERhdGEgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEltYWdlRGF0YSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG59O1xuXG50eXBlIENodW5rU3RyZWFtPEQgPSB1bmtub3duPiA9IChkYXRhOiBEKSA9PiB2b2lkO1xuXG5jb25zdCBzZXJ2aWNlczogU2VydmljZUhhbmRsZXJzID0ge1xuICBidWZmZXJlZDoge1xuICAgIGNoYXRncHQ6IHtcbiAgICAgIGNvbnRlbnQ6IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhPy5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ7XG5cbiAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5mYWlsZWRfcmVxdWVzdCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlkID0gZGF0YS5pZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgaW1hZ2U6IChkYXRhKSA9PiB7XG4gICAgICAgIGxldCB1cmwgPSBkYXRhPy5kYXRhPy5bMF0/LnVybDtcblxuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgIHVybCA9IGRhdGE/LmRhdGE/LlswXT8uYjY0X2pzb247XG5cbiAgICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5mYWlsZWRfcmVxdWVzdCcpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cmwgPSBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LCR7dXJsfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgY2hhdGdwdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCl9YCxcbiAgICAgICAgICB1cmwsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgY2xhdWRlOiB7XG4gICAgICBjb250ZW50OiAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YT8uY29udGVudD8uWzBdPy50ZXh0O1xuXG4gICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuZmFpbGVkX3JlcXVlc3QnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZCA9IGRhdGEuaWQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIGdlbWluaToge1xuICAgICAgY29udGVudDogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRhdGE/LmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LlswXT8udGV4dDtcblxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogYGdlbWluaS0ke0RhdGUubm93KCl9LSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCl9YCxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGltYWdlOiAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBkYXRhPy5wcmVkaWN0aW9ucz8uWzBdPy5ieXRlc0Jhc2U2NEVuY29kZWQ7XG5cbiAgICAgICAgaWYgKCFiYXNlNjQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogYGdlbWluaS0ke0RhdGUubm93KCl9LSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCl9YCxcbiAgICAgICAgICB1cmw6IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtiYXNlNjR9YCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgc3RyZWFtOiB7XG4gICAgY2hhdGdwdDoge1xuICAgICAgY29udGVudDogKG5ld0RhdGEsIGN1cnJlbnREYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gY3VycmVudERhdGE/LmNvbnRlbnQgPz8gJyc7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXdEYXRhLmNob2ljZXM/LlswXT8uZGVsdGE/LmNvbnRlbnQgfHwgJyc7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jdXJyZW50RGF0YSxcbiAgICAgICAgICBpZDogbmV3RGF0YS5pZCxcbiAgICAgICAgICBjb250ZW50OiBgJHtjdXJyZW50Q29udGVudH0ke2NvbnRlbnR9YCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjbGF1ZGU6IHtcbiAgICAgIGNvbnRlbnQ6IChuZXdEYXRhLCBjdXJyZW50RGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGN1cnJlbnREYXRhPy5jb250ZW50ID8/ICcnO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXdEYXRhLmRlbHRhPy50ZXh0IHx8ICcnO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uY3VycmVudERhdGEsXG4gICAgICAgICAgY29udGVudDogYCR7Y3VycmVudENvbnRlbnR9JHtjb250ZW50fWAsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgZ2VtaW5pOiB7XG4gICAgICBjb250ZW50OiAobmV3RGF0YSwgY3VycmVudERhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjdXJyZW50RGF0YT8uY29udGVudCA/PyAnJztcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3RGF0YS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQgfHwgJyc7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jdXJyZW50RGF0YSxcbiAgICAgICAgICBjb250ZW50OiBgJHtjdXJyZW50Q29udGVudH0ke2NvbnRlbnR9YCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn07XG5cbmNvbnN0IGVycm9ySGFuZGxlciA9IGFzeW5jIChyZXM6IFJlc3BvbnNlKSA9PiB7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgaWYgKGRhdGE/LmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlU3RyZWFtID0gYXN5bmMgKFxuICByZXM6IFJlc3BvbnNlLFxuICBzZXJ2aWNlOiBzdHJpbmcsXG4gIHBhcnNlcjogJ2NvbnRlbnQnLFxuICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICBzaWduYWw/OiBBYm9ydFNpZ25hbCxcbik6IFByb21pc2U8VGV4dERhdGE+ID0+IHtcbiAgaWYgKCFyZXMuYm9keSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkJyk7XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcbiAgbGV0IGJ1ZmZlciA9ICcnO1xuICBsZXQgY3VycmVudERhdGE6IFRleHREYXRhID0ge1xuICAgIGlkOiBgJHtzZXJ2aWNlfS0ke0RhdGUubm93KCl9LSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCl9YCxcbiAgICBjb250ZW50OiAnJyxcbiAgfTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIGJyZWFrO1xuXG4gICAgY29uc3QgY2h1bmsgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG5cbiAgICBpZiAoc2VydmljZSA9PT0gJ2dlbWluaScpIHtcbiAgICAgIGNvbnN0IGpzb25MaW5lcyA9IGNodW5rXG4gICAgICAgIC50cmltKClcbiAgICAgICAgLnNwbGl0KCcsXFxyXFxuJylcbiAgICAgICAgLm1hcCgobGluZSkgPT4gbGluZS5yZXBsYWNlKC9eXFxbfF0kL2csICcnKSlcbiAgICAgICAgLmZpbHRlcigobGluZSkgPT4gbGluZS50cmltKCkgIT09ICcnKTtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBqc29uTGluZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICBjdXJyZW50RGF0YSA9IHNlcnZpY2VzLnN0cmVhbVtzZXJ2aWNlXVtwYXJzZXJdKHBhcnNlZERhdGEsIGN1cnJlbnREYXRhKTtcbiAgICAgICAgICBpZiAob25DaHVua1N0cmVhbSkge1xuICAgICAgICAgICAgb25DaHVua1N0cmVhbShjdXJyZW50RGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvKiBlbXB0eSAqL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlcnZpY2UgPT09ICdjaGF0Z3B0Jykge1xuICAgICAgYnVmZmVyICs9IGNodW5rO1xuXG4gICAgICBsZXQgbGFzdE5ld2xpbmVJbmRleCA9IDA7XG4gICAgICBsZXQgbmV3bGluZUluZGV4O1xuXG4gICAgICB3aGlsZSAoKG5ld2xpbmVJbmRleCA9IGJ1ZmZlci5pbmRleE9mKCdcXG4nLCBsYXN0TmV3bGluZUluZGV4KSkgIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBidWZmZXIuc2xpY2UobGFzdE5ld2xpbmVJbmRleCwgbmV3bGluZUluZGV4KS50cmltKCk7XG4gICAgICAgIGxhc3ROZXdsaW5lSW5kZXggPSBuZXdsaW5lSW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ2RhdGE6ICcpKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGxpbmUuc2xpY2UoNik7XG5cbiAgICAgICAgICBpZiAoZGF0YSA9PT0gJ1tET05FXScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGN1cnJlbnREYXRhID0gc2VydmljZXMuc3RyZWFtW3NlcnZpY2VdW3BhcnNlcl0ocGFyc2VkRGF0YSwgY3VycmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKG9uQ2h1bmtTdHJlYW0pIHtcbiAgICAgICAgICAgICAgb25DaHVua1N0cmVhbShjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvKiBlbXB0eSAqL1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UobGFzdE5ld2xpbmVJbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKHNlcnZpY2UgPT09ICdjbGF1ZGUnKSB7XG4gICAgICBidWZmZXIgKz0gY2h1bms7XG5cbiAgICAgIGxldCBsYXN0TmV3bGluZUluZGV4ID0gMDtcbiAgICAgIGxldCBuZXdsaW5lSW5kZXg7XG5cbiAgICAgIHdoaWxlICgobmV3bGluZUluZGV4ID0gYnVmZmVyLmluZGV4T2YoJ1xcbicsIGxhc3ROZXdsaW5lSW5kZXgpKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGJ1ZmZlci5zbGljZShsYXN0TmV3bGluZUluZGV4LCBuZXdsaW5lSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgbGFzdE5ld2xpbmVJbmRleCA9IG5ld2xpbmVJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTogJykpIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gbGluZS5zbGljZSg2KTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWREYXRhLnR5cGUgPT09ICdtZXNzYWdlX3N0YXJ0Jykge1xuICAgICAgICAgICAgICBjdXJyZW50RGF0YS5pZCA9IHBhcnNlZERhdGEubWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXJzZWREYXRhLnR5cGUgIT09ICdjb250ZW50X2Jsb2NrX2RlbHRhJykge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudERhdGEgPSBzZXJ2aWNlcy5zdHJlYW1bc2VydmljZV1bcGFyc2VyXShwYXJzZWREYXRhLCBjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAob25DaHVua1N0cmVhbSkge1xuICAgICAgICAgICAgICBvbkNodW5rU3RyZWFtKGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8qIGVtcHR5ICovXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShsYXN0TmV3bGluZUluZGV4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3VycmVudERhdGE7XG59O1xuXG5jb25zdCBzZXJ2aWNlRXhlY3V0b3IgPSBhc3luYyA8RCBleHRlbmRzIFNlcnZpY2VSZXNwb25zZT4oXG4gIGRldGFpbHM6IEV4ZWN1dG9yRGF0YSxcbiAgb25DaHVua1N0cmVhbT86IENodW5rU3RyZWFtPEQ+LFxuICBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyLFxuKTogUHJvbWlzZTxEPiA9PiB7XG4gIGlmICh0eXBlb2YgZGV0YWlscyAhPT0gJ29iamVjdCcgfHwgIWRldGFpbHMuZm9yRXhlY3V0b3IpIHtcbiAgICByZXR1cm4gZGV0YWlscyBhcyB1bmtub3duIGFzIEQ7XG4gIH1cblxuICBjb25zdCBleGVjdXRvckRldGFpbHMgPSBkZXRhaWxzLmZvckV4ZWN1dG9yO1xuXG4gIGNvbnRyb2xsZXIgPSAhY29udHJvbGxlciA/IG5ldyBBYm9ydENvbnRyb2xsZXIoKSA6IGNvbnRyb2xsZXI7XG4gIGNvbnN0IHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuXG4gIGNvbnN0IGNhbGxTZXJ2aWNlID0gYXN5bmMgKGRldGFpbHM6IEZvckV4ZWN1dG9yKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goZGV0YWlscy51cmwsIHtcbiAgICAgIHNpZ25hbCxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogZGV0YWlscy5ib2R5LFxuICAgICAgaGVhZGVyczogZGV0YWlscy5oZWFkZXJzLFxuICAgIH0pO1xuXG4gICAgYXdhaXQgZXJyb3JIYW5kbGVyKHJlcyk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBjb25zdCBjYWxsU3RyZWFtU2VydmljZSA9IGFzeW5jIChkZXRhaWxzOiBGb3JFeGVjdXRvcikgPT4ge1xuICAgIGlmIChleGVjdXRvckRldGFpbHMucGFyc2VyICE9PSAnY29udGVudCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuc2VydmljZV91bnN1cHBvcnRlZCcpKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChkZXRhaWxzLnVybCwge1xuICAgICAgc2lnbmFsLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBkZXRhaWxzLmJvZHksXG4gICAgICBoZWFkZXJzOiBkZXRhaWxzLmhlYWRlcnMsXG4gICAgfSk7XG5cbiAgICBhd2FpdCBlcnJvckhhbmRsZXIocmVzKTtcblxuICAgIHJldHVybiBoYW5kbGVTdHJlYW0oXG4gICAgICByZXMsXG4gICAgICBleGVjdXRvckRldGFpbHMuc2VydmljZSxcbiAgICAgIGV4ZWN1dG9yRGV0YWlscy5wYXJzZXIsXG4gICAgICBvbkNodW5rU3RyZWFtIGFzIENodW5rU3RyZWFtPFRleHREYXRhPixcbiAgICApO1xuICB9O1xuXG4gIGlmICghZXhlY3V0b3JEZXRhaWxzLnNlcnZpY2UgfHwgIWV4ZWN1dG9yRGV0YWlscy5wYXJzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfcmVxdWlyZWQnKSk7XG4gIH1cblxuICBpZiAoXG4gICAgIXNlcnZpY2VzW2V4ZWN1dG9yRGV0YWlscy5zdHJlYW0gPyAnc3RyZWFtJyA6ICgnYnVmZmVyZWQnIGFzIEJ1ZmZlck1vZGUpXT8uW1xuICAgICAgZXhlY3V0b3JEZXRhaWxzLnNlcnZpY2UgYXMgU2VydmljZVR5cGVcbiAgICBdPy5bZXhlY3V0b3JEZXRhaWxzLnBhcnNlciBhcyBrZXlvZiBTZXJ2aWNlSGFuZGxlcnNbQnVmZmVyTW9kZV1bU2VydmljZVR5cGVdXVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gIH1cblxuICBpZiAoZXhlY3V0b3JEZXRhaWxzLnN0cmVhbSkge1xuICAgIHJldHVybiBjYWxsU3RyZWFtU2VydmljZShleGVjdXRvckRldGFpbHMpIGFzIFByb21pc2U8RD47XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgY2FsbFNlcnZpY2UoZXhlY3V0b3JEZXRhaWxzKTtcbiAgcmV0dXJuIHNlcnZpY2VzWydidWZmZXJlZCddW2V4ZWN1dG9yRGV0YWlscy5zZXJ2aWNlIGFzIFNlcnZpY2VUeXBlXVtcbiAgICBleGVjdXRvckRldGFpbHMucGFyc2VyIGFzIGtleW9mIFNlcnZpY2VIYW5kbGVyc1snYnVmZmVyZWQnXVtTZXJ2aWNlVHlwZV1cbiAgXShkYXRhKSBhcyBEO1xufTtcblxuY29uc3QgbW9keEZldGNoID0gYXN5bmMgPFI+KGFjdGlvbjogc3RyaW5nLCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke21vZEFJLmFwaVVSTH0/YWN0aW9uPSR7YWN0aW9ufWAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXJhbXMpLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKCFyZXMub2spIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZGV0YWlsKTtcbiAgfVxuXG4gIHJldHVybiAoYXdhaXQgcmVzLmpzb24oKSkgYXMgUjtcbn07XG5cbmNvbnN0IGFpRmV0Y2ggPSBhc3luYyA8RCBleHRlbmRzIFNlcnZpY2VSZXNwb25zZT4oXG4gIGFjdGlvbjogc3RyaW5nLFxuICBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08RD4sXG4gIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIsXG4pOiBQcm9taXNlPEQ+ID0+IHtcbiAgY29udHJvbGxlciA9ICFjb250cm9sbGVyID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogY29udHJvbGxlcjtcbiAgY29uc3Qgc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7bW9kQUkuYXBpVVJMfT9hY3Rpb249JHthY3Rpb259YCwge1xuICAgIHNpZ25hbCxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXJhbXMpLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKCFyZXMub2spIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZGV0YWlsKTtcbiAgfVxuXG4gIGNvbnN0IHNlcnZpY2UgPSByZXMuaGVhZGVycy5nZXQoJ3gtbW9kYWktc2VydmljZScpID8/ICdjaGF0Z3B0JztcbiAgY29uc3QgcGFyc2VyID0gcmVzLmhlYWRlcnMuZ2V0KCd4LW1vZGFpLXBhcnNlcicpID8/ICdjb250ZW50JztcbiAgY29uc3Qgc3RyZWFtID0gcGFyc2VJbnQocmVzLmhlYWRlcnMuZ2V0KCd4LW1vZGFpLXN0cmVhbScpID8/ICcwJykgPT09IDE7XG4gIGNvbnN0IHByb3h5ID0gcGFyc2VJbnQocmVzLmhlYWRlcnMuZ2V0KCd4LW1vZGFpLXByb3h5JykgPz8gJzAnKSA9PT0gMTtcblxuICBpZiAoIXByb3h5KSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHNlcnZpY2VFeGVjdXRvcjxEPihkYXRhLCBvbkNodW5rU3RyZWFtLCBjb250cm9sbGVyKTtcbiAgfVxuXG4gIGlmICghc2VydmljZSB8fCAhcGFyc2VyKSB7XG4gICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuc2VydmljZV9yZXF1aXJlZCcpKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhc2VydmljZXNbc3RyZWFtID8gJ3N0cmVhbScgOiAoJ2J1ZmZlcmVkJyBhcyBCdWZmZXJNb2RlKV0/LltzZXJ2aWNlIGFzIFNlcnZpY2VUeXBlXT8uW1xuICAgICAgcGFyc2VyIGFzIGtleW9mIFNlcnZpY2VIYW5kbGVyc1tCdWZmZXJNb2RlXVtTZXJ2aWNlVHlwZV1cbiAgICBdXG4gICkge1xuICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gIH1cblxuICBpZiAoIXN0cmVhbSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBzZXJ2aWNlc1snYnVmZmVyZWQnXVtzZXJ2aWNlIGFzIFNlcnZpY2VUeXBlXVtcbiAgICAgIHBhcnNlciBhcyBrZXlvZiBTZXJ2aWNlSGFuZGxlcnNbJ2J1ZmZlcmVkJ11bU2VydmljZVR5cGVdXG4gICAgXShkYXRhKSBhcyBEO1xuICB9XG5cbiAgaWYgKHBhcnNlciAhPT0gJ2NvbnRlbnQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5zZXJ2aWNlX3Vuc3VwcG9ydGVkJykpO1xuICB9XG5cbiAgcmV0dXJuIChhd2FpdCBoYW5kbGVTdHJlYW0oXG4gICAgcmVzLFxuICAgIHNlcnZpY2UsXG4gICAgcGFyc2VyLFxuICAgIG9uQ2h1bmtTdHJlYW0gYXMgQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICAgIHNpZ25hbCxcbiAgKSkgYXMgRDtcbn07XG5cbmV4cG9ydCBjb25zdCBleGVjdXRvciA9IHtcbiAgbWdyOiB7XG4gICAgZG93bmxvYWQ6IHtcbiAgICAgIGltYWdlOiBhc3luYyAocGFyYW1zOiBEb3dubG9hZEltYWdlUGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBtb2R4RmV0Y2g8eyB1cmw6IHN0cmluZzsgZnVsbFVybDogc3RyaW5nIH0+KCdEb3dubG9hZFxcXFxJbWFnZScsIHBhcmFtcyk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgcHJvbXB0OiB7XG4gICAgICBmcmVlVGV4dDogYXN5bmMgKFxuICAgICAgICBwYXJhbXM6IEZyZWVUZXh0UGFyYW1zLFxuICAgICAgICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICAgICAgICBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyLFxuICAgICAgKSA9PiB7XG4gICAgICAgIHJldHVybiBhaUZldGNoKCdQcm9tcHRcXFxcRnJlZVRleHQnLCBwYXJhbXMsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgICAgfSxcbiAgICAgIHRleHQ6IGFzeW5jIChcbiAgICAgICAgcGFyYW1zOiBUZXh0UGFyYW1zLFxuICAgICAgICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICAgICAgICBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyLFxuICAgICAgKSA9PiB7XG4gICAgICAgIHJldHVybiBhaUZldGNoKCdQcm9tcHRcXFxcVGV4dCcsIHBhcmFtcywgb25DaHVua1N0cmVhbSwgY29udHJvbGxlcik7XG4gICAgICB9LFxuICAgICAgdmlzaW9uOiBhc3luYyAoXG4gICAgICAgIHBhcmFtczogVmlzaW9uUGFyYW1zLFxuICAgICAgICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICAgICAgICBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyLFxuICAgICAgKSA9PiB7XG4gICAgICAgIHJldHVybiBhaUZldGNoKCdQcm9tcHRcXFxcVmlzaW9uJywgcGFyYW1zLCBvbkNodW5rU3RyZWFtLCBjb250cm9sbGVyKTtcbiAgICAgIH0sXG4gICAgICBpbWFnZTogYXN5bmMgKHBhcmFtczogSW1hZ2VQYXJhbXMsIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGFpRmV0Y2g8SW1hZ2VEYXRhPignUHJvbXB0XFxcXEltYWdlJywgcGFyYW1zLCB1bmRlZmluZWQsIGNvbnRyb2xsZXIpO1xuICAgICAgfSxcbiAgICB9LFxuICB9LFxufTtcbiIsInR5cGUgQ2FjaGU8QyA9IHVua25vd24+ID0ge1xuICB2aXNpYmxlOiBudW1iZXI7XG4gIHZhbHVlczogc3RyaW5nW107XG4gIGNvbnRleHQ6IEM7XG4gIHN5bmNVST86IChkYXRhOiBEYXRhT3V0cHV0PEM+LCBub1N0b3JlPzogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCB0eXBlIERhdGFPdXRwdXQ8QyA9IHVua25vd24+ID0ge1xuICB2YWx1ZTogc3RyaW5nO1xuICBuZXh0U3RhdHVzOiBib29sZWFuO1xuICBwcmV2U3RhdHVzOiBib29sZWFuO1xuICBjdXJyZW50OiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIGNvbnRleHQ6IEM7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgX2NhY2hlOiBSZWNvcmQ8c3RyaW5nLCBDYWNoZTxhbnk+PiA9IHt9O1xuXG5leHBvcnQgY29uc3QgaGlzdG9yeSA9IHtcbiAgX2Zvcm1hdE91dHB1dChrZXk6IHN0cmluZywgdmFsdWU/OiBzdHJpbmcpOiBEYXRhT3V0cHV0IHtcbiAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICBjb25zdCBwcmV2U3RhdHVzID0gY2FjaGVkSXRlbS52aXNpYmxlID4gMDtcbiAgICBjb25zdCBuZXh0U3RhdHVzID0gY2FjaGVkSXRlbS52aXNpYmxlICE9PSBjYWNoZWRJdGVtLnZhbHVlcy5sZW5ndGggLSAxO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiAoY2FjaGVkSXRlbS52YWx1ZXNbY2FjaGVkSXRlbS52aXNpYmxlXSA/PyBudWxsKSxcbiAgICAgIG5leHRTdGF0dXMsXG4gICAgICBwcmV2U3RhdHVzLFxuICAgICAgY3VycmVudDogY2FjaGVkSXRlbS52aXNpYmxlICsgMSxcbiAgICAgIHRvdGFsOiBjYWNoZWRJdGVtLnZhbHVlcy5sZW5ndGgsXG4gICAgICBjb250ZXh0OiBjYWNoZWRJdGVtLmNvbnRleHQsXG4gICAgfTtcbiAgfSxcbiAgaW5zZXJ0KGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBub1N0b3JlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICBpZiAoIW5vU3RvcmUpIHtcbiAgICAgIGNhY2hlZEl0ZW0udmlzaWJsZSA9IGNhY2hlZEl0ZW0udmFsdWVzLnB1c2godmFsdWUpIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBvdXRwdXQgPSB0aGlzLl9mb3JtYXRPdXRwdXQoa2V5LCB2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBjYWNoZWRJdGVtLnN5bmNVSSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FjaGVkSXRlbS5zeW5jVUkob3V0cHV0LCBub1N0b3JlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuICBuZXh0KGtleTogc3RyaW5nKSB7XG4gICAgY29uc3QgY2FjaGVkSXRlbSA9IF9jYWNoZVtrZXldO1xuXG4gICAgaWYgKGNhY2hlZEl0ZW0udmlzaWJsZSA9PT0gY2FjaGVkSXRlbS52YWx1ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuICAgIH1cblxuICAgIGNhY2hlZEl0ZW0udmlzaWJsZSsrO1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gdGhpcy5fZm9ybWF0T3V0cHV0KGtleSk7XG5cbiAgICBpZiAodHlwZW9mIGNhY2hlZEl0ZW0uc3luY1VJID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRJdGVtLnN5bmNVSShvdXRwdXQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sXG4gIHByZXYoa2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICBpZiAoY2FjaGVkSXRlbS52aXNpYmxlIDw9IDApIHtcbiAgICAgIHJldHVybiB0aGlzLl9mb3JtYXRPdXRwdXQoa2V5KTtcbiAgICB9XG5cbiAgICBjYWNoZWRJdGVtLnZpc2libGUtLTtcblxuICAgIGNvbnN0IG91dHB1dCA9IHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuXG4gICAgaWYgKHR5cGVvZiBjYWNoZWRJdGVtLnN5bmNVSSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FjaGVkSXRlbS5zeW5jVUkob3V0cHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuICBpbml0PEM+KFxuICAgIGtleTogc3RyaW5nLFxuICAgIHN5bmNVST86IChkYXRhOiBEYXRhT3V0cHV0PEM+LCBub1N0b3JlPzogYm9vbGVhbikgPT4gdm9pZCxcbiAgICBpbml0VmFsdWU/OiBzdHJpbmcsXG4gICAgY29udGV4dD86IEMsXG4gICkge1xuICAgIGlmICghX2NhY2hlW2tleV0pIHtcbiAgICAgIF9jYWNoZVtrZXldID0ge1xuICAgICAgICB2aXNpYmxlOiAtMSxcbiAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgIH0gYXMgQ2FjaGU8Qz47XG4gICAgfVxuXG4gICAgKF9jYWNoZVtrZXldIGFzIENhY2hlPEM+KS5zeW5jVUkgPSBzeW5jVUk7XG5cbiAgICBpZiAoaW5pdFZhbHVlKSB7XG4gICAgICBfY2FjaGVba2V5XS52YWx1ZXMgPSBbaW5pdFZhbHVlXTtcbiAgICAgIF9jYWNoZVtrZXldLnZpc2libGUgPSAwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjYWNoZWRJdGVtOiBfY2FjaGVba2V5XSBhcyBDYWNoZTxDPixcbiAgICAgIGdldERhdGE6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuICAgICAgfSxcbiAgICAgIGdldEFsbDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NhY2hlW2tleV0udmFsdWVzO1xuICAgICAgfSxcbiAgICAgIHN5bmNVSTogKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIF9jYWNoZVtrZXldLnN5bmNVSSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIF9jYWNoZVtrZXldLnN5bmNVSSh0aGlzLl9mb3JtYXRPdXRwdXQoa2V5KSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5zZXJ0OiAodmFsdWU6IHN0cmluZywgbm9TdG9yZTogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydChrZXksIHZhbHVlLCBub1N0b3JlKTtcbiAgICAgIH0sXG4gICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQoa2V5KTtcbiAgICAgIH0sXG4gICAgICBwcmV2OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXYoa2V5KTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgdHlwZSB7IE1vZGFsIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBpbml0RHJhZyA9IChlOiBNb3VzZUV2ZW50LCBtb2RhbDogTW9kYWwpID0+IHtcbiAgbW9kYWwuaXNEcmFnZ2luZyA9IHRydWU7XG5cbiAgY29uc3QgcmVjdCA9IG1vZGFsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIG1vZGFsLm9mZnNldFggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gIG1vZGFsLm9mZnNldFkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcblxuICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG59O1xuXG5leHBvcnQgY29uc3QgZHJhZyA9IChlOiBNb3VzZUV2ZW50LCBtb2RhbDogTW9kYWwpID0+IHtcbiAgaWYgKCFtb2RhbC5pc0RyYWdnaW5nKSByZXR1cm47XG5cbiAgY29uc3QgbmV3WCA9IGUuY2xpZW50WCAtIG1vZGFsLm9mZnNldFg7XG4gIGNvbnN0IG5ld1kgPSBlLmNsaWVudFkgLSBtb2RhbC5vZmZzZXRZO1xuXG4gIG1vZGFsLnN0eWxlLmxlZnQgPSBuZXdYICsgJ3B4JztcbiAgbW9kYWwuc3R5bGUudG9wID0gbmV3WSArICdweCc7XG5cbiAgbW9kYWwuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuZERyYWcgPSAobW9kYWw6IE1vZGFsKSA9PiB7XG4gIG1vZGFsLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJyc7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGFwcGx5U3R5bGVzID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzdHlsZU9iajogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPikgPT4ge1xuICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlT2JqKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50ID0gPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KFxuICB0eXBlOiBLLFxuICBzdHlsZU9iaj86IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4sXG4gIHRleHRDb250ZW50OiBzdHJpbmcgPSAnJyxcbik6IEhUTUxFbGVtZW50VGFnTmFtZU1hcFtLXSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gIGlmIChzdHlsZU9iaikge1xuICAgIGFwcGx5U3R5bGVzKGVsZW1lbnQsIHN0eWxlT2JqKTtcbiAgfVxuXG4gIGlmICh0ZXh0Q29udGVudCkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IG5sVG9CciA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIC88W14+XSo+L2cudGVzdChjb250ZW50KSA/IGNvbnRlbnQgOiBjb250ZW50LnJlcGxhY2UoL1xcclxcbnxcXG58XFxyL2csICc8YnI+Jyk7XG59O1xuIiwiaW1wb3J0IHsgYXBwbHlTdHlsZXMsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NoYXRIaXN0b3J5JztcblxudHlwZSBBY3Rpb25CdXR0b25Db25maWcgPSB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGljb246IGtleW9mIHR5cGVvZiBpY29ucztcbiAgbWVzc2FnZTogTWVzc2FnZTtcbiAgbG9hZGluZ1RleHQ/OiBzdHJpbmc7XG4gIGNvbXBsZXRlZFRleHQ/OiBzdHJpbmc7XG4gIG1vZGFsOiBNb2RhbDtcbiAgY29tcGxldGVkVGV4dER1cmF0aW9uPzogbnVtYmVyO1xuICBvbkNsaWNrOiAobXNnOiBNZXNzYWdlLCBtb2RhbDogTW9kYWwpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBBY3Rpb25CdXR0b24gPSBIVE1MQnV0dG9uRWxlbWVudCAmIHtcbiAgZGlzYWJsZT86ICgpID0+IHZvaWQ7XG4gIGVuYWJsZT86ICgpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBkZWZhdWx0Q29uZmlnOiBQYXJ0aWFsPEFjdGlvbkJ1dHRvbkNvbmZpZz4gPSB7XG4gIGxvYWRpbmdUZXh0OiAnTG9hZGluZy4uLicsXG4gIGNvbXBsZXRlZFRleHQ6ICdDb21wbGV0ZWQhJyxcbiAgY29tcGxldGVkVGV4dER1cmF0aW9uOiAyMDAwLFxuICBkaXNhYmxlZDogZmFsc2UsXG59O1xuXG5jb25zdCBzdHlsZXMgPSB7XG4gIGFjdGlvbkJ1dHRvbjoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZGYyZjcnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjY2JkNWUwJyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIHBhZGRpbmc6ICczcHggOHB4JyxcbiAgICBmb250U2l6ZTogJzEycHgnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBjb2xvcjogJyM0YTU1NjgnLFxuICAgIG9wYWNpdHk6ICcxJyxcbiAgfSxcbiAgaWNvbjoge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIHdpZHRoOiAnMTRweCcsXG4gICAgaGVpZ2h0OiAnMTRweCcsXG4gICAgbWFyZ2luUmlnaHQ6ICc1cHgnLFxuICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgfSxcbiAgZGlzYWJsZWRCdXR0b246IHtcbiAgICBvcGFjaXR5OiAnMC41JyxcbiAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCcsXG4gIH0sXG59IHNhdGlzZmllcyBSZWNvcmQ8c3RyaW5nLCBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+PjtcblxuY29uc3QgaWNvbnMgPSB7XG4gIGNvcHk6IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgZmlsbD0nJTIzNGE1NTY4JyB2aWV3Qm94PScwIDAgMTYgMTYnJTNFJTNDcGF0aCBkPSdNNCAxLjVIM2EyIDIgMCAwIDAtMiAyVjE0YTIgMiAwIDAgMCAyIDJoMTBhMiAyIDAgMCAwIDItMlYzLjVhMiAyIDAgMCAwLTItMmgtMXYxaDFhMSAxIDAgMCAxIDEgMVYxNGExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVYzLjVhMSAxIDAgMCAxIDEtMWgxdi0xeicvJTNFJTNDcGF0aCBkPSdNOS41IDFhLjUuNSAwIDAgMSAuNS41djFhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTFhLjUuNSAwIDAgMSAuNS0uNWgzem0tMy0xQTEuNSAxLjUgMCAwIDAgNSAxLjV2MUExLjUgMS41IDAgMCAwIDYuNSA0aDNBMS41IDEuNSAwIDAgMCAxMSAyLjV2LTFBMS41IDEuNSAwIDAgMCA5LjUgMGgtM3onLyUzRSUzQy9zdmclM0VcIixcbiAgaW5zZXJ0OlxuICAgIFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgZmlsbD0nJTIzNGE1NTY4JyB2aWV3Qm94PScwIDAgMTYgMTYnJTNFJTNDcGF0aCBkPSdNOCAxNUE3IDcgMCAxIDEgOCAxYTcgNyAwIDAgMSAwIDE0em0wIDFBOCA4IDAgMSAwIDggMGE4IDggMCAwIDAgMCAxNnonLyUzRSUzQ3BhdGggZD0nTTggNGEuNS41IDAgMCAxIC41LjV2M2gzYS41LjUgMCAwIDEgMCAxaC0zdjNhLjUuNSAwIDAgMS0xIDB2LTNoLTNhLjUuNSAwIDAgMSAwLTFoM3YtM0EuNS41IDAgMCAxIDggNHonLyUzRSUzQy9zdmclM0VcIixcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVBY3Rpb25CdXR0b24gPSAoY29uZmlnOiBBY3Rpb25CdXR0b25Db25maWcpID0+IHtcbiAgY29uZmlnID0ge1xuICAgIC4uLmRlZmF1bHRDb25maWcsXG4gICAgLi4uY29uZmlnLFxuICB9O1xuXG4gIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlcy5hY3Rpb25CdXR0b24pIGFzIEFjdGlvbkJ1dHRvbjtcbiAgYnV0dG9uLmNsYXNzTmFtZSA9ICdhY3Rpb24tYnV0dG9uJztcbiAgYnV0dG9uLmVuYWJsZSA9ICgpID0+IHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBhcHBseVN0eWxlcyhidXR0b24sIHN0eWxlcy5hY3Rpb25CdXR0b24pO1xuICB9O1xuICBidXR0b24uZGlzYWJsZSA9ICgpID0+IHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGFwcGx5U3R5bGVzKGJ1dHRvbiwgeyAuLi5zdHlsZXMuYWN0aW9uQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24gfSk7XG4gIH07XG5cbiAgaWYgKGNvbmZpZy5kaXNhYmxlZCkge1xuICAgIGJ1dHRvbi5kaXNhYmxlKCk7XG4gIH1cblxuICBjb25zdCBjb3B5SWNvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgLi4uc3R5bGVzLmljb24sXG4gICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtpY29uc1tjb25maWcuaWNvbl19XCIpYCxcbiAgfSk7XG4gIGJ1dHRvbi5hcHBlbmQoY29weUljb24pO1xuXG4gIGJ1dHRvbi5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29uZmlnLmxhYmVsKSk7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbEhUTUwgPSBidXR0b24uaW5uZXJIVE1MO1xuICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZy5vbkNsaWNrKGNvbmZpZy5tZXNzYWdlLCBjb25maWcubW9kYWwpO1xuXG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEycHg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICAgICAgICAgIFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogM3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcbiAgICAgICAgICAgICAgICAgICAgXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogM3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xuICAgICAgICAgICAgICAgICAgICBcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICR7Y29uZmlnLmxvYWRpbmdUZXh0fVxuICAgICAgICAgICAgYDtcblxuICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgICAgICAgICAgICAgICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICAgICAgYXdhaXQgcmVzdWx0O1xuXG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG5cbiAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA1cHg7XCI+4pyTPC9zcGFuPlxuICAgICAgICAgICAgICAgICR7Y29uZmlnLmNvbXBsZXRlZFRleHR9XG4gICAgICAgICAgICBgO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcbiAgICBidXR0b24uaW5uZXJIVE1MID0gb3JpZ2luYWxIVE1MO1xuICB9KTtcblxuICByZXR1cm4gYnV0dG9uO1xufTtcbiIsImV4cG9ydCBjb25zdCBzdHlsZXMgPSB7XG4gIHJlc2V0U3R5bGVzOiB7XG4gICAgbWFyZ2luOiAnMCcsXG4gICAgcGFkZGluZzogJzAnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCwgc2Fucy1zZXJpZicsXG4gIH0sXG4gIG1vZGFsT3ZlcmxheToge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHRvcDogJzAnLFxuICAgIGxlZnQ6ICcwJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgZGlzcGxheTogJ25vbmUnLFxuICAgIHpJbmRleDogJzEwMCcsXG4gIH0sXG4gIGNoYXRNb2RhbDoge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHdpZHRoOiAnMTAwMHB4JyxcbiAgICBtaW5IZWlnaHQ6ICcxNzBweCcsXG4gICAgbWF4SGVpZ2h0OiAnNjAwcHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgIGJveFNoYWRvdzogJzAgNXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjMpJyxcbiAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHpJbmRleDogJzEwMScsXG4gICAgdG9wOiAnNTAlJyxcbiAgICBsZWZ0OiAnNTAlJyxcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgIHRyYW5zaXRpb246ICdoZWlnaHQgMC4zcyBlYXNlLWluLW91dCcsXG4gIH0sXG4gIGNoYXRIZWFkZXI6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDBCNkRFJyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBwYWRkaW5nOiAnMTVweCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgY3Vyc29yOiAnbW92ZScsXG4gIH0sXG4gIGNoYXRUaXRsZToge1xuICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICBmb250U2l6ZTogJzE2cHgnLFxuICB9LFxuICBjaGF0Q29udHJvbHM6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZ2FwOiAnMTBweCcsXG4gIH0sXG4gIGNvbnRyb2xCdXR0b246IHtcbiAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgYm9yZGVyOiAnbm9uZScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgfSxcbiAgY2hhdE1lc3NhZ2VzOiB7XG4gICAgZmxleDogJzEnLFxuICAgIHBhZGRpbmc6ICcxNXB4JyxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjlmOWY5JyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIGRpc3BsYXk6ICdub25lJyxcbiAgfSxcbiAgbWVzc2FnZToge1xuICAgIG1hcmdpbkJvdHRvbTogJzIwcHgnLFxuICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB9LFxuICBhaU1lc3NhZ2U6IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3hTaGFkb3c6ICcwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjA1KScsXG4gIH0sXG4gIHVzZXJNZXNzYWdlOiB7XG4gICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgcGFkZGluZzogJzEwcHggMTVweCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzQyOTllMScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgbWFyZ2luTGVmdDogJ2F1dG8nLFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiAnNXB4JyxcbiAgfSxcbiAgbWVzc2FnZUNvbnRlbnQ6IHtcbiAgICBwYWRkaW5nOiAnMTJweCcsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgfSxcbiAgbWVzc2FnZUFjdGlvbnM6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICBnYXA6ICc4cHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmN2ZhZmMnLFxuICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3JkZXJSYWRpdXM6ICcwIDAgOHB4IDhweCcsXG4gIH0sXG4gIGFjdGlvbkJ1dHRvbjoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZGYyZjcnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjY2JkNWUwJyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIHBhZGRpbmc6ICczcHggOHB4JyxcbiAgICBmb250U2l6ZTogJzEycHgnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBjb2xvcjogJyM0YTU1NjgnLFxuICB9LFxuICBjaGF0SW5wdXQ6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgcGFkZGluZzogJzE1cHgnLFxuICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIH0sXG4gIGlucHV0Um93OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgZ2FwOiAnMTBweCcsXG4gIH0sXG4gIGlucHV0V3JhcHBlcjoge1xuICAgIGZsZXg6ICcxJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICBtaW5IZWlnaHQ6ICc0OHB4JyxcbiAgICBtYXhIZWlnaHQ6ICcxNTBweCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICB9LFxuICBpbnB1dDoge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgcGFkZGluZzogJzEycHggMTVweCcsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgIG1pbkhlaWdodDogJzQ4cHgnLFxuICAgIG1heEhlaWdodDogJzE1MHB4JyxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBjdXJzb3I6ICdpbmhlcml0JyxcbiAgfSxcbiAgYnV0dG9uc0NvbHVtbjoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBnYXA6ICc0cHgnLFxuICAgIHdpZHRoOiAnMTAwcHgnLFxuICB9LFxuICBzZW5kQnV0dG9uOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzZDQjI0QScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgYm9yZGVyOiAnbm9uZScsXG4gICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG4gICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgaGVpZ2h0OiAnNDBweCcsXG4gICAgbWluV2lkdGg6ICcxMDBweCcsXG4gICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGdhcDogJzZweCcsXG4gICAgb3BhY2l0eTogJzEnLFxuICB9LFxuICBhY3Rpb25CdXR0b25zUm93OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGdhcDogJzRweCcsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgfSxcbiAgaWNvbkJ1dHRvbjoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICB3aWR0aDogJzQ4cHgnLFxuICAgIGhlaWdodDogJzMycHgnLFxuICAgIHBhZGRpbmc6ICcwJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMnMnLFxuICAgIG9wYWNpdHk6ICcxJyxcbiAgfSxcbiAgc2VuZEljb246IHtcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgIFwidXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSd3aGl0ZSclM0UlM0NwYXRoIGQ9J00yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnonLyUzRSUzQy9zdmclM0VcXFwiKVwiLFxuICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgfSxcbiAgc3RvcEljb246IHtcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgIFwidXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjNEQzI2MjYnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J002IDZoMTJ2MTJINnonLyUzRSUzQy9zdmclM0VcXFwiKVwiLFxuICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgfSxcbiAgcmVmcmVzaEljb246IHtcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgIFwidXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSclMjM0QjU1NjMnJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0NwYXRoIGQ9J00xNy42NSA2LjM1QTcuOTU4IDcuOTU4IDAgMCAwIDEyIDRjLTQuNDIgMC03Ljk5IDMuNTgtNy45OSA4czMuNTcgOCA3Ljk5IDhjMy43MyAwIDYuODQtMi41NSA3LjczLTZoLTIuMDhBNS45OSA1Ljk5IDAgMCAxIDEyIDE4Yy0zLjMxIDAtNi0yLjY5LTYtNnMyLjY5LTYgNi02YzEuNjYgMCAzLjE0LjY5IDQuMjIgMS43OEwxMyAxMWg3VjRsLTIuMzUgMi4zNXonLyUzRSUzQy9zdmclM0VcXFwiKVwiLFxuICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgfSxcbiAgaWNvbjoge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIHdpZHRoOiAnMTRweCcsXG4gICAgaGVpZ2h0OiAnMTRweCcsXG4gICAgbWFyZ2luUmlnaHQ6ICc1cHgnLFxuICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgfSxcbiAgZGlzYWJsZWRCdXR0b246IHtcbiAgICBvcGFjaXR5OiAnMC41JyxcbiAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCcsXG4gIH0sXG4gIGxvYWRpbmdJbnB1dDoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmM2Y0ZjYnLFxuICAgIGN1cnNvcjogJ25vdC1hbGxvd2VkJyxcbiAgfSxcbiAgbG9hZGluZ0luZGljYXRvcjoge1xuICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICcwJyxcbiAgICBsZWZ0OiAnMCcsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI0MywgMjQ0LCAyNDYsIDAuOSknLFxuICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgIGNvbG9yOiAnIzZCNzI4MCcsXG4gICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgZ2FwOiAnNHB4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICB6SW5kZXg6ICcxMCcsXG4gICAgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDJweCknLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gIH0sXG4gIGxvYWRpbmdEb3Q6IHtcbiAgICB3aWR0aDogJzZweCcsXG4gICAgaGVpZ2h0OiAnNnB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjOUNBM0FGJyxcbiAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgIGFuaW1hdGlvbjogJ2xvYWRpbmdEb3RQdWxzZSAxLjRzIGluZmluaXRlJyxcbiAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgfSxcbiAgdHlwZVNlbGVjdG9yOiB7XG4gICAgcGFkZGluZzogJzVweCAxNXB4JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZ2FwOiAnMTBweCcsXG4gICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgfSxcbiAgdHlwZUxhYmVsOiB7XG4gICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICBjb2xvcjogJyM0QjU1NjMnLFxuICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICB9LFxuICB0eXBlVG9nZ2xlR3JvdXA6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZ2FwOiAnNHB4JyxcbiAgfSxcbiAgdHlwZVRvZ2dsZUJ1dHRvbjoge1xuICAgIHBhZGRpbmc6ICc2cHggMTJweCcsXG4gICAgZm9udFNpemU6ICcxM3B4JyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBjb2xvcjogJyM0QjU1NjMnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycycsXG4gICAgb3BhY2l0eTogJzEnLFxuICB9LFxuICB0eXBlVG9nZ2xlQnV0dG9uQWN0aXZlOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwQjZERScsXG4gICAgY29sb3I6ICcjZmZmJyxcbiAgICBib3JkZXJDb2xvcjogJyMwMEI2REUnLFxuICB9LFxuICBlcnJvck1lc3NhZ2U6IHtcbiAgICB3aWR0aDogJ2ZpdC1jb250ZW50JyxcbiAgICBwYWRkaW5nOiAnMTBweCAxNXB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREMyNjI2JyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBtYXJnaW5MZWZ0OiAnYXV0bycsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICc1cHgnLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBnYXA6ICc4cHgnLFxuICB9LFxuICBlcnJvckljb246IHtcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgIFwidXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSd3aGl0ZSclM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0xIDE1aC0ydi0yaDJ2MnptMC00aC0yVjdoMnY2eicvJTNFJTNDL3N2ZyUzRVxcXCIpXCIsXG4gICAgYmFja2dyb3VuZFNpemU6ICdjb250YWluJyxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLFxuICB9LFxuICBpbWFnZVByZXZpZXc6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICc1cHgnLFxuICAgIGxlZnQ6ICc1cHgnLFxuICAgIHdpZHRoOiAnNzFweCcsXG4gICAgaGVpZ2h0OiAnNzFweCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmOGZhZmMnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycyBlYXNlJyxcbiAgfSxcbiAgaW1hZ2VQcmV2aWV3SW1nOiB7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gIH0sXG4gIGltYWdlUHJldmlld1JlbW92ZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogJzAnLFxuICAgIGxlZnQ6ICcwJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIG9wYWNpdHk6ICcwJyxcbiAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UnLFxuICB9LFxufSBzYXRpc2ZpZXMgUmVjb3JkPHN0cmluZywgUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPj47XG4iLCJpbXBvcnQgeyBjcmVhdGVBY3Rpb25CdXR0b24gfSBmcm9tICcuL2FjdGlvbkJ1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVDb250ZW50SWZyYW1lIH0gZnJvbSAnLi9pZnJhbWUnO1xuaW1wb3J0IHsgc3R5bGVzIH0gZnJvbSAnLi9zdHlsZXMnO1xuaW1wb3J0IHsgZXhlY3V0b3IgfSBmcm9tICcuLi8uLi9leGVjdXRvcic7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBubFRvQnIgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwsIE1vZGFsQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UsIFVwZGF0YWJsZUhUTUxFbGVtZW50IH0gZnJvbSAnLi4vLi4vY2hhdEhpc3RvcnknO1xuaW1wb3J0IHR5cGUgeyBQcm9tcHQgfSBmcm9tICcuLi8uLi9leGVjdXRvcic7XG5cbmV4cG9ydCBjb25zdCBhZGRVc2VyTWVzc2FnZSA9IChtb2RhbDogTW9kYWwsIGNvbnRlbnQ6IFByb21wdCkgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXY6IFVwZGF0YWJsZUhUTUxFbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgIC4uLnN0eWxlcy51c2VyTWVzc2FnZSxcbiAgfSk7XG5cbiAgbGV0IHRleHRDb250ZW50O1xuICBsZXQgaW1hZ2VzQ29udGVudCA9IG51bGw7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICBjb25zdCBbdGV4dCwgLi4uaW1hZ2VzXSA9IGNvbnRlbnQ7XG4gICAgdGV4dENvbnRlbnQgPSB0ZXh0LnZhbHVlO1xuICAgIGltYWdlc0NvbnRlbnQgPSBpbWFnZXM7XG4gIH0gZWxzZSB7XG4gICAgdGV4dENvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgY29uc3QgY29udGVudFdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGdhcDogJzhweCcsXG4gIH0pO1xuXG4gIGNvbnN0IHRleHREaXYgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGV4dERpdi5pbm5lckhUTUwgPSBubFRvQnIodGV4dENvbnRlbnQpO1xuICBjb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0RGl2KTtcblxuICBpZiAoaW1hZ2VzQ29udGVudCkge1xuICAgIGNvbnN0IGltYWdlUm93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBnYXA6ICc4cHgnLFxuICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgaW1nQ29udGVudCBvZiBpbWFnZXNDb250ZW50KSB7XG4gICAgICBjb25zdCBpbWFnZVdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHdpZHRoOiAnMTAwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcxMDBweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgbWFyZ2luVG9wOiAnNHB4JyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbWcgPSBjcmVhdGVFbGVtZW50KCdpbWcnLCB7XG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgICB9KTtcbiAgICAgIGltZy5zcmMgPSBpbWdDb250ZW50LnZhbHVlO1xuXG4gICAgICBpbWFnZVdyYXBwZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgIGltYWdlUm93LmFwcGVuZENoaWxkKGltYWdlV3JhcHBlcik7XG4gICAgfVxuICAgIGNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKGltYWdlUm93KTtcbiAgfVxuXG4gIG1lc3NhZ2VEaXYuYXBwZW5kQ2hpbGQoY29udGVudFdyYXBwZXIpO1xuXG4gIG1lc3NhZ2VEaXYudXBkYXRlID0gKG1zZykgPT4ge1xuICAgIGNvbnN0IHRleHRDb250ZW50ID0gQXJyYXkuaXNBcnJheShtc2cuY29udGVudCkgPyBtc2cuY29udGVudFswXS52YWx1ZSA6IG1zZy5jb250ZW50O1xuICAgIHRleHREaXYuaW5uZXJIVE1MID0gbmxUb0JyKHRleHRDb250ZW50KTtcbiAgfTtcblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XG4gIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuXG4gIHJldHVybiBtZXNzYWdlRGl2O1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEVycm9yTWVzc2FnZSA9IChtb2RhbDogTW9kYWwsIGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXYgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgLi4uc3R5bGVzLm1lc3NhZ2UsXG4gICAgLi4uc3R5bGVzLmVycm9yTWVzc2FnZSxcbiAgfSk7XG5cbiAgY29uc3QgZXJyb3JJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5lcnJvckljb24pO1xuICBtZXNzYWdlRGl2LmFwcGVuZENoaWxkKGVycm9ySWNvbik7XG5cbiAgY29uc3QgdGV4dFNwYW4gPSBjcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHRleHRTcGFuLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgbWVzc2FnZURpdi5hcHBlbmRDaGlsZCh0ZXh0U3Bhbik7XG5cbiAgbW9kYWwuY2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1lc3NhZ2VEaXYpO1xuICBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcblxuICByZXR1cm4gbWVzc2FnZURpdjtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRBc3Npc3RhbnRNZXNzYWdlID0gKFxuICBtb2RhbDogTW9kYWwsXG4gIGNvbnRlbnQ6IFByb21wdCxcbiAgY29uZmlnOiBNb2RhbENvbmZpZyxcbiAgcHJvdmlkZWRJZD86IHN0cmluZyxcbikgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXY6IFVwZGF0YWJsZUhUTUxFbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgIC4uLnN0eWxlcy5haU1lc3NhZ2UsXG4gIH0pO1xuXG4gIGNvbnN0IG1lc3NhZ2VJZCA9IHByb3ZpZGVkSWQgfHwgJ21zZy0nICsgRGF0ZS5ub3coKTtcblxuICBjb25zdCBjb250ZW50RGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1lc3NhZ2VDb250ZW50KTtcblxuICBjb25zdCB0ZXh0Q29udGVudCA9IEFycmF5LmlzQXJyYXkoY29udGVudCkgPyBjb250ZW50WzBdLnZhbHVlIDogY29udGVudDtcbiAgY29uc3QgaWZyYW1lID0gY3JlYXRlQ29udGVudElmcmFtZSh0ZXh0Q29udGVudCwgbW9kYWwsIGNvbmZpZy5jdXN0b21DU1MgPz8gW10pO1xuXG4gIGNvbnRlbnREaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblxuICBjb25zdCBhY3Rpb25zRGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1lc3NhZ2VBY3Rpb25zKTtcblxuICBjb25zdCBtZXNzYWdlID0gbW9kYWwuaGlzdG9yeVxuICAgIC5nZXRNZXNzYWdlcygpXG4gICAgLmZpbmQoKG0pID0+IG0uaWQgPT09IG1lc3NhZ2VJZCAmJiBtLnJvbGUgPT09ICdhc3Npc3RhbnQnKTtcblxuICBpZiAobWVzc2FnZSkge1xuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBpZiAoY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ICE9PSBmYWxzZSkge1xuICAgICAgICBhY3Rpb25zRGl2LmFwcGVuZChcbiAgICAgICAgICBjcmVhdGVBY3Rpb25CdXR0b24oe1xuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIG1vZGFsLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IG1vZGFsLmlzTG9hZGluZyxcbiAgICAgICAgICAgIGljb246ICdjb3B5JyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ29weScsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnQ29waWVkIScsXG4gICAgICAgICAgICBvbkNsaWNrOlxuICAgICAgICAgICAgICB0eXBlb2YgY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjb25maWcudGV4dEFjdGlvbnMuY29weVxuICAgICAgICAgICAgICAgIDogY29weVRvQ2xpcGJvYXJkLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50ZXh0QWN0aW9ucz8uaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFjdGlvbnNEaXYuYXBwZW5kKFxuICAgICAgICAgIGNyZWF0ZUFjdGlvbkJ1dHRvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgbW9kYWwsXG4gICAgICAgICAgICBkaXNhYmxlZDogbW9kYWwuaXNMb2FkaW5nLFxuICAgICAgICAgICAgaWNvbjogJ2luc2VydCcsXG4gICAgICAgICAgICBsYWJlbDogJ0luc2VydCcsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnSW5zZXJ0ZWQhJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGNvbmZpZy50ZXh0QWN0aW9ucy5pbnNlcnQsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBpZiAoY29uZmlnLmltYWdlQWN0aW9ucz8uY29weSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYWN0aW9uc0Rpdi5hcHBlbmQoXG4gICAgICAgICAgY3JlYXRlQWN0aW9uQnV0dG9uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBtb2RhbCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBtb2RhbC5pc0xvYWRpbmcsXG4gICAgICAgICAgICBpY29uOiAnY29weScsXG4gICAgICAgICAgICBsYWJlbDogJ0NvcHknLFxuICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICdEb3dubG9hZGluZy4uLicsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnQ29waWVkIScsXG4gICAgICAgICAgICBvbkNsaWNrOiBhc3luYyAobXNnLCBtb2RhbCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICA/IGNvbmZpZy50ZXh0QWN0aW9ucy5jb3B5XG4gICAgICAgICAgICAgICAgICA6IGNvcHlUb0NsaXBib2FyZDtcblxuICAgICAgICAgICAgICBpZiAobXNnLmN0eC5kb3dubG9hZGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihtc2csIG1vZGFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGV4ZWN1dG9yLm1nci5kb3dubG9hZC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgdXJsOiBtc2cuY29udGVudCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgZmllbGQ6IGNvbmZpZy5maWVsZCxcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGNvbmZpZy5uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IGNvbmZpZy5yZXNvdXJjZSxcbiAgICAgICAgICAgICAgICBtZWRpYVNvdXJjZTogY29uZmlnLmltYWdlPy5tZWRpYVNvdXJjZSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgbXNnLmNvbnRlbnQgPSBkYXRhLmZ1bGxVcmw7XG4gICAgICAgICAgICAgIG1zZy5jdHguZG93bmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG1zZy5jdHgudXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICAgIG1zZy5jdHguZnVsbFVybCA9IGRhdGEuZnVsbFVybDtcblxuICAgICAgICAgICAgICBoYW5kbGVyKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5zZXJ0Q2IgPSBjb25maWcuaW1hZ2VBY3Rpb25zPy5pbnNlcnQ7XG4gICAgICBpZiAodHlwZW9mIGluc2VydENiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFjdGlvbnNEaXYuYXBwZW5kKFxuICAgICAgICAgIGNyZWF0ZUFjdGlvbkJ1dHRvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgbW9kYWwsXG4gICAgICAgICAgICBkaXNhYmxlZDogbW9kYWwuaXNMb2FkaW5nLFxuICAgICAgICAgICAgaWNvbjogJ2luc2VydCcsXG4gICAgICAgICAgICBsYWJlbDogJ0luc2VydCcsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnSW5zZXJ0ZWQhJyxcbiAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAnRG93bmxvYWRpbmcuLi4nLFxuICAgICAgICAgICAgb25DbGljazogYXN5bmMgKG1zZywgbW9kYWwpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1zZy5jdHguZG93bmxvYWRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGluc2VydENiKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLmRvd25sb2FkLmltYWdlKHtcbiAgICAgICAgICAgICAgICB1cmw6IG1zZy5jb250ZW50IGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICBmaWVsZDogY29uZmlnLmZpZWxkLFxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogY29uZmlnLm5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogY29uZmlnLnJlc291cmNlLFxuICAgICAgICAgICAgICAgIG1lZGlhU291cmNlOiBjb25maWcuaW1hZ2U/Lm1lZGlhU291cmNlLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBtc2cuY29udGVudCA9IGRhdGEuZnVsbFVybDtcbiAgICAgICAgICAgICAgbXNnLmN0eC5kb3dubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbXNnLmN0eC51cmwgPSBkYXRhLnVybDtcbiAgICAgICAgICAgICAgbXNnLmN0eC5mdWxsVXJsID0gZGF0YS5mdWxsVXJsO1xuXG4gICAgICAgICAgICAgIGluc2VydENiKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtZXNzYWdlRGl2LmFwcGVuZChjb250ZW50RGl2LCBhY3Rpb25zRGl2KTtcblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XG4gIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuXG4gIG1lc3NhZ2VEaXYudXBkYXRlID0gKG1zZykgPT4ge1xuICAgIGNvbnN0IHRleHRDb250ZW50ID0gQXJyYXkuaXNBcnJheShtc2cuY29udGVudCkgPyBtc2cuY29udGVudFswXS52YWx1ZSA6IG1zZy5jb250ZW50O1xuICAgIGNvbnN0IGNvbnRlbnQgPSBtc2cudHlwZSA9PT0gJ2ltYWdlJyA/IGA8aW1nIHNyYz1cIiR7dGV4dENvbnRlbnR9XCIgLz5gIDogbmxUb0JyKHRleHRDb250ZW50KTtcbiAgICBpZnJhbWUuc3luY0NvbnRlbnQoY29udGVudCk7XG4gICAgaWZyYW1lLnN5bmNIZWlnaHQoKTtcbiAgfTtcblxuICByZXR1cm4gbWVzc2FnZURpdjtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJNZXNzYWdlID0gKG1zZzogTWVzc2FnZSwgbW9kYWw6IE1vZGFsLCBjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gIGlmIChtc2cuaGlkZGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG1zZy5yb2xlID09PSAndXNlcicpIHtcbiAgICByZXR1cm4gYWRkVXNlck1lc3NhZ2UobW9kYWwsIG1zZy5jb250ZW50KTtcbiAgfVxuXG4gIGlmIChtc2cudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgIHJldHVybiBhZGRBc3Npc3RhbnRNZXNzYWdlKG1vZGFsLCBgPGltZyBzcmM9XCIke21zZy5jb250ZW50fVwiIC8+YCwgY29uZmlnLCBtc2cuaWQpO1xuICB9XG5cbiAgcmV0dXJuIGFkZEFzc2lzdGFudE1lc3NhZ2UobW9kYWwsIG1zZy5jb250ZW50LCBjb25maWcsIG1zZy5pZCk7XG59O1xuXG5leHBvcnQgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UsIG1vZGFsOiBNb2RhbCkgPT4ge1xuICBjb25zdCB0ZXh0Q29udGVudCA9IEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSA/IG1lc3NhZ2UuY29udGVudFswXS52YWx1ZSA6IG1lc3NhZ2UuY29udGVudDtcblxuICBpZiAobmF2aWdhdG9yLmNsaXBib2FyZCAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0Q29udGVudCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhZGRFcnJvck1lc3NhZ2UobW9kYWwsIF8oJ21vZGFpLmNtcC5mYWlsZWRfY29weScpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dENvbnRlbnQ7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTtcbiAgICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhZGRFcnJvck1lc3NhZ2UobW9kYWwsIF8oJ21vZGFpLmNtcC5mYWlsZWRfY29weScpKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBubFRvQnIgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgSWZyYW1lID0gSFRNTElGcmFtZUVsZW1lbnQgJiB7XG4gIHN5bmNIZWlnaHQ6ICgpID0+IHZvaWQ7XG4gIHN5bmNDb250ZW50OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRlbnRJZnJhbWUgPSAoXG4gIHByb3ZpZGVkQ29udGVudDogc3RyaW5nLFxuICBtb2RhbDogTW9kYWwsXG4gIGN1c3RvbUNTUzogc3RyaW5nW10gPSBbXSxcbikgPT4ge1xuICBjb25zdCBjb250ZW50ID0gbmxUb0JyKHByb3ZpZGVkQ29udGVudCk7XG4gIGxldCBpc0xvYWRlZCA9IGZhbHNlO1xuICBsZXQgcGVuZGluZ0NvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGlmcmFtZSA9IGNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScsIHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB9KSBhcyBJZnJhbWU7XG5cbiAgY29uc3QgZ2V0SWZyYW1lRG9jdW1lbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnRXaW5kb3c/LmRvY3VtZW50O1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVN0eWxlU2hlZXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgICAgIGh0bWwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqIHtcbiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZSB7XG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2RlIHtcbiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFibGUge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiB7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAgMCAwLjVlbSAwO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAwIDAuMWVtIDA7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZUlmcmFtZUNvbnRlbnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgICAgPHN0eWxlPiR7Y3JlYXRlU3R5bGVTaGVldCgpfTwvc3R5bGU+XG4gICAgICAgICAgICAke2N1c3RvbUNTU1xuICAgICAgICAgICAgICAubWFwKChjc3MpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiJHtjc3N9XCIgLz5gO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuam9pbignJyl9XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHkgc3R5bGU9XCJwYWRkaW5nOiAwOyBtYXgtd2lkdGg6IDEwMCU7IHdpZHRoOiAxMDAlOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiPiR7Y29udGVudH08L2JvZHk+XG4gICAgICAgIDwvaHRtbD5cbiAgICBgO1xuICB9O1xuXG4gIGNvbnN0IHNldHVwSWZyYW1lQ29udGVudCA9IChkb2M6IERvY3VtZW50LCBjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3JlYXRlU3R5bGVTaGVldCgpO1xuICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICAgIGN1c3RvbUNTUy5mb3JFYWNoKChjc3MpID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICBsaW5rLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgICAgbGluay5ocmVmID0gY3NzO1xuICAgICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSk7XG5cbiAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIGRvYy5ib2R5LnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgZG9jLmJvZHkuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7XG4gICAgZG9jLmJvZHkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZG9jLmJvZHkuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUNvbnRlbnQgPSAobmV3Q29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpc0xvYWRlZCkge1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgICAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQobmV3Q29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZG9jID0gZ2V0SWZyYW1lRG9jdW1lbnQoKTtcbiAgICBpZiAoIWRvYykge1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgICAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQobmV3Q29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRvYy5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpIHtcbiAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IG5ld0NvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwSWZyYW1lQ29udGVudChkb2MsIG5ld0NvbnRlbnQpO1xuICAgIH1cblxuICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gIH07XG5cbiAgaWZyYW1lLnN5bmNDb250ZW50ID0gKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHVwZGF0ZUNvbnRlbnQobmV3Q29udGVudCk7XG4gIH07XG5cbiAgaWZyYW1lLnN5bmNIZWlnaHQgPSAoKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IGlmcmFtZS5jb250ZW50V2luZG93Py5kb2N1bWVudC5ib2R5O1xuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnRzID0gYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuICAgIGxldCBtYXhIZWlnaHQgPSBib2R5Lm9mZnNldEhlaWdodDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIGJvdHRvbSk7XG4gICAgfVxuXG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArIDUgKyAncHgnO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9O1xuXG4gIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgaXNMb2FkZWQgPSB0cnVlO1xuICAgIGlmIChwZW5kaW5nQ29udGVudCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY29udGVudCA9IHBlbmRpbmdDb250ZW50O1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gZ2V0SWZyYW1lRG9jdW1lbnQoKTtcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgc2V0dXBJZnJhbWVDb250ZW50KGRvYywgY29udGVudCk7XG4gICAgICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gIH07XG5cbiAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQoY29udGVudCk7XG5cbiAgcmV0dXJuIGlmcmFtZTtcbn07XG4iLCJpbXBvcnQgeyBhcHBseVN0eWxlcywgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IGFkZEVycm9yTWVzc2FnZSB9IGZyb20gJy4vbWVzc2FnZUhhbmRsZXJzJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcblxuaW1wb3J0IHR5cGUgeyBBY3Rpb25CdXR0b24gfSBmcm9tICcuL2FjdGlvbkJ1dHRvbic7XG5pbXBvcnQgdHlwZSB7IE1vZGFsLCBNb2RhbENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsU3RhdGUgPSB7XG4gIG1vZGFsT3BlbjogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9hZGluZ1N0YXRlID0gKG1vZGFsOiBNb2RhbCwgbG9hZGluZzogYm9vbGVhbiwgY29uZmlnOiBNb2RhbENvbmZpZykgPT4ge1xuICBtb2RhbC5pc0xvYWRpbmcgPSBsb2FkaW5nO1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgbW9kYWwubG9hZGluZ0luZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICB9IGVsc2Uge1xuICAgIG1vZGFsLmxvYWRpbmdJbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIG1vZGFsLm1lc3NhZ2VJbnB1dC5kaXNhYmxlZCA9IGxvYWRpbmc7XG4gIGlmIChsb2FkaW5nKSB7XG4gICAgYXBwbHlTdHlsZXMobW9kYWwubWVzc2FnZUlucHV0LCB7IC4uLnN0eWxlcy5pbnB1dCwgLi4uc3R5bGVzLmxvYWRpbmdJbnB1dCB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcHBseVN0eWxlcyhtb2RhbC5tZXNzYWdlSW5wdXQsIHN0eWxlcy5pbnB1dCk7XG4gIH1cblxuICBtb2RhbC5zZW5kQnRuLmRpc2FibGVkID0gbG9hZGluZztcbiAgaWYgKGxvYWRpbmcpIHtcbiAgICBhcHBseVN0eWxlcyhtb2RhbC5zZW5kQnRuLCB7IC4uLnN0eWxlcy5zZW5kQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24gfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBwbHlTdHlsZXMobW9kYWwuc2VuZEJ0biwgc3R5bGVzLnNlbmRCdXR0b24pO1xuICB9XG5cbiAgbW9kYWwuc3RvcEJ0bi5kaXNhYmxlZCA9ICFsb2FkaW5nO1xuICBpZiAobG9hZGluZykge1xuICAgIGFwcGx5U3R5bGVzKG1vZGFsLnN0b3BCdG4sIHN0eWxlcy5pY29uQnV0dG9uKTtcbiAgfSBlbHNlIHtcbiAgICBhcHBseVN0eWxlcyhtb2RhbC5zdG9wQnRuLCB7IC4uLnN0eWxlcy5pY29uQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24gfSk7XG4gIH1cblxuICBjb25zdCBoYXNNZXNzYWdlcyA9IG1vZGFsLmhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5sZW5ndGggPiAwO1xuICBtb2RhbC50cnlBZ2FpbkJ0bi5kaXNhYmxlZCA9IGxvYWRpbmcgfHwgIWhhc01lc3NhZ2VzO1xuICBpZiAobG9hZGluZyB8fCAhaGFzTWVzc2FnZXMpIHtcbiAgICBhcHBseVN0eWxlcyhtb2RhbC50cnlBZ2FpbkJ0biwgeyAuLi5zdHlsZXMuaWNvbkJ1dHRvbiwgLi4uc3R5bGVzLmRpc2FibGVkQnV0dG9uIH0pO1xuICB9IGVsc2Uge1xuICAgIGFwcGx5U3R5bGVzKG1vZGFsLnRyeUFnYWluQnRuLCBzdHlsZXMuaWNvbkJ1dHRvbik7XG4gIH1cblxuICBPYmplY3QudmFsdWVzKG1vZGFsLnR5cGVCdXR0b25zKS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSBsb2FkaW5nO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpID09PSBjb25maWcudHlwZTtcblxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICBhcHBseVN0eWxlcyhidXR0b24sIHtcbiAgICAgICAgLi4uc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24sXG4gICAgICAgIC4uLihpc0FjdGl2ZSA/IHN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uQWN0aXZlIDoge30pLFxuICAgICAgICAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwbHlTdHlsZXMoYnV0dG9uLCB7XG4gICAgICAgIC4uLnN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uLFxuICAgICAgICAuLi4oaXNBY3RpdmUgPyBzdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbkFjdGl2ZSA6IHt9KSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgYWN0aW9uQnV0dG9ucyA9IG1vZGFsLmNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICcuYWN0aW9uLWJ1dHRvbicsXG4gICkgYXMgTm9kZUxpc3RPZjxBY3Rpb25CdXR0b24+O1xuICBhY3Rpb25CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICBidXR0b24uZGlzYWJsZT8uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbj8uZW5hYmxlPy4oKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZVVwbG9hZGVkSW1hZ2UgPSAobW9kYWw6IE1vZGFsKSA9PiB7XG4gIGlmIChtb2RhbC5pbWFnZVByZXZpZXcpIHtcbiAgICBtb2RhbC5pbWFnZVByZXZpZXcucmVtb3ZlKCk7XG4gICAgbW9kYWwuaW1hZ2VQcmV2aWV3ID0gdW5kZWZpbmVkO1xuICB9XG4gIG1vZGFsLnVwbG9hZGVkSW1hZ2UgPSB1bmRlZmluZWQ7XG4gIG1vZGFsLm1lc3NhZ2VJbnB1dC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcxNXB4Jztcbn07XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IGFzeW5jIChcbiAgbW9kYWw6IE1vZGFsLFxuICBmaWxlT3JVcmw6IEZpbGUgfCBzdHJpbmcsXG4gIGlzUmVtb3RlVXJsOiBib29sZWFuID0gZmFsc2UsXG4pID0+IHtcbiAgaWYgKCFpc1JlbW90ZVVybCAmJiBmaWxlT3JVcmwgaW5zdGFuY2VvZiBGaWxlICYmICFmaWxlT3JVcmwudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgIGFkZEVycm9yTWVzc2FnZShtb2RhbCwgJ09ubHkgaW1hZ2UgZmlsZXMgYXJlIGFsbG93ZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobW9kYWwudXBsb2FkZWRJbWFnZSkge1xuICAgIHJlbW92ZVVwbG9hZGVkSW1hZ2UobW9kYWwpO1xuICB9XG5cbiAgY29uc3QgaW1hZ2VQcmV2aWV3ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmltYWdlUHJldmlldyk7XG4gIGNvbnN0IGltZyA9IGNyZWF0ZUVsZW1lbnQoJ2ltZycsIHN0eWxlcy5pbWFnZVByZXZpZXdJbWcpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gIGNvbnN0IHJlbW92ZUJ0biA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5pbWFnZVByZXZpZXdSZW1vdmUsICfDlycpO1xuXG4gIGlmIChpc1JlbW90ZVVybCkge1xuICAgIGltZy5zcmMgPSBmaWxlT3JVcmwgYXMgc3RyaW5nO1xuICAgIG1vZGFsLnVwbG9hZGVkSW1hZ2UgPSBpbWcuc3JjO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgfTtcblxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVPclVybCBhcyBGaWxlKTtcbiAgICB9KTtcblxuICAgIGltZy5zcmMgPSBkYXRhVVJMO1xuICAgIG1vZGFsLnVwbG9hZGVkSW1hZ2UgPSBkYXRhVVJMO1xuICB9XG5cbiAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHJlbW92ZVVwbG9hZGVkSW1hZ2UobW9kYWwpO1xuICB9KTtcblxuICBpbWFnZVByZXZpZXcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICBpbWFnZVByZXZpZXcuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEuMDUpJztcbiAgICByZW1vdmVCdG4uc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgfSk7XG5cbiAgaW1hZ2VQcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgaW1hZ2VQcmV2aWV3LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIHJlbW92ZUJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICB9KTtcblxuICBpbWFnZVByZXZpZXcuYXBwZW5kKGltZywgcmVtb3ZlQnRuKTtcbiAgbW9kYWwuaW1hZ2VQcmV2aWV3ID0gaW1hZ2VQcmV2aWV3O1xuICBtb2RhbC5tZXNzYWdlSW5wdXQuc3R5bGUucGFkZGluZ0xlZnQgPSAnODVweCc7XG4gIG1vZGFsLmlucHV0V3JhcHBlci5hcHBlbmQoaW1hZ2VQcmV2aWV3KTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IFByb21wdCB9IGZyb20gJy4vZXhlY3V0b3InO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlVHlwZSA9ICd0ZXh0JyB8ICdpbWFnZSc7XG5cbmV4cG9ydCB0eXBlIFVwZGF0YWJsZUhUTUxFbGVtZW50ID0gSFRNTEVsZW1lbnQgJiB7XG4gIHVwZGF0ZT86IChtc2c6IE1lc3NhZ2UpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuICBjb250ZW50OiBQcm9tcHQ7XG4gIGlkOiBzdHJpbmc7XG4gIGhpZGRlbjogYm9vbGVhbjtcbiAgcm9sZTogc3RyaW5nO1xuICB0eXBlOiBNZXNzYWdlVHlwZTtcbiAgZWw/OiBVcGRhdGFibGVIVE1MRWxlbWVudDtcbiAgY3R4OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn07XG5cbnR5cGUgTmFtZXNwYWNlID0ge1xuICBoaXN0b3J5OiBNZXNzYWdlW107XG4gIGlkUmVmOiBSZWNvcmQ8c3RyaW5nLCBNZXNzYWdlPjtcbiAgb25BZGRNZXNzYWdlOiAobXNnOiBNZXNzYWdlKSA9PiBVcGRhdGFibGVIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IF9uYW1lc3BhY2U6IFJlY29yZDxzdHJpbmcsIE5hbWVzcGFjZT4gPSB7fTtcblxuY29uc3QgUk9MRVMgPSB7XG4gIHVzZXI6ICd1c2VyJyxcbiAgYXNzaXN0YW50OiAnYXNzaXN0YW50Jyxcbn07XG5cbmNvbnN0IGFkZE1lc3NhZ2UgPSAoXG4gIGtleTogc3RyaW5nLFxuICBjb250ZW50OiBQcm9tcHQsXG4gIHJvbGU6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgaGlkZGVuOiBib29sZWFuID0gZmFsc2UsXG4gIHR5cGU6IE1lc3NhZ2VUeXBlID0gJ3RleHQnLFxuKSA9PiB7XG4gIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2Vba2V5XTtcbiAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBtc2dPYmplY3Q6IE1lc3NhZ2UgPSB7IGNvbnRlbnQsIHJvbGUsIGlkLCBoaWRkZW4sIHR5cGUsIGN0eDoge30gfTtcblxuICBjb25zdCBpbmRleCA9IG5hbWVzcGFjZS5oaXN0b3J5LnB1c2gobXNnT2JqZWN0KSAtIDE7XG4gIGlmIChpZCkge1xuICAgIG5hbWVzcGFjZS5pZFJlZltpZF0gPSBuYW1lc3BhY2UuaGlzdG9yeVtpbmRleF07XG4gIH1cblxuICBtc2dPYmplY3QuZWwgPSBuYW1lc3BhY2Uub25BZGRNZXNzYWdlKG1zZ09iamVjdCk7XG59O1xuXG5jb25zdCB1cGRhdGVNZXNzYWdlID0gKGtleTogc3RyaW5nLCBpZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHR5cGU6IE1lc3NhZ2VUeXBlID0gJ3RleHQnKSA9PiB7XG4gIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2Vba2V5XTtcbiAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIW5hbWVzcGFjZS5pZFJlZltpZF0pIHtcbiAgICBhZGRNZXNzYWdlKGtleSwgY29udGVudCwgUk9MRVMuYXNzaXN0YW50LCBpZCwgZmFsc2UsIHR5cGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG1zZyA9IG5hbWVzcGFjZS5pZFJlZltpZF07XG4gIG1zZy5jb250ZW50ID0gY29udGVudDtcblxuICBpZiAobXNnLmVsICYmIG1zZy5lbC51cGRhdGUpIHtcbiAgICBtc2cuZWwudXBkYXRlKG1zZyk7XG4gIH1cbn07XG5cbmNvbnN0IGdldE1lc3NhZ2UgPSAoa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgbmFtZXNwYWNlID0gX25hbWVzcGFjZVtrZXldO1xuICBpZiAoIW5hbWVzcGFjZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBuYW1lc3BhY2UuaWRSZWZbaWRdO1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhdEhpc3RvcnkgPSB7XG4gIGFkZFVzZXJNZXNzYWdlOiAoY29udGVudDogUHJvbXB0LCBpZDogc3RyaW5nLCBoaWRkZW4/OiBib29sZWFuLCB0eXBlPzogTWVzc2FnZVR5cGUpID0+IHZvaWQ7XG4gIGFkZEFzc2lzdGFudE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcsIGlkOiBzdHJpbmcsIHR5cGU/OiBNZXNzYWdlVHlwZSkgPT4gdm9pZDtcbiAgdXBkYXRlQXNzaXN0YW50TWVzc2FnZTogKGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgdHlwZT86IE1lc3NhZ2VUeXBlKSA9PiB2b2lkO1xuICBnZXRBc3Npc3RhbnRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gTWVzc2FnZSB8IHVuZGVmaW5lZDtcbiAgZ2V0TWVzc2FnZXM6ICgpID0+IE1lc3NhZ2VbXTtcbiAgZ2V0TWVzc2FnZXNIaXN0b3J5OiAoKSA9PiBQaWNrPE1lc3NhZ2UsICdyb2xlJyB8ICdjb250ZW50Jz5bXTtcbn07XG5cbmV4cG9ydCBjb25zdCBjaGF0SGlzdG9yeSA9IHtcbiAgaW5pdDogKGtleTogc3RyaW5nLCBvbkFkZE1lc3NhZ2U6IE5hbWVzcGFjZVsnb25BZGRNZXNzYWdlJ10pOiBDaGF0SGlzdG9yeSA9PiB7XG4gICAgaWYgKCFfbmFtZXNwYWNlW2tleV0pIHtcbiAgICAgIF9uYW1lc3BhY2Vba2V5XSA9IHtcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIGlkUmVmOiB7fSxcbiAgICAgICAgb25BZGRNZXNzYWdlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBfbmFtZXNwYWNlW2tleV0ub25BZGRNZXNzYWdlID0gb25BZGRNZXNzYWdlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZFVzZXJNZXNzYWdlOiAoXG4gICAgICAgIGNvbnRlbnQ6IFByb21wdCxcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgaGlkZGVuPzogYm9vbGVhbixcbiAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUgPSAndGV4dCcsXG4gICAgICApID0+IHtcbiAgICAgICAgYWRkTWVzc2FnZShrZXksIGNvbnRlbnQsIFJPTEVTLnVzZXIsIGlkLCBoaWRkZW4sIHR5cGUpO1xuICAgICAgfSxcbiAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcsIGlkOiBzdHJpbmcsIHR5cGU6IE1lc3NhZ2VUeXBlID0gJ3RleHQnKSA9PiB7XG4gICAgICAgIGFkZE1lc3NhZ2Uoa2V5LCBjb250ZW50LCBST0xFUy5hc3Npc3RhbnQsIGlkLCBmYWxzZSwgdHlwZSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlQXNzaXN0YW50TWVzc2FnZTogKGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgdHlwZTogTWVzc2FnZVR5cGUgPSAndGV4dCcpID0+IHtcbiAgICAgICAgdXBkYXRlTWVzc2FnZShrZXksIGlkLCBjb250ZW50LCB0eXBlKTtcbiAgICAgIH0sXG4gICAgICBnZXRBc3Npc3RhbnRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0TWVzc2FnZShrZXksIGlkKTtcbiAgICAgIH0sXG4gICAgICBnZXRNZXNzYWdlczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gX25hbWVzcGFjZVtrZXldLmhpc3Rvcnk7XG4gICAgICB9LFxuICAgICAgZ2V0TWVzc2FnZXNIaXN0b3J5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfbmFtZXNwYWNlW2tleV0uaGlzdG9yeS5tYXAoKG0pID0+ICh7XG4gICAgICAgICAgcm9sZTogbS5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudCxcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICB9O1xuICB9LFxufTtcbiIsImltcG9ydCB7IGRyYWcsIGVuZERyYWcgfSBmcm9tICcuL2RyYWdIYW5kbGVycyc7XG5pbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHJlbmRlck1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2VIYW5kbGVycyc7XG5pbXBvcnQgeyByZW1vdmVVcGxvYWRlZEltYWdlLCBzZXRMb2FkaW5nU3RhdGUsIGdsb2JhbFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBjaGF0SGlzdG9yeSwgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NoYXRIaXN0b3J5JztcbmltcG9ydCB7IGV4ZWN1dG9yIH0gZnJvbSAnLi4vLi4vZXhlY3V0b3InO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsLCBNb2RhbENvbmZpZywgTW9kYWxUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb21wdCB9IGZyb20gJy4uLy4uL2V4ZWN1dG9yJztcblxuZXhwb3J0IGNvbnN0IG9wZW5Nb2RhbCA9IChtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgbW9kYWwuY2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICBtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICBtb2RhbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIG1vZGFsLm1vZGFsT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICBjb25zdCBtZXNzYWdlcyA9IG1vZGFsLmhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5maWx0ZXIoKG06IE1lc3NhZ2UpID0+ICFtLmhpZGRlbik7XG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIG1lc3NhZ2VzLmZvckVhY2goKG1zZzogTWVzc2FnZSkgPT4ge1xuICAgICAgcmVuZGVyTWVzc2FnZShtc2csIG1vZGFsLCBjb25maWcpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgbW9kYWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgfSwgMTAwKTtcblxuICByZXR1cm4gbW9kYWw7XG59O1xuXG5leHBvcnQgY29uc3QgY2xvc2VNb2RhbCA9IChtb2RhbDogTW9kYWwpID0+IHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IGRyYWcoZSwgbW9kYWwpKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IGVuZERyYWcobW9kYWwpKTtcblxuICBpZiAobW9kYWwubW9kYWxPdmVybGF5KSB7XG4gICAgbW9kYWwubW9kYWxPdmVybGF5LnJlbW92ZSgpO1xuICB9XG5cbiAgaWYgKG1vZGFsKSB7XG4gICAgbW9kYWwucmVtb3ZlKCk7XG4gIH1cblxuICBnbG9iYWxTdGF0ZS5tb2RhbE9wZW4gPSBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jIChcbiAgbW9kYWw6IE1vZGFsLFxuICBjb25maWc6IE1vZGFsQ29uZmlnLFxuICBwcm92aWRlZE1lc3NhZ2U/OiBzdHJpbmcsXG4gIGhpZGVQcm9tcHQ/OiBib29sZWFuLFxuKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2U6IFByb21wdCA9IHByb3ZpZGVkTWVzc2FnZVxuICAgID8gcHJvdmlkZWRNZXNzYWdlLnRyaW0oKVxuICAgIDogbW9kYWwubWVzc2FnZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgaWYgKCFtZXNzYWdlIHx8IG1vZGFsLmlzTG9hZGluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNldExvYWRpbmdTdGF0ZShtb2RhbCwgdHJ1ZSwgY29uZmlnKTtcblxuICBtb2RhbC5tZXNzYWdlSW5wdXQudmFsdWUgPSAnJztcbiAgbW9kYWwuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gIGxldCBtZXNzYWdlVG9TZW5kOiBQcm9tcHQgPSBtZXNzYWdlO1xuICBpZiAobW9kYWwudXBsb2FkZWRJbWFnZSAmJiBjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgbWVzc2FnZVRvU2VuZCA9IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB2YWx1ZTogbWVzc2FnZSBhcyBzdHJpbmcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICB2YWx1ZTogbW9kYWwudXBsb2FkZWRJbWFnZSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIHJlbW92ZVVwbG9hZGVkSW1hZ2UobW9kYWwpO1xuXG4gIGNvbnN0IG1lc3NhZ2VzID0gbW9kYWwuaGlzdG9yeS5nZXRNZXNzYWdlc0hpc3RvcnkoKTtcbiAgY29uc3QgbWVzc2FnZUlkID0gJ3VzZXItbXNnLScgKyBEYXRlLm5vdygpICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCk7XG4gIG1vZGFsLmhpc3RvcnkuYWRkVXNlck1lc3NhZ2UobWVzc2FnZVRvU2VuZCwgbWVzc2FnZUlkLCBoaWRlUHJvbXB0KTtcblxuICB0cnkge1xuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC5mcmVlVGV4dChcbiAgICAgICAge1xuICAgICAgICAgIG5hbWVzcGFjZTogY29uZmlnLm5hbWVzcGFjZSxcbiAgICAgICAgICBjb250ZXh0OiBjb25maWcuY29udGV4dCxcbiAgICAgICAgICBwcm9tcHQ6IG1lc3NhZ2VUb1NlbmQsXG4gICAgICAgICAgZmllbGQ6IGNvbmZpZy5maWVsZCB8fCAnJyxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSxcbiAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICBtb2RhbC5oaXN0b3J5LnVwZGF0ZUFzc2lzdGFudE1lc3NhZ2UoZGF0YS5pZCwgZGF0YS5jb250ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgbW9kYWwuYWJvcnRDb250cm9sbGVyLFxuICAgICAgKTtcblxuICAgICAgbW9kYWwuaGlzdG9yeS51cGRhdGVBc3Npc3RhbnRNZXNzYWdlKGRhdGEuaWQsIGRhdGEuY29udGVudCk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC5pbWFnZShcbiAgICAgICAge1xuICAgICAgICAgIHByb21wdDogbWVzc2FnZVRvU2VuZCBhcyBzdHJpbmcsXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGFsLmFib3J0Q29udHJvbGxlcixcbiAgICAgICk7XG5cbiAgICAgIG1vZGFsLmhpc3RvcnkuYWRkQXNzaXN0YW50TWVzc2FnZShkYXRhLnVybCwgZGF0YS5pZCwgJ2ltYWdlJyk7XG4gICAgfVxuXG4gICAgbW9kYWwuYWJvcnRDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYWRkRXJyb3JNZXNzYWdlKG1vZGFsLCBlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkRXJyb3JNZXNzYWdlKG1vZGFsLCAnVW5rbm93biBlcnJvcicpO1xuICB9XG5cbiAgc2V0TG9hZGluZ1N0YXRlKG1vZGFsLCBmYWxzZSwgY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdG9wR2VuZXJhdGlvbiA9IChtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgaWYgKCFtb2RhbC5pc0xvYWRpbmcgfHwgIW1vZGFsLmFib3J0Q29udHJvbGxlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1vZGFsLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICBtb2RhbC5hYm9ydENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gIHNldExvYWRpbmdTdGF0ZShtb2RhbCwgZmFsc2UsIGNvbmZpZyk7XG59O1xuXG5leHBvcnQgY29uc3QgdHJ5QWdhaW4gPSAobW9kYWw6IE1vZGFsLCBjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gIGlmIChtb2RhbC5oaXN0b3J5LmdldE1lc3NhZ2VzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbmZpZy50eXBlID09PSAndGV4dCcpIHtcbiAgICB2b2lkIHNlbmRNZXNzYWdlKG1vZGFsLCBjb25maWcsICdUcnkgYWdhaW4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29uZmlnLnR5cGUgPT09ICdpbWFnZScpIHtcbiAgICBjb25zdCBsYXRlc3RVc2VyTXNnID0gbW9kYWwuaGlzdG9yeVxuICAgICAgLmdldE1lc3NhZ2VzKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5maW5kKChtc2cpID0+IG1zZy5yb2xlID09PSAndXNlcicpO1xuICAgIGlmIChsYXRlc3RVc2VyTXNnKSB7XG4gICAgICB2b2lkIHNlbmRNZXNzYWdlKG1vZGFsLCBjb25maWcsIGxhdGVzdFVzZXJNc2cuY29udGVudCBhcyBzdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHN3aXRjaFR5cGUgPSAodHlwZTogTW9kYWxUeXBlLCBtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgY29uZmlnLnR5cGUgPSB0eXBlO1xuXG4gIG1vZGFsLmhpc3RvcnkgPSBjaGF0SGlzdG9yeS5pbml0KGAke2NvbmZpZy5rZXl9LyR7Y29uZmlnLnR5cGV9YCwgKG1zZykgPT4ge1xuICAgIHJldHVybiByZW5kZXJNZXNzYWdlKG1zZywgbW9kYWwsIGNvbmZpZyk7XG4gIH0pO1xuXG4gIHdoaWxlIChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCkge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5yZW1vdmVDaGlsZChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCk7XG4gIH1cblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgY29uc3QgbWVzc2FnZXMgPSBtb2RhbC5oaXN0b3J5LmdldE1lc3NhZ2VzKCkuZmlsdGVyKChtKSA9PiAhbS5oaWRkZW4pO1xuICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBtZXNzYWdlcy5mb3JFYWNoKChtc2cpID0+IHtcbiAgICAgIHJlbmRlck1lc3NhZ2UobXNnLCBtb2RhbCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGNsb3NlTW9kYWwsIG9wZW5Nb2RhbCwgc2VuZE1lc3NhZ2UgfSBmcm9tICcuL21vZGFsQWN0aW9ucyc7XG5pbXBvcnQgeyBidWlsZE1vZGFsIH0gZnJvbSAnLi9tb2RhbEJ1aWxkZXInO1xuaW1wb3J0IHsgZ2xvYmFsU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcblxuaW1wb3J0IHR5cGUgeyBNb2RhbENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgbW9kYWxUeXBlcyA9IFsndGV4dCcsICdpbWFnZSddIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTW9kYWwgPSAoY29uZmlnOiBNb2RhbENvbmZpZykgPT4ge1xuICBpZiAoZ2xvYmFsU3RhdGUubW9kYWxPcGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFjb25maWcua2V5KSB7XG4gICAgYWxlcnQoJ2tleSBpcyByZXF1aXJlZCBjb25maWcgcHJvcGVydHknKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29uZmlnLm92ZXJsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbmZpZy5vdmVybGF5ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICghY29uZmlnLnR5cGUpIHtcbiAgICBjb25maWcudHlwZSA9ICd0ZXh0JztcbiAgfVxuXG4gIGlmICghY29uZmlnLmF2YWlsYWJsZVR5cGVzKSB7XG4gICAgY29uZmlnLmF2YWlsYWJsZVR5cGVzID0gW107XG4gIH1cblxuICBjb25maWcuYXZhaWxhYmxlVHlwZXMgPSBjb25maWcuYXZhaWxhYmxlVHlwZXMuZmlsdGVyKCh0eXBlKSA9PiBtb2RhbFR5cGVzLmluY2x1ZGVzKHR5cGUpKTtcblxuICBpZiAoY29uZmlnLmF2YWlsYWJsZVR5cGVzLmxlbmd0aCA+IDAgJiYgIWNvbmZpZy5hdmFpbGFibGVUeXBlcy5pbmNsdWRlcyhjb25maWcudHlwZSkpIHtcbiAgICBjb25maWcuYXZhaWxhYmxlVHlwZXMudW5zaGlmdChjb25maWcudHlwZSk7XG4gIH1cblxuICBjb25zdCBtb2RhbCA9IGJ1aWxkTW9kYWwoY29uZmlnKTtcblxuICBtb2RhbC5hcGkgPSB7XG4gICAgc2VuZE1lc3NhZ2U6IGFzeW5jIChwcm92aWRlZE1lc3NhZ2U/OiBzdHJpbmcsIGhpZGVQcm9tcHQ/OiBib29sZWFuKSA9PiB7XG4gICAgICBhd2FpdCBzZW5kTWVzc2FnZShtb2RhbCwgY29uZmlnLCBwcm92aWRlZE1lc3NhZ2UsIGhpZGVQcm9tcHQpO1xuICAgIH0sXG4gICAgY2xvc2VNb2RhbDogKCkgPT4ge1xuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XG4gICAgfSxcbiAgfTtcblxuICBvcGVuTW9kYWwobW9kYWwsIGNvbmZpZyk7XG4gIGdsb2JhbFN0YXRlLm1vZGFsT3BlbiA9IHRydWU7XG5cbiAgcmV0dXJuIG1vZGFsO1xufTtcbiIsImltcG9ydCB7IGFwcGx5U3R5bGVzLCBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgZHJhZywgZW5kRHJhZywgaW5pdERyYWcgfSBmcm9tICcuL2RyYWdIYW5kbGVycyc7XG5pbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHJlbmRlck1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2VIYW5kbGVycyc7XG5pbXBvcnQgeyBjbG9zZU1vZGFsLCBzZW5kTWVzc2FnZSwgc3RvcEdlbmVyYXRpb24sIHN3aXRjaFR5cGUsIHRyeUFnYWluIH0gZnJvbSAnLi9tb2RhbEFjdGlvbnMnO1xuaW1wb3J0IHsgaGFuZGxlSW1hZ2VVcGxvYWQgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCB7IGNoYXRIaXN0b3J5IH0gZnJvbSAnLi4vLi4vY2hhdEhpc3RvcnknO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsLCBNb2RhbENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgYnVpbGRNb2RhbCA9IChjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gIGNvbnN0IG1vZGFsT3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5tb2RhbE92ZXJsYXkpO1xuXG4gIGNvbnN0IGNoYXRNb2RhbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0TW9kYWwpIGFzIE1vZGFsO1xuICBjaGF0TW9kYWwuaGlzdG9yeSA9IGNoYXRIaXN0b3J5LmluaXQoYCR7Y29uZmlnLmtleX0vJHtjb25maWcudHlwZX1gLCAobXNnKSA9PiB7XG4gICAgcmV0dXJuIHJlbmRlck1lc3NhZ2UobXNnLCBjaGF0TW9kYWwsIGNvbmZpZyk7XG4gIH0pO1xuXG4gIGNvbnN0IGNoYXRIZWFkZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuY2hhdEhlYWRlcik7XG4gIGNvbnN0IGNoYXRUaXRsZSA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0VGl0bGUsICdtb2RBSSBBc3Npc3RhbnQnKTtcbiAgY29uc3QgY2hhdENvbnRyb2xzID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRDb250cm9scyk7XG5cbiAgY29uc3QgY2xvc2VCdG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBzdHlsZXMuY29udHJvbEJ1dHRvbiwgJ+KclScpO1xuICBjaGF0Q29udHJvbHMuYXBwZW5kKGNsb3NlQnRuKTtcbiAgY2hhdEhlYWRlci5hcHBlbmQoY2hhdFRpdGxlLCBjaGF0Q29udHJvbHMpO1xuXG4gIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0TWVzc2FnZXMpO1xuXG4gIGNvbnN0IGNoYXRJbnB1dEFyZWEgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuY2hhdElucHV0KTtcblxuICBjb25zdCBpbnB1dFJvdyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5pbnB1dFJvdyk7XG4gIGNvbnN0IGlucHV0V3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5pbnB1dFdyYXBwZXIpO1xuXG4gIGNvbnN0IG1lc3NhZ2VJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywgc3R5bGVzLmlucHV0KTtcbiAgbWVzc2FnZUlucHV0LnBsYWNlaG9sZGVyID0gJ1R5cGUgeW91ciBtZXNzYWdlLi4uJztcblxuICBtZXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIG1lc3NhZ2VJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjMDBCNkRFJztcbiAgfSk7XG5cbiAgbWVzc2FnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbWVzc2FnZUlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJyNlMmU4ZjAnO1xuICB9KTtcblxuICBtZXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbWVzc2FnZUlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJyNlMmU4ZjAnO1xuXG4gICAgbGV0IGltYWdlRmlsZTogRmlsZSB8IG51bGwgPSBudWxsO1xuICAgIGxldCByZW1vdGVJbWFnZVVybDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlcjtcbiAgICBpZiAoIWRhdGFUcmFuc2ZlcikgcmV0dXJuO1xuXG4gICAgY29uc3QgZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaWYgKGZpbGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmaWxlID0gZmlsZXNbMF07XG4gICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIGltYWdlRmlsZSA9IGZpbGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpbWFnZUZpbGUpIHtcbiAgICAgIGNvbnN0IGltZ1VybCA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3VyaS1saXN0Jyk7XG4gICAgICBpZiAoaW1nVXJsKSB7XG4gICAgICAgIHJlbW90ZUltYWdlVXJsID0gaW1nVXJsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbWFnZUZpbGUpIHtcbiAgICAgIGF3YWl0IGhhbmRsZUltYWdlVXBsb2FkKGNoYXRNb2RhbCwgaW1hZ2VGaWxlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVtb3RlSW1hZ2VVcmwpIHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgY29uc3QgaXNSZW1vdGUgPSAhcmVtb3RlSW1hZ2VVcmwuc3RhcnRzV2l0aCh1cmwub3JpZ2luKTtcblxuICAgICAgaWYgKGlzUmVtb3RlKSB7XG4gICAgICAgIGF3YWl0IGhhbmRsZUltYWdlVXBsb2FkKGNoYXRNb2RhbCwgcmVtb3RlSW1hZ2VVcmwsIHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVtb3RlSW1hZ2VVcmwpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgIGlmIChibG9iLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sICdpbWFnZS5wbmcnLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZUltYWdlVXBsb2FkKGNoYXRNb2RhbCwgZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgYWRkRXJyb3JNZXNzYWdlKGNoYXRNb2RhbCwgJ0ZhaWxlZCB0byBmZXRjaCBhbiBpbWFnZScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFkZEVycm9yTWVzc2FnZShjaGF0TW9kYWwsICdPbmx5IGltYWdlIGZpbGVzIGFyZSBhbGxvd2VkJyk7XG4gIH0pO1xuXG4gIG1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGFzeW5jIChlKSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSBlLmNsaXBib2FyZERhdGE/Lml0ZW1zO1xuICAgIGlmICghaXRlbXMpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpdGVtc1tpXS50eXBlLmluZGV4T2YoJ2ltYWdlJykgIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBpdGVtc1tpXS5nZXRBc0ZpbGUoKTtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYXdhaXQgaGFuZGxlSW1hZ2VVcGxvYWQoY2hhdE1vZGFsLCBmaWxlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VNb2RhbChjaGF0TW9kYWwpO1xuICB9KTtcblxuICBjb25zdCBidXR0b25zQ29sdW1uID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmJ1dHRvbnNDb2x1bW4pO1xuXG4gIGNvbnN0IHNlbmRCdG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBzdHlsZXMuc2VuZEJ1dHRvbik7XG4gIGNvbnN0IHNlbmRJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5zZW5kSWNvbik7XG4gIGNvbnN0IHNlbmRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1NlbmQnKTtcbiAgc2VuZEJ0bi5hcHBlbmQoc2VuZEljb24sIHNlbmRUZXh0KTtcblxuICBjb25zdCBhY3Rpb25CdXR0b25zUm93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmFjdGlvbkJ1dHRvbnNSb3cpO1xuXG4gIGNvbnN0IHN0b3BCdG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7IC4uLnN0eWxlcy5pY29uQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24gfSk7XG4gIGNvbnN0IHN0b3BJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5zdG9wSWNvbik7XG4gIHN0b3BCdG4uYXBwZW5kQ2hpbGQoc3RvcEljb24pO1xuICBzdG9wQnRuLnRpdGxlID0gJ1N0b3AgR2VuZXJhdGlvbic7XG5cbiAgY29uc3QgdHJ5QWdhaW5CdG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBzdHlsZXMuaWNvbkJ1dHRvbik7XG4gIGNvbnN0IHJlZnJlc2hJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5yZWZyZXNoSWNvbik7XG4gIHRyeUFnYWluQnRuLmFwcGVuZENoaWxkKHJlZnJlc2hJY29uKTtcbiAgdHJ5QWdhaW5CdG4udGl0bGUgPSAnVHJ5IEFnYWluJztcblxuICBpZiAoY2hhdE1vZGFsLmhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICB0cnlBZ2FpbkJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYXBwbHlTdHlsZXModHJ5QWdhaW5CdG4sIHsgLi4uc3R5bGVzLmljb25CdXR0b24sIC4uLnN0eWxlcy5kaXNhYmxlZEJ1dHRvbiB9KTtcbiAgfVxuXG4gIGFjdGlvbkJ1dHRvbnNSb3cuYXBwZW5kKHN0b3BCdG4sIHRyeUFnYWluQnRuKTtcbiAgYnV0dG9uc0NvbHVtbi5hcHBlbmQoc2VuZEJ0biwgYWN0aW9uQnV0dG9uc1Jvdyk7XG4gIGlucHV0V3JhcHBlci5hcHBlbmQobWVzc2FnZUlucHV0KTtcbiAgaW5wdXRSb3cuYXBwZW5kKGlucHV0V3JhcHBlciwgYnV0dG9uc0NvbHVtbik7XG5cbiAgY29uc3QgbG9hZGluZ0luZGljYXRvciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5sb2FkaW5nSW5kaWNhdG9yKTtcbiAgbG9hZGluZ0luZGljYXRvci5pbm5lckhUTUwgPSBgXG4gICAgPHN0eWxlPlxuICAgICAgICBAa2V5ZnJhbWVzIGxvYWRpbmdEb3RQdWxzZSB7XG4gICAgICAgICAgICAwJSwgODAlLCAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjYpOyBvcGFjaXR5OiAwLjM7IH1cbiAgICAgICAgICAgIDQwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IG9wYWNpdHk6IDE7IH1cbiAgICAgICAgfVxuICAgICAgICAubG9hZGluZy1kb3RzIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgICAgICAgfVxuICAgICAgICAubG9hZGluZy1kb3Qge1xuICAgICAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZCNzI4MDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIGFuaW1hdGlvbjogbG9hZGluZ0RvdFB1bHNlIDEuNHMgaW5maW5pdGUgZWFzZS1pbi1vdXQgYm90aDtcbiAgICAgICAgfVxuICAgICAgICAubG9hZGluZy1kb3Q6bnRoLWNoaWxkKDEpIHsgYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7IH1cbiAgICAgICAgLmxvYWRpbmctZG90Om50aC1jaGlsZCgyKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOyB9XG4gICAgICAgIC5sb2FkaW5nLWRvdDpudGgtY2hpbGQoMykgeyBhbmltYXRpb24tZGVsYXk6IDBzOyB9XG4gICAgPC9zdHlsZT5cbiAgICA8ZGl2IGNsYXNzPVwibG9hZGluZy1kb3RzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWRvdFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZy1kb3RcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctZG90XCI+PC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuXG4gIGlucHV0V3JhcHBlci5hcHBlbmQobG9hZGluZ0luZGljYXRvcik7XG5cbiAgY29uc3QgdHlwZVNlbGVjdG9yID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLnR5cGVTZWxlY3Rvcik7XG4gIGNvbnN0IHR5cGVMYWJlbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy50eXBlTGFiZWwsICdHZW5lcmF0ZTonKTtcbiAgY29uc3QgdHlwZVRvZ2dsZUdyb3VwID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLnR5cGVUb2dnbGVHcm91cCk7XG5cbiAgY29uc3QgdHlwZUJ1dHRvbnM6IHsgW2tleTogc3RyaW5nXTogSFRNTEJ1dHRvbkVsZW1lbnQgfSA9IHt9O1xuICBjb25zdCBhdmFpbGFibGVUeXBlcyA9IGNvbmZpZy5hdmFpbGFibGVUeXBlcyA/PyBbXTtcblxuICBhdmFpbGFibGVUeXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlRWxlbWVudChcbiAgICAgICdidXR0b24nLFxuICAgICAgc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24sXG4gICAgICB0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKSxcbiAgICApIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGlmICh0eXBlID09PSBjb25maWcudHlwZSkge1xuICAgICAgYXBwbHlTdHlsZXMoYnV0dG9uLCB7IC4uLnN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uLCAuLi5zdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbkFjdGl2ZSB9KTtcbiAgICB9XG5cbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBPYmplY3QudmFsdWVzKHR5cGVCdXR0b25zKS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgYXBwbHlTdHlsZXMoYnRuLCBzdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbik7XG4gICAgICB9KTtcbiAgICAgIGFwcGx5U3R5bGVzKGJ1dHRvbiwgeyAuLi5zdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbiwgLi4uc3R5bGVzLnR5cGVUb2dnbGVCdXR0b25BY3RpdmUgfSk7XG5cbiAgICAgIHN3aXRjaFR5cGUodHlwZSwgY2hhdE1vZGFsLCBjb25maWcpO1xuICAgIH0pO1xuICAgIHR5cGVCdXR0b25zW3R5cGVdID0gYnV0dG9uO1xuICAgIHR5cGVUb2dnbGVHcm91cC5hcHBlbmRDaGlsZChidXR0b24pO1xuICB9KTtcblxuICB0eXBlU2VsZWN0b3IuYXBwZW5kKHR5cGVMYWJlbCwgdHlwZVRvZ2dsZUdyb3VwKTtcbiAgY2hhdElucHV0QXJlYS5hcHBlbmQoaW5wdXRSb3cpO1xuICBjaGF0TW9kYWwuYXBwZW5kKGNoYXRIZWFkZXIsIGNoYXRNZXNzYWdlcywgY2hhdElucHV0QXJlYSk7XG5cbiAgaWYgKGF2YWlsYWJsZVR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICBjaGF0TW9kYWwuYXBwZW5kKHR5cGVTZWxlY3Rvcik7XG4gIH1cblxuICBpZiAoY29uZmlnLm92ZXJsYXkpIHtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChtb2RhbE92ZXJsYXkpO1xuICB9XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmQoY2hhdE1vZGFsKTtcblxuICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9kYWwoY2hhdE1vZGFsKSk7XG4gIHNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZW5kTWVzc2FnZShjaGF0TW9kYWwsIGNvbmZpZykpO1xuICBzdG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3RvcEdlbmVyYXRpb24oY2hhdE1vZGFsLCBjb25maWcpKTtcbiAgdHJ5QWdhaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0cnlBZ2FpbihjaGF0TW9kYWwsIGNvbmZpZykpO1xuICBtZXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZvaWQgc2VuZE1lc3NhZ2UoY2hhdE1vZGFsLCBjb25maWcpO1xuICAgIH1cbiAgfSk7XG5cbiAgY2hhdEhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4gaW5pdERyYWcoZSwgY2hhdE1vZGFsKSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiBkcmFnKGUsIGNoYXRNb2RhbCkpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4gZW5kRHJhZyhjaGF0TW9kYWwpKTtcblxuICBjaGF0TW9kYWwubW9kYWxPdmVybGF5ID0gbW9kYWxPdmVybGF5O1xuICBjaGF0TW9kYWwuY2hhdEhlYWRlciA9IGNoYXRIZWFkZXI7XG4gIGNoYXRNb2RhbC5jbG9zZUJ0biA9IGNsb3NlQnRuO1xuICBjaGF0TW9kYWwuY2hhdE1lc3NhZ2VzID0gY2hhdE1lc3NhZ2VzO1xuICBjaGF0TW9kYWwubWVzc2FnZUlucHV0ID0gbWVzc2FnZUlucHV0O1xuICBjaGF0TW9kYWwuc2VuZEJ0biA9IHNlbmRCdG47XG4gIGNoYXRNb2RhbC50cnlBZ2FpbkJ0biA9IHRyeUFnYWluQnRuO1xuICBjaGF0TW9kYWwuc3RvcEJ0biA9IHN0b3BCdG47XG4gIGNoYXRNb2RhbC5sb2FkaW5nSW5kaWNhdG9yID0gbG9hZGluZ0luZGljYXRvcjtcbiAgY2hhdE1vZGFsLnR5cGVTZWxlY3RvciA9IHR5cGVTZWxlY3RvcjtcbiAgY2hhdE1vZGFsLnR5cGVCdXR0b25zID0gdHlwZUJ1dHRvbnM7XG4gIGNoYXRNb2RhbC5pbnB1dFdyYXBwZXIgPSBpbnB1dFdyYXBwZXI7XG5cbiAgY2hhdE1vZGFsLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgY2hhdE1vZGFsLmlzTG9hZGluZyA9IGZhbHNlO1xuICBjaGF0TW9kYWwuYWJvcnRDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICBjaGF0TW9kYWwub2Zmc2V0WCA9IDA7XG4gIGNoYXRNb2RhbC5vZmZzZXRZID0gMDtcblxuICByZXR1cm4gY2hhdE1vZGFsO1xufTtcbiIsInR5cGUgVGV4dGFyZWFPdmVybGF5T3B0aW9ucyA9IHtcbiAgaW5kaWNhdG9yVHlwZT86ICdzcGlubmVyJyB8ICdkb3RzJztcbiAgb3ZlcmxheUNvbG9yPzogc3RyaW5nO1xuICBpbmRpY2F0b3JDb2xvcj86IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVMb2FkaW5nT3ZlcmxheSA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIG9wdGlvbnM6IFRleHRhcmVhT3ZlcmxheU9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCBjb25maWcgPSB7XG4gICAgaW5kaWNhdG9yVHlwZTogb3B0aW9ucy5pbmRpY2F0b3JUeXBlIHx8ICdzcGlubmVyJyxcbiAgICBvdmVybGF5Q29sb3I6IG9wdGlvbnMub3ZlcmxheUNvbG9yIHx8ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknLFxuICAgIGluZGljYXRvckNvbG9yOiBvcHRpb25zLmluZGljYXRvckNvbG9yIHx8ICcjMzQ5OGRiJyxcbiAgfTtcblxuICBjb25zdCBvdmVybGF5OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBpbmRpY2F0b3I6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgdGV4dGFyZWFTdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgY29uc3QgdGV4dGFyZWFSZWN0OiBET01SZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBpZiAoIW9wdGlvbnMuaW5kaWNhdG9yQ29sb3IpIHtcbiAgICBjb25maWcuaW5kaWNhdG9yVHlwZSA9IHRleHRhcmVhUmVjdC5oZWlnaHQgPD0gNTAgPyAnZG90cycgOiAnc3Bpbm5lcic7XG4gIH1cblxuICBvdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgb3ZlcmxheS5zdHlsZS50b3AgPSAnMCc7XG4gIG92ZXJsYXkuc3R5bGUubGVmdCA9ICcwJztcbiAgb3ZlcmxheS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29uZmlnLm92ZXJsYXlDb2xvcjtcbiAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBvdmVybGF5LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gIG92ZXJsYXkuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICBvdmVybGF5LnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7XG4gIG92ZXJsYXkuc3R5bGUuYm9yZGVyUmFkaXVzID0gdGV4dGFyZWFTdHlsZXMuYm9yZGVyUmFkaXVzO1xuXG4gIGxldCBzdHlsZVRleHQgPSAnJztcblxuICBpZiAoY29uZmlnLmluZGljYXRvclR5cGUgPT09ICdzcGlubmVyJykge1xuICAgIC8vIEFwcGx5IHN0eWxlcyB0byB0aGUgc3Bpbm5lclxuICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXIgPSBgNHB4IHNvbGlkICNmM2YzZjNgO1xuICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJUb3AgPSBgNHB4IHNvbGlkICR7Y29uZmlnLmluZGljYXRvckNvbG9yfWA7XG4gICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgIGluZGljYXRvci5zdHlsZS53aWR0aCA9ICczMHB4JztcbiAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gJzMwcHgnO1xuICAgIGluZGljYXRvci5zdHlsZS5hbmltYXRpb24gPSAndGV4dGFyZWFPdmVybGF5U3BpbiAxcyBsaW5lYXIgaW5maW5pdGUnO1xuXG4gICAgLy8gQWRkIHNwaW5uZXIgYW5pbWF0aW9uXG4gICAgc3R5bGVUZXh0ID0gYFxuICAgICAgQGtleWZyYW1lcyB0ZXh0YXJlYU92ZXJsYXlTcGluIHtcbiAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgfVxuICAgIGA7XG4gIH0gZWxzZSBpZiAoY29uZmlnLmluZGljYXRvclR5cGUgPT09ICdkb3RzJykge1xuICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGluZGljYXRvci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgaW5kaWNhdG9yLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgaW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBjb25zdCBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRvdC5zdHlsZS53aWR0aCA9ICc4cHgnO1xuICAgICAgZG90LnN0eWxlLmhlaWdodCA9ICc4cHgnO1xuICAgICAgZG90LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgZG90LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbmZpZy5pbmRpY2F0b3JDb2xvcjtcbiAgICAgIGRvdC5zdHlsZS5tYXJnaW4gPSAnMCA0cHgnO1xuICAgICAgZG90LnN0eWxlLmFuaW1hdGlvbiA9IGB0ZXh0YXJlYU92ZXJsYXlEb3RQdWxzZSAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0YDtcbiAgICAgIGRvdC5zdHlsZS5hbmltYXRpb25EZWxheSA9IGAke2kgKiAwLjJ9c2A7XG4gICAgICBpbmRpY2F0b3IuYXBwZW5kQ2hpbGQoZG90KTtcbiAgICB9XG5cbiAgICBzdHlsZVRleHQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHRleHRhcmVhT3ZlcmxheURvdFB1bHNlIHtcbiAgICAgICAgMCUsIDgwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMCk7IG9wYWNpdHk6IDAuNTsgfVxuICAgICAgICA0MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIGNvbnN0IHN0eWxlU2hlZXQ6IEhUTUxTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZVNoZWV0LnRleHRDb250ZW50ID0gc3R5bGVUZXh0O1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xuXG4gIG92ZXJsYXkuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcblxuICBjb25zdCBwYXJlbnRTdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShcbiAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQgYXMgRWxlbWVudCxcbiAgKTtcbiAgbGV0IHdyYXBwZXI6IEhUTUxFbGVtZW50O1xuXG4gIGlmIChbJ3JlbGF0aXZlJywgJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5kZXhPZihwYXJlbnRTdHlsZXMucG9zaXRpb24pID09PSAtMSkge1xuICAgIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3cmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gYCR7dGV4dGFyZWFSZWN0LndpZHRofXB4YDtcbiAgICB3cmFwcGVyLnN0eWxlLmhlaWdodCA9IGAke3RleHRhcmVhUmVjdC5oZWlnaHR9cHhgO1xuICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXG4gICAgZWxlbWVudC5wYXJlbnROb2RlPy5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB3cmFwcGVyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB3cmFwcGVyLmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gIGNvbnN0IHVwZGF0ZWRSZWN0OiBET01SZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgaWYgKHdyYXBwZXIgIT09IGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSBgJHt1cGRhdGVkUmVjdC53aWR0aH1weGA7XG4gICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHt1cGRhdGVkUmVjdC5oZWlnaHR9cHhgO1xuICB9XG5cbiAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICByZXR1cm4gKCk6IHZvaWQgPT4ge1xuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcblxuICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgc3R5bGVTaGVldC5yZW1vdmUoKTtcbiAgICBpZiAod3JhcHBlciAhPT0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICB3cmFwcGVyLnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZShlbGVtZW50LCB3cmFwcGVyKTtcbiAgICAgIHdyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZU1vZGFsIH0gZnJvbSAnLi9sb2NhbENoYXQnO1xuaW1wb3J0IHsgY3JlYXRlTG9hZGluZ092ZXJsYXkgfSBmcm9tICcuL292ZXJsYXknO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsQ29uZmlnIH0gZnJvbSAnLi9sb2NhbENoYXQvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgdWkgPSB7XG4gIGNyZWF0ZUxvYWRpbmdPdmVybGF5LFxuICBsb2NhbENoYXQ6IChjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZU1vZGFsKGNvbmZpZyk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgZXhlY3V0b3IgfSBmcm9tICcuL2V4ZWN1dG9yJztcbmltcG9ydCB7IGhpc3RvcnkgfSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IHsgdWkgfSBmcm9tICcuL3VpJztcbmltcG9ydCB7IGNyZWF0ZUxvYWRpbmdPdmVybGF5IH0gZnJvbSAnLi91aS9vdmVybGF5JztcblxuaW1wb3J0IHR5cGUgeyBNZXNzYWdlIH0gZnJvbSAnLi9jaGF0SGlzdG9yeSc7XG5pbXBvcnQgdHlwZSB7IERhdGFPdXRwdXQgfSBmcm9tICcuL2hpc3RvcnknO1xuXG50eXBlIERhdGFDb250ZXh0ID0geyBlbHM6IHsgZmllbGQ6IEV4dC5mb3JtLkZpZWxkOyB3cmFwcGVyOiBIaXN0b3J5RWxlbWVudCB9W10gfTtcbnR5cGUgSGlzdG9yeUJ1dHRvbiA9IEhUTUxCdXR0b25FbGVtZW50ICYge1xuICBlbmFibGU6ICgpID0+IHZvaWQ7XG4gIGRpc2FibGU6ICgpID0+IHZvaWQ7XG59O1xudHlwZSBIaXN0b3J5SW5mbyA9IEhUTUxFbGVtZW50ICYge1xuICB1cGRhdGU6IChzaG93aW5nOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQ7XG59O1xudHlwZSBIaXN0b3J5TmF2ID0gSFRNTEVsZW1lbnQgJiB7XG4gIHNob3c6ICgpID0+IHZvaWQ7XG4gIGhpZGU6ICgpID0+IHZvaWQ7XG4gIHByZXZCdXR0b246IEhpc3RvcnlCdXR0b247XG4gIG5leHRCdXR0b246IEhpc3RvcnlCdXR0b247XG4gIGluZm86IEhpc3RvcnlJbmZvO1xufTtcbnR5cGUgSGlzdG9yeUVsZW1lbnQgPSBIVE1MRWxlbWVudCAmIHsgaGlzdG9yeU5hdjogSGlzdG9yeU5hdiB9O1xuXG5jb25zdCBoaXN0b3J5TmF2U3luYyA9IChkYXRhOiBEYXRhT3V0cHV0PERhdGFDb250ZXh0Piwgbm9TdG9yZT86IGJvb2xlYW4pID0+IHtcbiAgZGF0YS5jb250ZXh0LmVscy5mb3JFYWNoKCh7IHdyYXBwZXIsIGZpZWxkIH0pID0+IHtcbiAgICBjb25zdCBwcmV2VmFsdWUgPSBmaWVsZC5nZXRWYWx1ZSgpO1xuICAgIGZpZWxkLnNldFZhbHVlKGRhdGEudmFsdWUpO1xuICAgIGZpZWxkLmZpcmVFdmVudCgnY2hhbmdlJywgZmllbGQsIGRhdGEudmFsdWUsIHByZXZWYWx1ZSk7XG5cbiAgICBpZiAobm9TdG9yZSkge1xuICAgICAgZmllbGQuZWwuZG9tLnNjcm9sbFRvcCA9IGZpZWxkLmVsLmRvbS5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEudG90YWwgPiAwKSB7XG4gICAgICB3cmFwcGVyLmhpc3RvcnlOYXYuc2hvdygpO1xuICAgIH1cblxuICAgIHdyYXBwZXIuaGlzdG9yeU5hdi5pbmZvLnVwZGF0ZShkYXRhLmN1cnJlbnQsIGRhdGEudG90YWwpO1xuXG4gICAgaWYgKGRhdGEucHJldlN0YXR1cykge1xuICAgICAgd3JhcHBlci5oaXN0b3J5TmF2LnByZXZCdXR0b24uZW5hYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdyYXBwZXIuaGlzdG9yeU5hdi5wcmV2QnV0dG9uLmRpc2FibGUoKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5uZXh0U3RhdHVzKSB7XG4gICAgICB3cmFwcGVyLmhpc3RvcnlOYXYubmV4dEJ1dHRvbi5lbmFibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3JhcHBlci5oaXN0b3J5TmF2Lm5leHRCdXR0b24uZGlzYWJsZSgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVXYW5kRWwgPSAoKSA9PiB7XG4gIGNvbnN0IHdhbmRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICB3YW5kRWwuY2xhc3NOYW1lID0gJ21vZGFpLWdlbmVyYXRlJztcbiAgd2FuZEVsLmlubmVyVGV4dCA9ICfinKYnO1xuICB3YW5kRWwudHlwZSA9ICdidXR0b24nO1xuICB3YW5kRWwudGl0bGUgPSAnR2VuZXJhdGUgdXNpbmcgQUknO1xuXG4gIHJldHVybiB3YW5kRWw7XG59O1xuXG5jb25zdCBjcmVhdGVIaXN0b3J5TmF2ID0gKGNhY2hlOiBSZXR1cm5UeXBlPHR5cGVvZiBoaXN0b3J5LmluaXQ8RGF0YUNvbnRleHQ+PikgPT4ge1xuICBjb25zdCBwcmV2QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykgYXMgSGlzdG9yeUJ1dHRvbjtcbiAgcHJldkJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gIHByZXZCdXR0b24udGl0bGUgPSAnUHJldmlvdXMgVmVyc2lvbic7XG4gIHByZXZCdXR0b24uY2xhc3NOYW1lID0gJ21vZGFpLWhpc3RvcnlfcHJldic7XG4gIHByZXZCdXR0b24uZGlzYWJsZSA9ICgpID0+IHtcbiAgICBwcmV2QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfTtcbiAgcHJldkJ1dHRvbi5lbmFibGUgPSAoKSA9PiB7XG4gICAgcHJldkJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuICBwcmV2QnV0dG9uLmlubmVySFRNTCA9ICdwcmV2JztcbiAgcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjYWNoZS5wcmV2KCk7XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSBhcyBIaXN0b3J5QnV0dG9uO1xuICBuZXh0QnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgbmV4dEJ1dHRvbi50aXRsZSA9ICdOZXh0IFZlcnNpb24nO1xuICBuZXh0QnV0dG9uLmNsYXNzTmFtZSA9ICdtb2RhaS1oaXN0b3J5X25leHQnO1xuICBuZXh0QnV0dG9uLmRpc2FibGUgPSAoKSA9PiB7XG4gICAgbmV4dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG4gIG5leHRCdXR0b24uZW5hYmxlID0gKCkgPT4ge1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcbiAgbmV4dEJ1dHRvbi5pbm5lckhUTUwgPSAnbmV4dCc7XG4gIG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2FjaGUubmV4dCgpO1xuICB9KTtcblxuICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIGFzIEhpc3RvcnlJbmZvO1xuICBpbmZvLnVwZGF0ZSA9IChzaG93aW5nLCB0b3RhbCkgPT4ge1xuICAgIGluZm8uaW5uZXJUZXh0ID0gYCR7c2hvd2luZ30vJHt0b3RhbH1gO1xuICB9O1xuICBpbmZvLmlubmVyVGV4dCA9ICcnO1xuXG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykgYXMgSGlzdG9yeU5hdjtcbiAgd3JhcHBlci5zaG93ID0gKCkgPT4ge1xuICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdpbml0aWFsJztcbiAgfTtcblxuICB3cmFwcGVyLmhpZGUgPSAoKSA9PiB7XG4gICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9O1xuXG4gIHdyYXBwZXIucHJldkJ1dHRvbiA9IHByZXZCdXR0b247XG4gIHdyYXBwZXIubmV4dEJ1dHRvbiA9IG5leHRCdXR0b247XG4gIHdyYXBwZXIuaW5mbyA9IGluZm87XG5cbiAgd3JhcHBlci5hcHBlbmRDaGlsZChwcmV2QnV0dG9uKTtcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChuZXh0QnV0dG9uKTtcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcblxuICB3cmFwcGVyLmhpZGUoKTtcbiAgcHJldkJ1dHRvbi5kaXNhYmxlKCk7XG4gIG5leHRCdXR0b24uZGlzYWJsZSgpO1xuXG4gIHJldHVybiB3cmFwcGVyO1xufTtcblxuY29uc3QgY3JlYXRlRnJlZVRleHRQcm9tcHQgPSAoZmllbGROYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgd2FuZEVsID0gY3JlYXRlV2FuZEVsKCk7XG4gIHdhbmRFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1aS5sb2NhbENoYXQoe1xuICAgICAga2V5OiBmaWVsZE5hbWUsXG4gICAgICBmaWVsZDogZmllbGROYW1lLFxuICAgICAgb3ZlcmxheTogZmFsc2UsXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBhdmFpbGFibGVUeXBlczogWyd0ZXh0JywgJ2ltYWdlJ10sXG4gICAgICByZXNvdXJjZTogTU9EeC5yZXF1ZXN0LmlkLFxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gd2FuZEVsO1xufTtcblxuY29uc3QgY3JlYXRlRm9yY2VkVGV4dFByb21wdCA9IChmaWVsZDogRXh0LmZvcm0uRmllbGQsIGZpZWxkTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGFpV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSBhcyBIaXN0b3J5RWxlbWVudDtcblxuICBjb25zdCB3YW5kRWwgPSBjcmVhdGVXYW5kRWwoKTtcbiAgd2FuZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGRvbmUgPSBjcmVhdGVMb2FkaW5nT3ZlcmxheShmaWVsZC5lbC5kb20pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLm1nci5wcm9tcHQudGV4dCh7XG4gICAgICAgIGlkOiBNT0R4LnJlcXVlc3QuaWQsXG4gICAgICAgIGZpZWxkOiBmaWVsZE5hbWUsXG4gICAgICB9KTtcbiAgICAgIGNhY2hlLmluc2VydChyZXN1bHQuY29udGVudCk7XG4gICAgICBkb25lKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkb25lKCk7XG4gICAgICBFeHQuTXNnLmFsZXJ0KFxuICAgICAgICAnRmFpbGVkJyxcbiAgICAgICAgXygnbW9kYWkuY21wLmZhaWxlZF90cnlfYWdhaW4nLCB7IG1zZzogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICcnIH0pLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpV3JhcHBlci5hcHBlbmRDaGlsZCh3YW5kRWwpO1xuXG4gIGNvbnN0IGNhY2hlID0gaGlzdG9yeS5pbml0KGZpZWxkTmFtZSwgaGlzdG9yeU5hdlN5bmMsIGZpZWxkLmdldFZhbHVlKCksIHt9IGFzIERhdGFDb250ZXh0KTtcblxuICBpZiAoIWNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMpIHtcbiAgICBjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzID0gW107XG4gIH1cbiAgY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscy5wdXNoKHsgZmllbGQsIHdyYXBwZXI6IGFpV3JhcHBlciB9KTtcblxuICBjb25zdCBoaXN0b3J5TmF2ID0gY3JlYXRlSGlzdG9yeU5hdihjYWNoZSk7XG5cbiAgYWlXcmFwcGVyLmFwcGVuZENoaWxkKGhpc3RvcnlOYXYpO1xuICBhaVdyYXBwZXIuaGlzdG9yeU5hdiA9IGhpc3RvcnlOYXY7XG5cbiAgcmV0dXJuIGFpV3JhcHBlcjtcbn07XG5cbmNvbnN0IGNyZWF0ZUltYWdlUHJvbXB0ID0gKFxuICBtZWRpYVNvdXJjZTogc3RyaW5nLFxuICBmaWVsZE5hbWU6IHN0cmluZyxcbiAgb25TdWNjZXNzOiAobXNnOiBNZXNzYWdlKSA9PiB2b2lkLFxuKSA9PiB7XG4gIGNvbnN0IGltYWdlV2FuZCA9IGNyZWF0ZVdhbmRFbCgpO1xuICBpbWFnZVdhbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdWkubG9jYWxDaGF0KHtcbiAgICAgIGtleTogZmllbGROYW1lLFxuICAgICAgZmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICByZXNvdXJjZTogTU9EeC5yZXF1ZXN0LmlkLFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgbWVkaWFTb3VyY2U6IHBhcnNlSW50KG1lZGlhU291cmNlKSB8fCB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgaW1hZ2VBY3Rpb25zOiB7XG4gICAgICAgIGNvcHk6IGZhbHNlLFxuICAgICAgICBpbnNlcnQ6IChtc2csIG1vZGFsKSA9PiB7XG4gICAgICAgICAgb25TdWNjZXNzKG1zZyk7XG4gICAgICAgICAgbW9kYWwuYXBpLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBpbWFnZVdhbmQ7XG59O1xuXG5jb25zdCBhdHRhY2hGaWVsZCA9IChjbXA6IHN0cmluZywgZmllbGROYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZmllbGQgPSBFeHQuZ2V0Q21wKGNtcCk7XG4gIGlmICghZmllbGQpIHJldHVybjtcblxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIGFzIEhpc3RvcnlFbGVtZW50O1xuXG4gIGNvbnN0IHdhbmRFbCA9IGNyZWF0ZVdhbmRFbCgpO1xuICB3YW5kRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGNyZWF0ZUxvYWRpbmdPdmVybGF5KGZpZWxkLmVsLmRvbSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC50ZXh0KFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IE1PRHgucmVxdWVzdC5pZCxcbiAgICAgICAgICBmaWVsZDogZmllbGROYW1lLFxuICAgICAgICB9LFxuICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgIGNhY2hlLmluc2VydChkYXRhLmNvbnRlbnQsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGNhY2hlLmluc2VydChyZXN1bHQuY29udGVudCk7XG4gICAgICBkb25lKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkb25lKCk7XG4gICAgICBFeHQuTXNnLmFsZXJ0KFxuICAgICAgICAnRmFpbGVkJyxcbiAgICAgICAgXygnbW9kYWkuY21wLmZhaWxlZF90cnlfYWdhaW4nLCB7IG1zZzogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICcnIH0pLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQod2FuZEVsKTtcblxuICBjb25zdCBjYWNoZSA9IGhpc3RvcnkuaW5pdDxEYXRhQ29udGV4dD4oXG4gICAgZmllbGROYW1lLFxuICAgIGhpc3RvcnlOYXZTeW5jLFxuICAgIGZpZWxkLmdldFZhbHVlKCksXG4gICAge30gYXMgRGF0YUNvbnRleHQsXG4gICk7XG5cbiAgaWYgKCFjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzKSB7XG4gICAgY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscyA9IFtdO1xuICB9XG4gIGNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMucHVzaCh7IGZpZWxkLCB3cmFwcGVyIH0pO1xuXG4gIGNvbnN0IGhpc3RvcnlOYXYgPSBjcmVhdGVIaXN0b3J5TmF2KGNhY2hlKTtcblxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGhpc3RvcnlOYXYpO1xuICB3cmFwcGVyLmhpc3RvcnlOYXYgPSBoaXN0b3J5TmF2O1xuXG4gIGZpZWxkLmxhYmVsLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xufTtcblxuY29uc3QgYXR0YWNoSW1hZ2VQbHVzID0gKGltZ1BsdXNQYW5lbDogRWxlbWVudCwgZmllbGROYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaW1hZ2VQbHVzID0gRXh0LmdldENtcChpbWdQbHVzUGFuZWwuZmlyc3RFbGVtZW50Q2hpbGQ/LmlkKTtcblxuICBjb25zdCBpbWFnZVdhbmQgPSBjcmVhdGVJbWFnZVByb21wdChpbWFnZVBsdXMuaW1hZ2VCcm93c2VyLnNvdXJjZSwgZmllbGROYW1lLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgaW1hZ2VQbHVzLmltYWdlQnJvd3Nlci5zZXRWYWx1ZShtc2cuY3R4LnVybCk7XG4gICAgaW1hZ2VQbHVzLm9uSW1hZ2VDaGFuZ2UobXNnLmN0eC51cmwpO1xuICB9KTtcblxuICBjb25zdCBhbHRUZXh0V2FuZCA9IGNyZWF0ZVdhbmRFbCgpO1xuICBhbHRUZXh0V2FuZC5zdHlsZS5tYXJnaW5Ub3AgPSAnNnB4JztcbiAgYWx0VGV4dFdhbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW1nRWxlbWVudCA9IGltYWdlUGx1cy5pbWFnZVByZXZpZXcuZWwuZG9tO1xuXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgIGNhbnZhcy53aWR0aCA9IGltZ0VsZW1lbnQud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGltZ0VsZW1lbnQuaGVpZ2h0O1xuXG4gICAgY3R4LmRyYXdJbWFnZShpbWdFbGVtZW50LCAwLCAwKTtcblxuICAgIGNvbnN0IGJhc2U2NERhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcblxuICAgIGNvbnN0IGRvbmUgPSBjcmVhdGVMb2FkaW5nT3ZlcmxheShpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLmVsLmRvbSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC52aXNpb24oXG4gICAgICAgIHtcbiAgICAgICAgICBpbWFnZTogYmFzZTY0RGF0YSxcbiAgICAgICAgICBmaWVsZDogZmllbGROYW1lLFxuICAgICAgICB9LFxuICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuaXRlbXMuaXRlbXNbMF0uc2V0VmFsdWUoZGF0YS5jb250ZW50KTtcbiAgICAgICAgICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLmVsLmRvbS5zY3JvbGxUb3AgPVxuICAgICAgICAgICAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5pdGVtcy5pdGVtc1swXS5lbC5kb20uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIGltYWdlUGx1cy5pbWFnZS5hbHRUYWcgPSBkYXRhLmNvbnRlbnQ7XG4gICAgICAgICAgaW1hZ2VQbHVzLnVwZGF0ZVZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5pdGVtcy5pdGVtc1swXS5zZXRWYWx1ZShyZXN1bHQuY29udGVudCk7XG4gICAgICBpbWFnZVBsdXMuaW1hZ2UuYWx0VGFnID0gcmVzdWx0LmNvbnRlbnQ7XG4gICAgICBpbWFnZVBsdXMudXBkYXRlVmFsdWUoKTtcbiAgICAgIGRvbmUoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRvbmUoKTtcbiAgICAgIEV4dC5Nc2cuYWxlcnQoXG4gICAgICAgICdGYWlsZWQnLFxuICAgICAgICBfKCdtb2RhaS5jbXAuZmFpbGVkX3RyeV9hZ2FpbicsIHsgbXNnOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJycgfSksXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5lbC5kb20uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5lbC5kb20uc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcblxuICBpbWFnZVBsdXMuZWwuZG9tLnBhcmVudEVsZW1lbnQ/LnBhcmVudEVsZW1lbnQ/LnBhcmVudEVsZW1lbnRcbiAgICA/LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJylcbiAgICA/LmFwcGVuZENoaWxkKGltYWdlV2FuZCk7XG4gIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLmFwcGVuZENoaWxkKGFsdFRleHRXYW5kKTtcbn07XG5cbmNvbnN0IGF0dGFjaENvbnRlbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGNtcCA9IEV4dC5nZXRDbXAoJ21vZHgtcmVzb3VyY2UtY29udGVudCcpO1xuICBjb25zdCBsYWJlbCA9IGNtcC5lbC5kb20ucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgbGFiZWw/LmFwcGVuZENoaWxkKGNyZWF0ZUZyZWVUZXh0UHJvbXB0KCdyZXMuY29udGVudCcpKTtcbn07XG5cbmNvbnN0IGF0dGFjaFRWcyA9ICgpID0+IHtcbiAgY29uc3QgZm9ybSA9IEV4dC5nZXRDbXAoJ21vZHgtcGFuZWwtcmVzb3VyY2UnKS5nZXRGb3JtKCk7XG4gIGZvciAoY29uc3QgW3R2SWQsIHR2TmFtZV0gb2YgbW9kQUk/LnR2cyB8fCBbXSkge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBFeHQuZ2V0KGB0diR7dHZJZH0tdHJgKTtcbiAgICBpZiAoIXdyYXBwZXIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGZpZWxkID0gZm9ybS5maW5kRmllbGQoYHR2JHt0dklkfWApO1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IGB0di4ke3R2TmFtZX1gO1xuXG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgY29uc3QgaW1nUGx1c1BhbmVsID0gd3JhcHBlci5kb20ucXVlcnlTZWxlY3RvcignLmltYWdlcGx1cy1wYW5lbC1pbnB1dCcpO1xuICAgICAgaWYgKGltZ1BsdXNQYW5lbCkge1xuICAgICAgICBhdHRhY2hJbWFnZVBsdXMoaW1nUGx1c1BhbmVsLCBmaWVsZE5hbWUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnh0eXBlID09PSAndGV4dGZpZWxkJyB8fCBmaWVsZC54dHlwZSA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgY29uc3QgcHJvbXB0ID0gTU9EeC5jb25maWdbYG1vZGFpLnR2LiR7dHZOYW1lfS50ZXh0LnByb21wdGBdO1xuXG4gICAgICBjb25zdCBsYWJlbCA9IHdyYXBwZXIuZG9tLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgICBpZiAoIWxhYmVsKSByZXR1cm47XG5cbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlRm9yY2VkVGV4dFByb21wdChmaWVsZCwgZmllbGROYW1lKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVGcmVlVGV4dFByb21wdChmaWVsZE5hbWUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmllbGQueHR5cGUgPT09ICdtb2R4LXBhbmVsLXR2LWltYWdlJykge1xuICAgICAgY29uc3QgaW1hZ2VXYW5kID0gY3JlYXRlSW1hZ2VQcm9tcHQoZmllbGQuc291cmNlLCBmaWVsZE5hbWUsIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xuICAgICAgICAgIHJlbGF0aXZlVXJsOiBtc2cuY3R4LnVybCxcbiAgICAgICAgICB1cmw6IG1zZy5jdHgudXJsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZpZWxkLml0ZW1zLml0ZW1zWzFdLmZpcmVFdmVudCgnc2VsZWN0JywgZXZlbnREYXRhKTtcbiAgICAgICAgZmllbGQuZmlyZUV2ZW50KCdzZWxlY3QnLCBldmVudERhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxhYmVsID0gd3JhcHBlci5kb20ucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICAgIGlmICghbGFiZWwpIHJldHVybjtcblxuICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW1hZ2VXYW5kKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGF0dGFjaFJlc291cmNlRmllbGRzID0gKCkgPT4ge1xuICBjb25zdCBmaWVsZHNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcbiAgICBwYWdldGl0bGU6IFsnbW9keC1yZXNvdXJjZS1wYWdldGl0bGUnXSxcbiAgICBsb25ndGl0bGU6IFsnbW9keC1yZXNvdXJjZS1sb25ndGl0bGUnLCAnc2Vvc3VpdGUtbG9uZ3RpdGxlJ10sXG4gICAgaW50cm90ZXh0OiBbJ21vZHgtcmVzb3VyY2UtaW50cm90ZXh0J10sXG4gICAgZGVzY3JpcHRpb246IFsnbW9keC1yZXNvdXJjZS1kZXNjcmlwdGlvbicsICdzZW9zdWl0ZS1kZXNjcmlwdGlvbiddLFxuICAgIGNvbnRlbnQ6IFsnbW9keC1yZXNvdXJjZS1jb250ZW50J10sXG4gIH07XG5cbiAgZm9yIChjb25zdCBmaWVsZCBvZiBtb2RBST8ucmVzb3VyY2VGaWVsZHMgfHwgW10pIHtcbiAgICBpZiAoIWZpZWxkc01hcFtmaWVsZF0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmaWVsZCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBhdHRhY2hDb250ZW50KCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmaWVsZHNNYXBbZmllbGRdLmZvckVhY2goKGNtcElkKSA9PiB7XG4gICAgICBhdHRhY2hGaWVsZChjbXBJZCwgYHJlcy4ke2ZpZWxkfWApO1xuICAgIH0pO1xuICB9XG59O1xuXG4oKCkgPT4ge1xuICBFeHQub25SZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgRXh0LmRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGF0dGFjaFJlc291cmNlRmllbGRzKCk7XG4gICAgICBhdHRhY2hUVnMoKTtcbiAgICB9LCA1MDApO1xuICB9KTtcbn0pKCk7XG4iLCJpbXBvcnQgJy4vcmVzb3VyY2UnO1xuXG5leHBvcnQgY29uc3Qgd2luZG93ID0ge307XG5cbmV4cG9ydCB7IGNoYXRIaXN0b3J5IH0gZnJvbSAnLi9jaGF0SGlzdG9yeSc7XG5leHBvcnQgeyBoaXN0b3J5IH0gZnJvbSAnLi9oaXN0b3J5JztcbmV4cG9ydCB7IGV4ZWN1dG9yIH0gZnJvbSAnLi9leGVjdXRvcic7XG5leHBvcnQgeyB1aSB9IGZyb20gJy4vdWknO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInNlcnZpY2VzIiwiYnVmZmVyZWQiLCJjaGF0Z3B0IiwiY29udGVudCIsImRhdGEiLCJjaG9pY2VzIiwibWVzc2FnZSIsIkVycm9yIiwiXyIsImlkIiwiaW1hZ2UiLCJ1cmwiLCJiNjRfanNvbiIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjbGF1ZGUiLCJ0ZXh0IiwiZ2VtaW5pIiwiY2FuZGlkYXRlcyIsInBhcnRzIiwiYmFzZTY0IiwicHJlZGljdGlvbnMiLCJieXRlc0Jhc2U2NEVuY29kZWQiLCJzdHJlYW0iLCJuZXdEYXRhIiwiY3VycmVudERhdGEiLCJjdXJyZW50Q29udGVudCIsImRlbHRhIiwiZXJyb3JIYW5kbGVyIiwiYXN5bmMiLCJyZXMiLCJvayIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJoYW5kbGVTdHJlYW0iLCJzZXJ2aWNlIiwicGFyc2VyIiwib25DaHVua1N0cmVhbSIsInNpZ25hbCIsImJvZHkiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJidWZmZXIiLCJhYm9ydGVkIiwiZG9uZSIsInJlYWQiLCJjaHVuayIsImRlY29kZSIsImpzb25MaW5lcyIsInRyaW0iLCJzcGxpdCIsIm1hcCIsImxpbmUiLCJyZXBsYWNlIiwiZmlsdGVyIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsIm5ld2xpbmVJbmRleCIsImxhc3ROZXdsaW5lSW5kZXgiLCJpbmRleE9mIiwic2xpY2UiLCJzdGFydHNXaXRoIiwidHlwZSIsImFpRmV0Y2giLCJhY3Rpb24iLCJwYXJhbXMiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiZmV0Y2giLCJtb2RBSSIsImFwaVVSTCIsIm1ldGhvZCIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJkZXRhaWwiLCJwYXJzZUludCIsImRldGFpbHMiLCJmb3JFeGVjdXRvciIsImV4ZWN1dG9yRGV0YWlscyIsImNhbGxTdHJlYW1TZXJ2aWNlIiwiY2FsbFNlcnZpY2UiLCJzZXJ2aWNlRXhlY3V0b3IiLCJhYm9ydCIsImV4ZWN1dG9yIiwibWdyIiwiZG93bmxvYWQiLCJtb2R4RmV0Y2giLCJwcm9tcHQiLCJmcmVlVGV4dCIsInZpc2lvbiIsInVuZGVmaW5lZCIsIl9jYWNoZSIsIl9mb3JtYXRPdXRwdXQiLCJjYWNoZWRJdGVtIiwicHJldlN0YXR1cyIsInZpc2libGUiLCJuZXh0U3RhdHVzIiwidmFsdWVzIiwibGVuZ3RoIiwiY3VycmVudCIsInRvdGFsIiwiY29udGV4dCIsImluc2VydCIsIm5vU3RvcmUiLCJwdXNoIiwib3V0cHV0IiwidGhpcyIsInN5bmNVSSIsIm5leHQiLCJwcmV2IiwiaW5pdCIsImluaXRWYWx1ZSIsImdldERhdGEiLCJnZXRBbGwiLCJkcmFnIiwiZSIsIm1vZGFsIiwiaXNEcmFnZ2luZyIsIm5ld1giLCJjbGllbnRYIiwib2Zmc2V0WCIsIm5ld1kiLCJjbGllbnRZIiwib2Zmc2V0WSIsInN0eWxlIiwibGVmdCIsInRvcCIsInRyYW5zZm9ybSIsImVuZERyYWciLCJkb2N1bWVudCIsInVzZXJTZWxlY3QiLCJhcHBseVN0eWxlcyIsImVsZW1lbnQiLCJzdHlsZU9iaiIsImFzc2lnbiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsIm5sVG9CciIsInRlc3QiLCJkZWZhdWx0Q29uZmlnIiwibG9hZGluZ1RleHQiLCJjb21wbGV0ZWRUZXh0IiwiY29tcGxldGVkVGV4dER1cmF0aW9uIiwiZGlzYWJsZWQiLCJzdHlsZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwiZm9udFNpemUiLCJjdXJzb3IiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImNvbG9yIiwib3BhY2l0eSIsIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luUmlnaHQiLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJpY29ucyIsImNvcHkiLCJjcmVhdGVBY3Rpb25CdXR0b24iLCJjb25maWciLCJidXR0b24iLCJjbGFzc05hbWUiLCJlbmFibGUiLCJkaXNhYmxlIiwiY29weUljb24iLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpY29uIiwiYXBwZW5kIiwiY3JlYXRlVGV4dE5vZGUiLCJsYWJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcmlnaW5hbEhUTUwiLCJpbm5lckhUTUwiLCJyZXN1bHQiLCJvbkNsaWNrIiwiUHJvbWlzZSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJwb3NpdGlvbiIsInpJbmRleCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImJveFNoYWRvdyIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsInRyYW5zaXRpb24iLCJqdXN0aWZ5Q29udGVudCIsImZvbnRXZWlnaHQiLCJnYXAiLCJiYWNrZ3JvdW5kIiwiZmxleCIsIm92ZXJmbG93WSIsImJveFNpemluZyIsIm1hcmdpbkJvdHRvbSIsIndvcmRXcmFwIiwibWFyZ2luTGVmdCIsImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIiwibWF4V2lkdGgiLCJib3JkZXJUb3AiLCJvdXRsaW5lIiwicmVzaXplIiwibWluV2lkdGgiLCJiYWNrZHJvcEZpbHRlciIsInBvaW50ZXJFdmVudHMiLCJib3JkZXJDb2xvciIsIm9iamVjdEZpdCIsImFkZEVycm9yTWVzc2FnZSIsImNoYXRNZXNzYWdlcyIsIm1lc3NhZ2VEaXYiLCJlcnJvckljb24iLCJ0ZXh0U3BhbiIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImFkZEFzc2lzdGFudE1lc3NhZ2UiLCJwcm92aWRlZElkIiwibWVzc2FnZUlkIiwiY29udGVudERpdiIsImlmcmFtZSIsInByb3ZpZGVkQ29udGVudCIsImN1c3RvbUNTUyIsImlzTG9hZGVkIiwicGVuZGluZ0NvbnRlbnQiLCJnZXRJZnJhbWVEb2N1bWVudCIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJjcmVhdGVJZnJhbWVDb250ZW50IiwiY3NzIiwiam9pbiIsInNldHVwSWZyYW1lQ29udGVudCIsImRvYyIsImZvckVhY2giLCJsaW5rIiwicmVsIiwiaHJlZiIsInN5bmNDb250ZW50IiwibmV3Q29udGVudCIsInNyY2RvYyIsInF1ZXJ5U2VsZWN0b3IiLCJzeW5jSGVpZ2h0IiwidXBkYXRlQ29udGVudCIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvZmZzZXRIZWlnaHQiLCJpIiwiYm90dG9tIiwib2Zmc2V0VG9wIiwibWF4Iiwib25sb2FkIiwiY3JlYXRlQ29udGVudElmcmFtZSIsIkFycmF5IiwiaXNBcnJheSIsImFjdGlvbnNEaXYiLCJoaXN0b3J5IiwiZ2V0TWVzc2FnZXMiLCJmaW5kIiwibSIsInJvbGUiLCJ0ZXh0QWN0aW9ucyIsImlzTG9hZGluZyIsImNvcHlUb0NsaXBib2FyZCIsImltYWdlQWN0aW9ucyIsIm1zZyIsImhhbmRsZXIiLCJjdHgiLCJkb3dubG9hZGVkIiwiZmllbGQiLCJuYW1lc3BhY2UiLCJyZXNvdXJjZSIsIm1lZGlhU291cmNlIiwiZnVsbFVybCIsImluc2VydENiIiwidXBkYXRlIiwicmVuZGVyTWVzc2FnZSIsImhpZGRlbiIsImltYWdlc0NvbnRlbnQiLCJpbWFnZXMiLCJjb250ZW50V3JhcHBlciIsInRleHREaXYiLCJpbWFnZVJvdyIsImZsZXhXcmFwIiwiaW1nQ29udGVudCIsImltYWdlV3JhcHBlciIsIm1hcmdpblRvcCIsImltZyIsInNyYyIsImFkZFVzZXJNZXNzYWdlIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGV4dGFyZWEiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsImdsb2JhbFN0YXRlIiwibW9kYWxPcGVuIiwic2V0TG9hZGluZ1N0YXRlIiwibG9hZGluZyIsImxvYWRpbmdJbmRpY2F0b3IiLCJtZXNzYWdlSW5wdXQiLCJzZW5kQnRuIiwic3RvcEJ0biIsImhhc01lc3NhZ2VzIiwidHJ5QWdhaW5CdG4iLCJ0eXBlQnV0dG9ucyIsImlzQWN0aXZlIiwidG9Mb3dlckNhc2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlVXBsb2FkZWRJbWFnZSIsImltYWdlUHJldmlldyIsInJlbW92ZSIsInVwbG9hZGVkSW1hZ2UiLCJwYWRkaW5nTGVmdCIsImhhbmRsZUltYWdlVXBsb2FkIiwiZmlsZU9yVXJsIiwiaXNSZW1vdGVVcmwiLCJGaWxlIiwicmVtb3ZlQnRuIiwiZGF0YVVSTCIsInJlamVjdCIsIkZpbGVSZWFkZXIiLCJldmVudCIsInRhcmdldCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwic3RvcFByb3BhZ2F0aW9uIiwiaW5wdXRXcmFwcGVyIiwiX25hbWVzcGFjZSIsIlJPTEVTIiwiYWRkTWVzc2FnZSIsIm1zZ09iamVjdCIsImluZGV4IiwiaWRSZWYiLCJlbCIsIm9uQWRkTWVzc2FnZSIsImNoYXRIaXN0b3J5IiwidXBkYXRlQXNzaXN0YW50TWVzc2FnZSIsInVwZGF0ZU1lc3NhZ2UiLCJnZXRBc3Npc3RhbnRNZXNzYWdlIiwiZ2V0TWVzc2FnZSIsImdldE1lc3NhZ2VzSGlzdG9yeSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibW9kYWxPdmVybGF5Iiwic2VuZE1lc3NhZ2UiLCJwcm92aWRlZE1lc3NhZ2UiLCJoaWRlUHJvbXB0IiwiYWJvcnRDb250cm9sbGVyIiwibWVzc2FnZVRvU2VuZCIsIm1lc3NhZ2VzIiwiZXJyIiwibmFtZSIsIm1vZGFsVHlwZXMiLCJjcmVhdGVNb2RhbCIsImFsZXJ0Iiwib3ZlcmxheSIsImF2YWlsYWJsZVR5cGVzIiwiaW5jbHVkZXMiLCJ1bnNoaWZ0IiwiY2hhdE1vZGFsIiwiY2hhdEhlYWRlciIsImNoYXRUaXRsZSIsImNoYXRDb250cm9scyIsImNsb3NlQnRuIiwiY2hhdElucHV0QXJlYSIsImlucHV0Um93IiwicGxhY2Vob2xkZXIiLCJwcmV2ZW50RGVmYXVsdCIsImltYWdlRmlsZSIsInJlbW90ZUltYWdlVXJsIiwiZGF0YVRyYW5zZmVyIiwiZmlsZXMiLCJmaWxlIiwiaW1nVXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJyZXNwb25zZSIsImJsb2IiLCJpdGVtcyIsImNsaXBib2FyZERhdGEiLCJnZXRBc0ZpbGUiLCJidXR0b25zQ29sdW1uIiwic2VuZEljb24iLCJzZW5kVGV4dCIsImFjdGlvbkJ1dHRvbnNSb3ciLCJzdG9wSWNvbiIsInRpdGxlIiwicmVmcmVzaEljb24iLCJ0eXBlU2VsZWN0b3IiLCJ0eXBlTGFiZWwiLCJ0eXBlVG9nZ2xlR3JvdXAiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImJ0biIsImZpcnN0Q2hpbGQiLCJzd2l0Y2hUeXBlIiwic3RvcEdlbmVyYXRpb24iLCJsYXRlc3RVc2VyTXNnIiwicmV2ZXJzZSIsInRyeUFnYWluIiwic2hpZnRLZXkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5pdERyYWciLCJidWlsZE1vZGFsIiwiYXBpIiwidmlzaWJpbGl0eSIsIm9wZW5Nb2RhbCIsImNyZWF0ZUxvYWRpbmdPdmVybGF5Iiwib3B0aW9ucyIsImluZGljYXRvclR5cGUiLCJvdmVybGF5Q29sb3IiLCJpbmRpY2F0b3JDb2xvciIsImluZGljYXRvciIsInRleHRhcmVhU3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRleHRhcmVhUmVjdCIsInN0eWxlVGV4dCIsImFuaW1hdGlvbiIsImRvdCIsIm1hcmdpbiIsImFuaW1hdGlvbkRlbGF5Iiwic3R5bGVTaGVldCIsInBhcmVudFN0eWxlcyIsInBhcmVudEVsZW1lbnQiLCJ3cmFwcGVyIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInVwZGF0ZWRSZWN0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidWkiLCJsb2NhbENoYXQiLCJoaXN0b3J5TmF2U3luYyIsImVscyIsInByZXZWYWx1ZSIsImdldFZhbHVlIiwic2V0VmFsdWUiLCJmaXJlRXZlbnQiLCJkb20iLCJoaXN0b3J5TmF2Iiwic2hvdyIsImluZm8iLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImNyZWF0ZVdhbmRFbCIsIndhbmRFbCIsImlubmVyVGV4dCIsImNyZWF0ZUhpc3RvcnlOYXYiLCJjYWNoZSIsInNob3dpbmciLCJoaWRlIiwiY3JlYXRlRnJlZVRleHRQcm9tcHQiLCJmaWVsZE5hbWUiLCJNT0R4IiwicmVxdWVzdCIsImNyZWF0ZUZvcmNlZFRleHRQcm9tcHQiLCJhaVdyYXBwZXIiLCJFeHQiLCJNc2ciLCJjcmVhdGVJbWFnZVByb21wdCIsIm9uU3VjY2VzcyIsImltYWdlV2FuZCIsImF0dGFjaEZpZWxkIiwiY21wIiwiZ2V0Q21wIiwiYXR0YWNoSW1hZ2VQbHVzIiwiaW1nUGx1c1BhbmVsIiwiaW1hZ2VQbHVzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpbWFnZUJyb3dzZXIiLCJzb3VyY2UiLCJvbkltYWdlQ2hhbmdlIiwiYWx0VGV4dFdhbmQiLCJpbWdFbGVtZW50IiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImJhc2U2NERhdGEiLCJ0b0RhdGFVUkwiLCJhbHRUZXh0RmllbGQiLCJhbHRUYWciLCJ1cGRhdGVWYWx1ZSIsImp1c3RpZnlJdGVtcyIsImF0dGFjaENvbnRlbnQiLCJvblJlYWR5IiwiZGVmZXIiLCJmaWVsZHNNYXAiLCJwYWdldGl0bGUiLCJsb25ndGl0bGUiLCJpbnRyb3RleHQiLCJkZXNjcmlwdGlvbiIsInJlc291cmNlRmllbGRzIiwiY21wSWQiLCJhdHRhY2hSZXNvdXJjZUZpZWxkcyIsImZvcm0iLCJnZXRGb3JtIiwidHZJZCIsInR2TmFtZSIsInR2cyIsImZpbmRGaWVsZCIsInh0eXBlIiwiZXZlbnREYXRhIiwicmVsYXRpdmVVcmwiLCJhdHRhY2hUVnMiXSwic291cmNlUm9vdCI6IiJ9
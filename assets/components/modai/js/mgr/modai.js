!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.modAI=t():e.modAI=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{chatHistory:()=>u,executor:()=>r,history:()=>d,ui:()=>J,window:()=>oe});const n={buffered:{chatgpt:{content:e=>{const t=e?.choices?.[0]?.message?.content;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}},image:e=>{const t=e?.data?.[0]?.url;if(!t)throw new Error(_("modai.cmp.failed_request"));return{url:t}}},claude:{content:e=>{const t=e?.content?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}}},gemini:{content:e=>{const t=e?.candidates?.[0]?.content?.parts?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:`gemini-${Date.now()}-${Math.round(1e3*Math.random())}`,content:t}},image:e=>{const t=e?.predictions?.[0]?.bytesBase64Encoded;if(!t)throw new Error(_("modai.cmp.failed_request"));return{base64:`data:image/png;base64,${t}`}}}},stream:{chatgpt:{content:(e,t)=>{const n=t?.content??"",o=e.choices[0]?.delta?.content||"";return{...t,id:e.id,content:`${n}${o}`}}},claude:{content:(e,t)=>{const n=t?.content??"",o=e.delta?.text||"";return{...t,content:`${n}${o}`}}},gemini:{content:(e,t)=>{const n=t?.content??"",o=e.candidates[0]?.content?.parts[0]?.text||"";return{...t,content:`${n}${o}`}}}}},o=async e=>{if(!e.ok){const t=await e.json();if(t?.error)throw new Error(t.error.message);throw new Error(`${e.status} ${e.statusText}`)}},i=async(e,t,o,i,a)=>{if(!e.body)throw new Error("failed");const r=e.body.getReader(),s=new TextDecoder("utf-8");let d="",l={id:`${t}-${Date.now()}-${Math.round(1e3*Math.random())}`,content:""};for(;!a||!a.aborted;){const{done:e,value:a}=await r.read();if(e)break;const c=s.decode(a,{stream:!0});if("gemini"===t){const e=c.trim().split(",\r\n").map((e=>e.replace(/^\[|]$/g,""))).filter((e=>""!==e.trim()));for(const a of e)try{const e=JSON.parse(a);l=n.stream[t][o](e,l),i&&i(l)}catch{}}if("chatgpt"===t){d+=c;let e,a=0;for(;-1!==(e=d.indexOf("\n",a));){const r=d.slice(a,e).trim();if(a=e+1,r.startsWith("data: ")){const e=r.slice(6);if("[DONE]"===e)continue;try{const a=JSON.parse(e);l=n.stream[t][o](a,l),i&&i(l)}catch{}}}d=d.slice(a)}if("claude"===t){d+=c;let e,a=0;for(;-1!==(e=d.indexOf("\n",a));){const r=d.slice(a,e).trim();if(a=e+1,r.startsWith("data: ")){const e=r.slice(6);try{const a=JSON.parse(e);if("message_start"===a.type){l.id=a.message.id;continue}if("content_block_delta"!==a.type)continue;l=n.stream[t][o](a,l),i&&i(l)}catch{}}}d=d.slice(a)}}return l},a=async(e,t,a,r)=>{const s=(r=r||new AbortController).signal,d=await fetch(`${modAI.apiURL}?action=${e}`,{signal:s,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!d.ok){const e=await d.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}const l=d.headers.get("x-modai-service")??"chatgpt",c=d.headers.get("x-modai-parser")??"content",p=1===parseInt(d.headers.get("x-modai-stream")??"0");if(1!==parseInt(d.headers.get("x-modai-proxy")??"0")){return(async(e,t,a)=>{if("object"!=typeof e||!e.forExecutor)return e;const r=e.forExecutor,s=(a=a||new AbortController).signal;if(!r.service||!r.parser)throw new Error(_("modai.cmp.service_required"));if(!n[r.stream?"stream":"buffered"]?.[r.service]?.[r.parser])throw new Error(_("modai.cmp.service_unsupported"));if(r.stream)return(async e=>{if("content"!==r.parser)throw new Error(_("modai.cmp.service_unsupported"));const n=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});return await o(n),i(n,r.service,r.parser,t)})(r);const d=await(async e=>{const t=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});await o(t);const n=await t.json();if(n.error)throw new Error(n.error.message);return n})(r);return n.buffered[r.service][r.parser](d)})(await d.json(),a,r)}if(!l||!c)throw r.abort(),new Error(_("modai.cmp.service_required"));if(!n[p?"stream":"buffered"]?.[l]?.[c])throw r.abort(),new Error(_("modai.cmp.service_unsupported"));if(!p){const e=await d.json();return n.buffered[l][c](e)}if("content"!==c)throw new Error(_("modai.cmp.service_unsupported"));return await i(d,l,c,a,s)},r={mgr:{download:{image:async e=>await(async(e,t)=>{const n=await fetch(`${modAI.apiURL}?action=Download\\Image`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}return n.json()})(0,e)},prompt:{freeText:async(e,t,n)=>a("Prompt\\FreeText",e,t,n),text:async(e,t,n)=>a("Prompt\\Text",e,t,n),vision:async(e,t,n)=>a("Prompt\\Vision",e,t,n),image:async(e,t)=>a("Prompt\\Image",e,void 0,t)}}},s={},d={_formatOutput(e,t){const n=s[e],o=n.visible>0,i=n.visible!==n.values.length-1;return{value:void 0!==t?t:n.values[n.visible]??null,nextStatus:i,prevStatus:o,current:n.visible+1,total:n.values.length,context:n.context}},insert(e,t,n=!1){const o=s[e];n||(o.visible=o.values.push(t)-1);const i=this._formatOutput(e,t);return"function"==typeof o.syncUI&&o.syncUI(i,n),i},next(e){const t=s[e];if(t.visible===t.values.length-1)return this._formatOutput(e);t.visible++;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},prev(e){const t=s[e];if(t.visible<=0)return this._formatOutput(e);t.visible--;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},init(e,t,n,o){return s[e]||(s[e]={visible:-1,values:[],context:o}),s[e].syncUI=t,n&&(s[e].values=[n],s[e].visible=0),{cachedItem:s[e],getData:()=>this._formatOutput(e),getAll:()=>s[e].values,syncUI:()=>{"function"==typeof s[e].syncUI&&s[e].syncUI(this._formatOutput(e),!1)},insert:(t,n=!1)=>this.insert(e,t,n),next:()=>this.next(e),prev:()=>this.prev(e)}}},l=(e,t)=>{Object.assign(e.style,t)},c=(e,t,n="")=>{const o=document.createElement(e);return t&&l(o,t),n&&(o.textContent=n),o},p=e=>/<[^>]*>/g.test(e)?e:e.replace(/\r\n|\n|\r/g,"<br>"),g={},m="assistant",h=(e,t,n,o,i=!1)=>{const a=g[e];if(!a)return;const r={content:t,role:n,id:o,hidden:i};r.el=a.onAddMessage(r);const s=a.history.push(r)-1;o&&(a.idRef[o]=a.history[s])},u={init:(e,t,n)=>(g[e]||(g[e]={history:[],idRef:{},onAddMessage:t,onUpdateMessage:n}),g[e].onAddMessage=t,g[e].onUpdateMessage=n,{addUserMessage:(t,n)=>{h(e,t,"user",void 0,n)},addAssistantMessage:(t,n)=>{h(e,t,m,n)},updateAssistantMessage:(t,n)=>{((e,t,n)=>{const o=g[e];o&&(o.idRef[t]?(o.idRef[t].content=n,o.onUpdateMessage(o.idRef[t])):h(e,n,m,t))})(e,t,n)},getAssistantMessage:t=>((e,t)=>{const n=g[e];if(n)return n.idRef[t]})(e,t),getMessages:()=>g[e].history,getMessagesHistory:()=>g[e].history.map((e=>({role:e.role,content:e.content})))})},f={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"none",zIndex:"100"},x={position:"fixed",width:"1000px",minHeight:"170px",maxHeight:"600px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",display:"none",flexDirection:"column",overflow:"hidden",zIndex:"101",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:"height 0.3s ease-in-out"},y={backgroundColor:"#00B6DE",color:"white",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move"},b={fontWeight:"bold",fontSize:"16px"},v={display:"flex",gap:"10px"},w={background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer"},C={flex:"1",padding:"15px",overflowY:"auto",backgroundColor:"#f9f9f9",width:"100%",boxSizing:"border-box",display:"none"},E={marginBottom:"20px",borderRadius:"8px",position:"relative",wordWrap:"break-word",width:"100%",boxSizing:"border-box"},k={width:"100%",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.05)"},M={width:"fit-content",padding:"10px 15px",backgroundColor:"#4299e1",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px"},T={padding:"12px",width:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box"},I={display:"flex",padding:"8px 12px",gap:"8px",backgroundColor:"#f7fafc",borderTop:"1px solid #e2e8f0",borderRadius:"0 0 8px 8px"},S={backgroundColor:"#edf2f7",border:"1px solid #cbd5e0",borderRadius:"4px",padding:"3px 8px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",color:"#4a5568"},A={display:"flex",padding:"15px",borderTop:"1px solid #e2e8f0",backgroundColor:"white",position:"relative"},z={display:"flex",width:"100%",gap:"10px"},O={flex:"1",position:"relative",minHeight:"48px",maxHeight:"150px",display:"flex"},B={width:"100%",padding:"12px 15px",border:"1px solid #e2e8f0",borderRadius:"10px",outline:"none",fontSize:"14px",resize:"none",minHeight:"48px",maxHeight:"150px",overflowY:"auto",backgroundColor:"#fff",cursor:"inherit"},L={display:"flex",flexDirection:"column",gap:"4px",width:"100px"},H={backgroundColor:"#6CB24A",color:"white",border:"none",borderRadius:"12px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold",height:"40px",minWidth:"100px",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:"1"},R={display:"flex",gap:"4px",justifyContent:"space-between"},$={backgroundColor:"transparent",border:"1px solid #e2e8f0",borderRadius:"8px",width:"48px",height:"32px",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s",opacity:"1"},D={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M2.01 21L23 12 2.01 3 2 10l15 2-15 2z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},j={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23DC2626'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 6h12v12H6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},N={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234B5563'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},P={display:"inline-block",width:"14px",height:"14px",marginRight:"5px",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},V={opacity:"0.5",cursor:"not-allowed"},U={backgroundColor:"#f3f4f6",cursor:"not-allowed"},F={display:"none",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(243, 244, 246, 0.9)",borderRadius:"10px",color:"#6B7280",fontSize:"14px",alignItems:"center",justifyContent:"center",gap:"4px",flexDirection:"row",zIndex:"10",backdropFilter:"blur(2px)",border:"1px solid #e2e8f0",pointerEvents:"none"},q={width:"fit-content",padding:"10px 15px",backgroundColor:"#DC2626",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px",display:"flex",alignItems:"center",gap:"8px"},W={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},Y=(e,t={})=>{const n={indicatorType:t.indicatorType||"spinner",overlayColor:t.overlayColor||"rgba(255, 255, 255, 0.7)",indicatorColor:t.indicatorColor||"#3498db"},o=document.createElement("div"),i=document.createElement("div"),a=window.getComputedStyle(e),r=e.getBoundingClientRect();t.indicatorColor||(n.indicatorType=r.height<=50?"dots":"spinner"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor=n.overlayColor,o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.zIndex="10000",o.style.borderRadius=a.borderRadius;let s="";if("spinner"===n.indicatorType)i.style.border="4px solid #f3f3f3",i.style.borderTop=`4px solid ${n.indicatorColor}`,i.style.borderRadius="50%",i.style.width="30px",i.style.height="30px",i.style.animation="textareaOverlaySpin 1s linear infinite",s="\n      @keyframes textareaOverlaySpin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    ";else if("dots"===n.indicatorType){i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.height="20px";for(let e=0;e<3;e++){const t=document.createElement("div");t.style.width="8px",t.style.height="8px",t.style.borderRadius="50%",t.style.backgroundColor=n.indicatorColor,t.style.margin="0 4px",t.style.animation="textareaOverlayDotPulse 1.4s infinite ease-in-out",t.style.animationDelay=.2*e+"s",i.appendChild(t)}s="\n      @keyframes textareaOverlayDotPulse {\n        0%, 80%, 100% { transform: scale(0); opacity: 0.5; }\n        40% { transform: scale(1); opacity: 1; }\n      }\n    "}const d=document.createElement("style");d.textContent=s,document.head.appendChild(d),o.appendChild(i);const l=window.getComputedStyle(e.parentElement);let c;-1===["relative","absolute","fixed"].indexOf(l.position)?(c=document.createElement("div"),c.style.position="relative",c.style.width=`${r.width}px`,c.style.height=`${r.height}px`,c.style.display="inline-block",e.parentNode?.insertBefore(c,e),c.appendChild(e)):c=e.parentElement,o.style.display="none",c.appendChild(o);const p=e.getBoundingClientRect();return c!==e.parentElement&&(c.style.width=`${p.width}px`,c.style.height=`${p.height}px`),o.style.display="flex",e.setAttribute("disabled","disabled"),()=>{o.style.display="none",e.removeAttribute("disabled"),o.remove(),d.remove(),c!==e.parentElement&&(c.parentNode?.insertBefore(e,c),c.remove())}},J={createLoadingOverlay:Y,freePrompt:e=>(e=>{if(!e.key)return void alert("key is required config property");const t=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),G.modalOverlay&&G.modalOverlay.remove(),G&&G.remove()},n=e=>{G.isDragging=!0;const t=G.getBoundingClientRect();G.offsetX=e.clientX-t.left,G.offsetY=e.clientY-t.top,document.body.style.userSelect="none"},o=e=>{if(!G.isDragging)return;const t=e.clientX-G.offsetX,n=e.clientY-G.offsetY;G.style.left=t+"px",G.style.top=n+"px",G.style.transform="none"},i=()=>{G.isDragging=!1,document.body.style.userSelect=""},a=()=>{G.isLoading&&G.abortController&&(G.abortController.abort(),G.abortController=void 0,Y(!1))},s=()=>{0!==X.getMessages().length&&J("Try again")},d=e=>{"none"===G.chatMessages.style.display&&(G.chatMessages.style.display="block");const t=c("div",{...E,...M});return t.innerHTML=p(e),G.chatMessages.appendChild(t),G.chatMessages.scrollTop=G.chatMessages.scrollHeight,t},g=e=>{"none"===G.chatMessages.style.display&&(G.chatMessages.style.display="block");const t=c("div",{...E,...q}),n=c("span",W);t.appendChild(n);const o=c("span");return o.textContent=e,t.appendChild(o),G.chatMessages.appendChild(t),G.chatMessages.scrollTop=G.chatMessages.scrollHeight,t},m=(n,o)=>{"none"===G.chatMessages.style.display&&(G.chatMessages.style.display="block");const i=c("div",{...E,...k}),a=o||"msg-"+Date.now();i.dataset.messageId=a;const r=c("div",T),s=((e,t,n=[])=>{const o=p(e),i=c("iframe",{width:"100%",border:"none",backgroundColor:"white",pointerEvents:"none",maxWidth:"100%",boxSizing:"border-box"});return i.srcdoc=`\n        <html>\n        <head>\n            <style>\n                html {\n                    width: 100%;\n                    max-width: 100%;\n                    padding: 0;\n                    margin: 0;\n                }\n                body {\n                    margin: 0;\n                    padding: 0;\n                    font-family: Arial, sans-serif;\n                    overflow-x: hidden;\n                    width: 100%;\n                    max-width: 100%;\n                    box-sizing: border-box;\n                }\n                * {\n                    box-sizing: border-box;\n                    max-width: 100%;\n                }\n                pre {\n                    white-space: pre-wrap;\n                    word-wrap: break-word;\n                    overflow-wrap: break-word;\n                    max-width: 100%;\n                    padding: 12px;\n                    margin: 0;\n                    background-color: #f5f7fa;\n                    border-radius: 5px;\n                    font-size: 14px;\n                }\n                img {\n                    max-width: 100%;\n                    height: auto;\n                    display: block;\n                }\n                code {\n                    white-space: pre-wrap;\n                    word-wrap: break-word;\n                    max-width: 100%;\n                    display: block;\n                    overflow-x: hidden;\n                    font-size: 14px;\n                }\n                table {\n                    width: 100%;\n                    max-width: 100%;\n                    overflow-x: hidden;\n                    display: block;\n                    border-collapse: collapse;\n                }\n                div {\n                    max-width: 100%;\n                    overflow-wrap: break-word;\n                    word-wrap: break-word;\n                    box-sizing: border-box;\n                }\n                p {\n                    margin: 0 0 0.5em 0;\n                    max-width: 100%;\n                }\n                h1, h2, h3, h4, h5, h6 {\n                    margin: 0 0 0.1em 0;\n                    max-width: 100%;\n                }\n            </style>\n            ${n.map((e=>`<link rel="stylesheet" type="text/css" href="${e}" />`)).join("")}\n        </head>\n        <body style="padding: 0; max-width: 100%; width: 100%; box-sizing: border-box;">${o}</body>\n        </html>\n    `,i.syncHeight=()=>{const e=i.contentWindow?.document.body;if(!e)return;const n=e.getElementsByTagName("*");let o=e.offsetHeight;for(let e=0;e<n.length;e++){const t=n[e],i=t.offsetTop+t.offsetHeight;o=Math.max(o,i)}i.style.height=o+5+"px",e.style.overflow="hidden",t.chatMessages.scrollTop=t.chatMessages.scrollHeight},i.onload=i.syncHeight,i})(n,G,e.customCSS??[]);r.appendChild(s);const d=c("div",I),l=c("button",S),g=c("span",{...P,backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z'/%3E%3Cpath d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z'/%3E%3C/svg%3E\")"});l.append(g,document.createTextNode("Copy")),l.addEventListener("click",(()=>h(a,l))),d.append(l);const m=e.actions?.insert;if(m&&"function"==typeof m){const e=c("button",S),n=c("span",{...P,backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z'/%3E%3C/svg%3E\")"});e.append(n,document.createTextNode("Insert")),e.addEventListener("click",(()=>m(X.getAssistantMessage(a),t))),d.append(e)}return i.append(r,d),G.chatMessages.appendChild(i),G.chatMessages.scrollTop=G.chatMessages.scrollHeight,i},h=(e,t)=>{const n=X.getAssistantMessage(e);if(!n)return;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n.content).then((()=>{})).catch((()=>{g(_("modai.cmp.failed_copy"))}));else try{const e=c("textarea");e.value=n.content,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}catch(e){g(_("modai.cmp.failed_copy"))}const o=t.innerHTML,i=c("span",{...P,backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z'/%3E%3Cpath d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z'/%3E%3C/svg%3E\")"});t.innerHTML="",t.append(i,document.createTextNode("Copied!")),setTimeout((()=>{t.innerHTML=o}),2e3)},Y=e=>{G.isLoading=e,G.loadingIndicator.style.display=e?"flex":"none",G.messageInput.disabled=e,l(G.messageInput,e?{...B,...U}:B),G.sendBtn.disabled=e,l(G.sendBtn,e?{...H,...V}:H),G.stopBtn.disabled=!e,l(G.stopBtn,e?$:{...$,...V});const t=X.getMessages().length>0;G.tryAgainBtn.disabled=e||!t,l(G.tryAgainBtn,e||!t?{...$,...V}:$)},J=async(t,n)=>{const o=t?t.trim():G.messageInput.value.trim();if(!o||G.isLoading)return;Y(!0),G.messageInput.value="",G.abortController=new AbortController;const i=X.getMessagesHistory();X.addUserMessage(o,n);try{const t=await r.mgr.prompt.freeText({namespace:e.namespace,context:e.context,prompt:o,field:e.field||"",messages:i},(e=>{X.updateAssistantMessage(e.id,e.content)}),G.abortController);X.updateAssistantMessage(t.id,t.content),G.abortController=void 0}catch(e){if(e instanceof Error){if("AbortError"===e.name)return;return void g(e.message)}g("Unknown error")}Y(!1)},X=u.init(e.key,(e=>{if(!e.hidden)return"user"===e.role?d(e.content):m(e.content,e.id)}),(e=>{if(!e.el)return;if("user"===e.role)return void(e.el.textContent=e.content);const t=e.el?.firstChild?.firstChild;if(!t)return;const n=t.contentDocument;n&&(n.body.innerHTML=p(e.content),t.syncHeight())})),G=(()=>{const e=c("div",f),r=c("div",x),d=c("div",y),p=c("div",b,"modAI Assistant"),g=c("div",v),m=c("button",w,"✕");g.append(m),d.append(p,g);const h=c("div",C),u=c("div",A),E=c("div",z),k=c("div",O),M=c("textarea",B);M.placeholder="Type your message...";const T=c("div",L),I=c("button",H),S=c("span",D),_=document.createTextNode("Send");I.append(S,_);const P=c("div",R),U=c("button",{...$,...V}),q=c("span",j);U.appendChild(q),U.title="Stop Generation";const W=c("button",$),Y=c("span",N);W.appendChild(Y),W.title="Try Again",0===X.getMessages().length&&(W.disabled=!0,l(W,{...$,...V})),P.append(U,W),T.append(I,P),k.append(M),E.append(k,T);const G=c("div",F);return G.innerHTML='\n        <style>\n            @keyframes loadingDotPulse {\n                0%, 80%, 100% { transform: scale(0.6); opacity: 0.3; }\n                40% { transform: scale(1); opacity: 1; }\n            }\n            .loading-dots {\n                display: flex;\n                gap: 4px;\n                padding: 8px 16px;\n                background-color: rgba(255, 255, 255, 0.8);\n                border-radius: 16px;\n            }\n            .loading-dot {\n                width: 8px;\n                height: 8px;\n                background-color: #6B7280;\n                border-radius: 50%;\n                display: inline-block;\n                animation: loadingDotPulse 1.4s infinite ease-in-out both;\n            }\n            .loading-dot:nth-child(1) { animation-delay: -0.32s; }\n            .loading-dot:nth-child(2) { animation-delay: -0.16s; }\n            .loading-dot:nth-child(3) { animation-delay: 0s; }\n        </style>\n        <div class="loading-dots">\n            <div class="loading-dot"></div>\n            <div class="loading-dot"></div>\n            <div class="loading-dot"></div>\n        </div>\n    ',k.append(G),u.append(E),r.append(d,h,u),document.body.append(e,r),m.addEventListener("click",t),I.addEventListener("click",(()=>J())),U.addEventListener("click",a),W.addEventListener("click",s),M.addEventListener("keydown",(e=>{if("Enter"===e.key){if(e.shiftKey)return;e.preventDefault(),J()}})),d.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",i),r.modalOverlay=e,r.chatHeader=d,r.closeBtn=m,r.chatMessages=h,r.messageInput=M,r.sendBtn=I,r.tryAgainBtn=W,r.stopBtn=U,r.loadingIndicator=G,r.isDragging=!1,r.isLoading=!1,r.abortController=void 0,r.offsetX=0,r.offsetY=0,r})();return G.api={sendMessage:J,closeModal:t},(()=>{G.chatMessages.innerHTML="",G.chatMessages.style.display="none",G.style.visibility="hidden",G.style.display="flex",G.modalOverlay.style.display="block";const e=X.getMessages().filter((e=>!e.hidden));e.length>0&&(G.chatMessages.style.display="block",e.forEach((e=>{"user"===e.role?d(e.content):m(e.content,e.id)}))),setTimeout((()=>{G.chatMessages.scrollTop=G.chatMessages.scrollHeight,G.style.visibility="visible"}),100)})(),G})(e)},X=(e,t)=>{e.context.els.forEach((({wrapper:n,field:o})=>{const i=o.getValue();o.setValue(e.value),o.fireEvent("change",o,e.value,i),t&&(o.el.dom.scrollTop=o.el.dom.scrollHeight),e.total>0&&n.historyNav.show(),n.historyNav.info.update(e.current,e.total),e.prevStatus?n.historyNav.prevButton.enable():n.historyNav.prevButton.disable(),e.nextStatus?n.historyNav.nextButton.enable():n.historyNav.nextButton.disable()}))},G=()=>{const e=document.createElement("button");return e.className="modai-generate",e.innerText="✦",e.type="button",e.title="Generate using AI",e},K=e=>{const t=document.createElement("button");t.type="button",t.title="Previous Version",t.className="modai-history_prev",t.disable=()=>{t.disabled=!0},t.enable=()=>{t.disabled=!1},t.innerHTML="prev",t.addEventListener("click",(()=>{e.prev()}));const n=document.createElement("button");n.type="button",n.title="Next Version",n.className="modai-history_next",n.disable=()=>{n.disabled=!0},n.enable=()=>{n.disabled=!1},n.innerHTML="next",n.addEventListener("click",(()=>{e.next()}));const o=document.createElement("span");o.update=(e,t)=>{o.innerText=`${e}/${t}`},o.innerText="";const i=document.createElement("span");return i.show=()=>{i.style.display="initial"},i.hide=()=>{i.style.display="none"},i.prevButton=t,i.nextButton=n,i.info=o,i.appendChild(t),i.appendChild(n),i.appendChild(o),i.hide(),t.disable(),n.disable(),i},Q=e=>{const t=G();return t.addEventListener("click",(()=>{J.freePrompt({key:e,field:e})})),t},Z=(e,t)=>{const n=document.createElement("span"),o=G();o.addEventListener("click",(async()=>{const n=Y(e.el.dom);try{const e=await r.mgr.prompt.text({id:MODx.request.id,field:t});i.insert(e.content),n()}catch(e){n(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e.message}))}})),n.appendChild(o);const i=d.init(t,X,e.getValue(),{});i.cachedItem.context.els||(i.cachedItem.context.els=[]),i.cachedItem.context.els.push({field:e,wrapper:n});const a=K(i);return n.appendChild(a),n.historyNav=a,n},ee=(e,t,n,o)=>{const i=G();return i.addEventListener("click",(()=>{MODx.load({xtype:"modai-window-image_prompt",title:"Image",cacheKey:n,record:{resource:MODx.request.id,prompt:e,mediaSource:t,field:n},listeners:{success:{fn:o,scope:void 0}}}).show()})),i},te=(e,t)=>{const n=Ext.getCmp(e);if(!n)return;const o=document.createElement("span"),i=G();i.addEventListener("click",(async()=>{const e=Y(n.el.dom);try{const n=await r.mgr.prompt.text({id:MODx.request.id,field:t},(e=>{a.insert(e.content,!0)}));a.insert(n.content),e()}catch(t){e(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:t.message}))}})),o.appendChild(i);const a=d.init(t,X,n.getValue(),{});a.cachedItem.context.els||(a.cachedItem.context.els=[]),a.cachedItem.context.els.push({field:n,wrapper:o});const s=K(a);o.appendChild(s),o.historyNav=s,n.label.appendChild(o)},ne=(e,t)=>{const n=Ext.getCmp(e.firstElementChild?.id),o=ee("",n.imageBrowser.source,t,(function(e){"url"in e&&(n.imageBrowser.setValue(e.url),n.onImageChange(e.url))})),i=G();i.style.marginTop="6px",i.addEventListener("click",(async()=>{const e=n.imagePreview.el.dom,o=document.createElement("canvas"),i=o.getContext("2d");if(!i)return;o.width=e.width,o.height=e.height,i.drawImage(e,0,0);const a=o.toDataURL("image/png"),s=Y(n.altTextField.items.items[0].el.dom);try{const e=await r.mgr.prompt.vision({image:a,field:t},(e=>{n.altTextField.items.items[0].setValue(e.content),n.altTextField.items.items[0].el.dom.scrollTop=n.altTextField.items.items[0].el.dom.scrollHeight,n.image.altTag=e.content,n.updateValue()}));n.altTextField.items.items[0].setValue(e.content),n.image.altTag=e.content,n.updateValue(),s()}catch(e){s(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e.message}))}})),n.altTextField.el.dom.style.display="flex",n.altTextField.el.dom.style.justifyItems="center",n.altTextField.el.dom.style.alignItems="center",n.el.dom.parentElement.parentElement.parentElement.querySelector("label").appendChild(o),n.altTextField.el.dom.appendChild(i)};Ext.onReady((function(){Ext.defer((function(){(()=>{const e={pagetitle:["modx-resource-pagetitle"],longtitle:["modx-resource-longtitle","seosuite-longtitle"],introtext:["modx-resource-introtext"],description:["modx-resource-description","seosuite-description"],content:["modx-resource-content"]};for(const t of modAI?.resourceFields||[])e[t]&&("content"!==t?e[t].forEach((e=>{te(e,`res.${t}`)})):Ext.getCmp("modx-resource-content").el.dom.querySelector("label").appendChild(Q("res.content")))})(),(()=>{const e=Ext.getCmp("modx-panel-resource").getForm();for(const[t,n]of modAI?.tvs||[]){const o=Ext.get(`tv${t}-tr`);if(!o)continue;const i=e.findField(`tv${t}`),a=`tv.${n}`;if(i){if("textfield"===i.xtype||"textarea"===i.xtype){const e=MODx.config[`modai.tv.${n}.text.prompt`],t=o.dom.querySelector("label");if(!t)return;e?t.appendChild(Z(i,a)):t.appendChild(Q(a))}if("modx-panel-tv-image"===i.xtype){const e=ee("",i.source,a,(function(e){if("url"in e){const t={relativeUrl:e.url,url:e.url};i.items.items[1].fireEvent("select",t),i.fireEvent("select",t)}})),t=o.dom.querySelector("label");if(!t)return;t.appendChild(e)}}else{const e=o.dom.querySelector(".imageplus-panel-input");e&&ne(e,a)}}})()}),500)}));const oe={};return t})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNbUMsVUFBVSxTQUFVb0YsRUFDOUIsQ0FDSixJQUdFeEMsRUFBUTlLLEVBQVFtSSxJQUFJa0UsY0FBYyxTQUN4QyxJQUFLdkIsRUFBTyxPQUVaQSxFQUFNbkwsWUFBWXNLLEVBQ3RCLENBdENBLEtBTkEsQ0FDSSxNQUFNZSxFQUFlaEwsRUFBUW1JLElBQUlrRSxjQUFjLDBCQUMzQ3JCLEdBQ0FELEdBQWdCQyxFQUFjM0IsRUFHdEMsQ0F1Q0osR0FxQ1FtRSxFQUNKLEdBQUcsSUFDUCxJQ3hhRyxNQUFNLEdBQVMsQ0FBQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW9kQUkvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL21vZEFJL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21vZEFJL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21vZEFJL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL2V4ZWN1dG9yLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9oaXN0b3J5LnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS91dGlscy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvY2hhdEhpc3RvcnkudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL3VpL21vZGFsLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS9vdmVybGF5LnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS9pbmRleC50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvaWZyYW1lLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9yZXNvdXJjZS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibW9kQUlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibW9kQUlcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ0eXBlIFNlcnZpY2VUeXBlID0gJ2NoYXRncHQnIHwgJ2NsYXVkZScgfCAnZ2VtaW5pJztcbnR5cGUgQnVmZmVyTW9kZSA9ICdidWZmZXJlZCcgfCAnc3RyZWFtJztcblxuZXhwb3J0IHR5cGUgU2VydmljZVJlc3BvbnNlID0gVGV4dERhdGEgfCBJbWFnZURhdGE7XG5cbnR5cGUgU2VydmljZUhhbmRsZXJzID0ge1xuICAgIGJ1ZmZlcmVkOiB7XG4gICAgICAgIGNoYXRncHQ6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IChkYXRhOiBhbnkpID0+IFRleHREYXRhO1xuICAgICAgICAgICAgaW1hZ2U6IChkYXRhOiBhbnkpID0+IEltYWdlRGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhdWRlOiB7XG4gICAgICAgICAgICBjb250ZW50OiAoZGF0YTogYW55KSA9PiBUZXh0RGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2VtaW5pOiB7XG4gICAgICAgICAgICBjb250ZW50OiAoZGF0YTogYW55KSA9PiBUZXh0RGF0YTtcbiAgICAgICAgICAgIGltYWdlOiAoZGF0YTogYW55KSA9PiBJbWFnZURhdGE7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBzdHJlYW06IHtcbiAgICAgICAgY2hhdGdwdDoge1xuICAgICAgICAgICAgY29udGVudDogKG5ld0RhdGE6IGFueSwgY3VycmVudERhdGE6IFRleHREYXRhKSA9PiBUZXh0RGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhdWRlOiB7XG4gICAgICAgICAgICBjb250ZW50OiAobmV3RGF0YTogYW55LCBjdXJyZW50RGF0YTogVGV4dERhdGEpID0+IFRleHREYXRhO1xuICAgICAgICB9O1xuICAgICAgICBnZW1pbmk6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IChuZXdEYXRhOiBhbnksIGN1cnJlbnREYXRhOiBUZXh0RGF0YSkgPT4gVGV4dERhdGE7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxudHlwZSBGb3JFeGVjdXRvciA9IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBib2R5OiBzdHJpbmc7XG4gICAgc2VydmljZTogc3RyaW5nO1xuICAgIGhlYWRlcnM6IEhlYWRlcnNJbml0O1xuICAgIHBhcnNlcjogc3RyaW5nO1xuICAgIHN0cmVhbTogYm9vbGVhbjtcbn07XG5cbnR5cGUgRXhlY3V0b3JEYXRhID0ge1xuICAgIGZvckV4ZWN1dG9yOiBGb3JFeGVjdXRvcjtcbn0gfCBzdHJpbmc7XG5cbnR5cGUgRnJlZVRleHRQYXJhbXMgPSB7XG4gICAgcHJvbXB0OiBzdHJpbmc7XG4gICAgZmllbGQ/OiBzdHJpbmc7XG4gICAgY29udGV4dD86IHN0cmluZztcbiAgICBuYW1lc3BhY2U/OiBzdHJpbmc7XG4gICAgbWVzc2FnZXM6IHtyb2xlOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZ31bXTtcbn1cblxudHlwZSBUZXh0UGFyYW1zID0ge1xuICAgIGZpZWxkPzogc3RyaW5nO1xuICAgIG5hbWVzcGFjZT86IHN0cmluZztcbiAgICBpZDogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG50eXBlIFZpc2lvblBhcmFtcyA9IHtcbiAgICBmaWVsZD86IHN0cmluZztcbiAgICBuYW1lc3BhY2U/OiBzdHJpbmc7XG4gICAgaW1hZ2U6IHN0cmluZztcbn1cblxudHlwZSBJbWFnZVBhcmFtcyA9IHtcbiAgICBwcm9tcHQ6IHN0cmluZztcbiAgICBmaWVsZD86IHN0cmluZztcbiAgICBuYW1lc3BhY2U/OiBzdHJpbmc7XG59XG5cbnR5cGUgRG93bmxvYWRJbWFnZVBhcmFtcyA9ICh7XG4gICAgdXJsOiBzdHJpbmdcbn0gfCB7IGltYWdlOiBzdHJpbmcgfSkgJiB7XG4gICAgZmllbGQ/OiBzdHJpbmc7XG4gICAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICAgIHJlc291cmNlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgIG1lZGlhU291cmNlPzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBUZXh0RGF0YSA9IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VEYXRhID0ge1xuICAgIHVybDogc3RyaW5nO1xufSB8IHtcbiAgICBiYXNlNjQ6IHN0cmluZztcbn1cblxudHlwZSBDaHVua1N0cmVhbTxEID0gdW5rbm93bj4gPSAoZGF0YTogRCkgPT4gdm9pZDtcblxuY29uc3Qgc2VydmljZXM6IFNlcnZpY2VIYW5kbGVycyA9IHtcbiAgICBidWZmZXJlZDoge1xuICAgICAgICBjaGF0Z3B0OiB7XG4gICAgICAgICAgICBjb250ZW50OiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhPy5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5mYWlsZWRfcmVxdWVzdCcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGRhdGEuaWQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2U6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZGF0YT8uZGF0YT8uWzBdPy51cmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVybFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xhdWRlOiB7XG4gICAgICAgICAgICBjb250ZW50OiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhPy5jb250ZW50Py5bMF0/LnRleHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5mYWlsZWRfcmVxdWVzdCcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGRhdGEuaWQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdlbWluaToge1xuICAgICAgICAgICAgY29udGVudDogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YT8uY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8uWzBdPy50ZXh0O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuZmFpbGVkX3JlcXVlc3QnKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGBnZW1pbmktJHtEYXRlLm5vdygpfS0ke01hdGgucm91bmQoTWF0aC5yYW5kb20oKSoxMDAwKX1gLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbWFnZTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjQgPSBkYXRhPy5wcmVkaWN0aW9ucz8uWzBdPy5ieXRlc0Jhc2U2NEVuY29kZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2U2NDogYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke2Jhc2U2NH1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzdHJlYW06IHtcbiAgICAgICAgY2hhdGdwdDoge1xuICAgICAgICAgICAgY29udGVudDogKG5ld0RhdGEsIGN1cnJlbnREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjdXJyZW50RGF0YT8uY29udGVudCA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3RGF0YS5jaG9pY2VzWzBdPy5kZWx0YT8uY29udGVudCB8fCAnJztcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICBpZDogbmV3RGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogYCR7Y3VycmVudENvbnRlbnR9JHtjb250ZW50fWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGF1ZGU6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IChuZXdEYXRhLCBjdXJyZW50RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gY3VycmVudERhdGE/LmNvbnRlbnQgPz8gJyc7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3RGF0YS5kZWx0YT8udGV4dCB8fCAnJztcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgJHtjdXJyZW50Q29udGVudH0ke2NvbnRlbnR9YFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdlbWluaToge1xuICAgICAgICAgICAgY29udGVudDogKG5ld0RhdGEsIGN1cnJlbnREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjdXJyZW50RGF0YT8uY29udGVudCA/PyAnJztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXdEYXRhLmNhbmRpZGF0ZXNbMF0/LmNvbnRlbnQ/LnBhcnRzWzBdPy50ZXh0IHx8ICcnO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGAke2N1cnJlbnRDb250ZW50fSR7Y29udGVudH1gXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG5jb25zdCBlcnJvckhhbmRsZXIgPSBhc3luYyAocmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBpZiAoZGF0YT8uZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgfVxufVxuXG5jb25zdCBoYW5kbGVTdHJlYW0gPSBhc3luYyAocmVzOiBSZXNwb25zZSwgc2VydmljZTogc3RyaW5nLCBwYXJzZXI6ICdjb250ZW50Jywgb25DaHVua1N0cmVhbT86IENodW5rU3RyZWFtPFRleHREYXRhPiwgc2lnbmFsPzogQWJvcnRTaWduYWwpOiBQcm9taXNlPFRleHREYXRhPiA9PiB7XG4gICAgaWYgKCFyZXMuYm9keSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04Jyk7XG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgIGxldCBjdXJyZW50RGF0YTogVGV4dERhdGEgPSB7XG4gICAgICAgIGlkOiBgJHtzZXJ2aWNlfS0ke0RhdGUubm93KCl9LSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjEwMDApfWAsXG4gICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgIH07XG5cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7c3RyZWFtOiB0cnVlfSk7XG5cbiAgICAgICAgaWYgKHNlcnZpY2UgPT09ICdnZW1pbmknKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uTGluZXMgPSBjaHVuay50cmltKCkuc3BsaXQoXCIsXFxyXFxuXCIpLm1hcCgobGluZSkgPT4gbGluZS5yZXBsYWNlKC9eXFxbfF0kL2csICcnKSkuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09ICcnKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBqc29uTGluZXMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGEgPSBzZXJ2aWNlcy5zdHJlYW1bc2VydmljZV1bcGFyc2VyXShwYXJzZWREYXRhLCBjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkNodW5rU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNodW5rU3RyZWFtKGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXJ2aWNlID09PSAnY2hhdGdwdCcpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaHVuaztcblxuICAgICAgICAgICAgbGV0IGxhc3ROZXdsaW5lSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IG5ld2xpbmVJbmRleDtcblxuICAgICAgICAgICAgd2hpbGUgKChuZXdsaW5lSW5kZXggPSBidWZmZXIuaW5kZXhPZignXFxuJywgbGFzdE5ld2xpbmVJbmRleCkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBidWZmZXIuc2xpY2UobGFzdE5ld2xpbmVJbmRleCwgbmV3bGluZUluZGV4KS50cmltKCk7XG4gICAgICAgICAgICAgICAgbGFzdE5ld2xpbmVJbmRleCA9IG5ld2xpbmVJbmRleCArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdkYXRhOiAnKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbGluZS5zbGljZSg2KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gJ1tET05FXScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGEgPSBzZXJ2aWNlcy5zdHJlYW1bc2VydmljZV1bcGFyc2VyXShwYXJzZWREYXRhLCBjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob25DaHVua1N0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2h1bmtTdHJlYW0oY3VycmVudERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKGxhc3ROZXdsaW5lSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlcnZpY2UgPT09ICdjbGF1ZGUnKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2h1bms7XG5cbiAgICAgICAgICAgIGxldCBsYXN0TmV3bGluZUluZGV4ID0gMDtcbiAgICAgICAgICAgIGxldCBuZXdsaW5lSW5kZXg7XG5cbiAgICAgICAgICAgIHdoaWxlICgobmV3bGluZUluZGV4ID0gYnVmZmVyLmluZGV4T2YoJ1xcbicsIGxhc3ROZXdsaW5lSW5kZXgpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gYnVmZmVyLnNsaWNlKGxhc3ROZXdsaW5lSW5kZXgsIG5ld2xpbmVJbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGxhc3ROZXdsaW5lSW5kZXggPSBuZXdsaW5lSW5kZXggKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGxpbmUuc2xpY2UoNik7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudHlwZSA9PT0gJ21lc3NhZ2Vfc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGEuaWQgPSBwYXJzZWREYXRhLm1lc3NhZ2UuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWREYXRhLnR5cGUgIT09ICdjb250ZW50X2Jsb2NrX2RlbHRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0YSA9IHNlcnZpY2VzLnN0cmVhbVtzZXJ2aWNlXVtwYXJzZXJdKHBhcnNlZERhdGEsIGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbkNodW5rU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaHVua1N0cmVhbShjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShsYXN0TmV3bGluZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50RGF0YTtcblxufVxuXG5jb25zdCBzZXJ2aWNlRXhlY3V0b3IgPSBhc3luYyA8RCBleHRlbmRzIFNlcnZpY2VSZXNwb25zZT4oZGV0YWlsczogRXhlY3V0b3JEYXRhLCBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08RD4sIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIpOiBQcm9taXNlPEQ+ID0+IHtcbiAgICBpZiAodHlwZW9mIGRldGFpbHMgIT09ICdvYmplY3QnIHx8ICFkZXRhaWxzLmZvckV4ZWN1dG9yKSB7XG4gICAgICAgIHJldHVybiBkZXRhaWxzIGFzIHVua25vd24gYXMgRDtcbiAgICB9XG5cbiAgICBjb25zdCBleGVjdXRvckRldGFpbHMgPSBkZXRhaWxzLmZvckV4ZWN1dG9yO1xuXG4gICAgY29udHJvbGxlciA9ICFjb250cm9sbGVyID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogY29udHJvbGxlcjtcbiAgICBjb25zdCBzaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcblxuICAgIGNvbnN0IGNhbGxTZXJ2aWNlID0gYXN5bmMgKGRldGFpbHM6IEZvckV4ZWN1dG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGRldGFpbHMudXJsLCB7XG4gICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IGRldGFpbHMuYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGRldGFpbHMuaGVhZGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBlcnJvckhhbmRsZXIocmVzKTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBjb25zdCBjYWxsU3RyZWFtU2VydmljZSA9IGFzeW5jIChkZXRhaWxzOiBGb3JFeGVjdXRvcikgPT4ge1xuICAgICAgICBpZiAoZXhlY3V0b3JEZXRhaWxzLnBhcnNlciAhPT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChkZXRhaWxzLnVybCwge1xuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBkZXRhaWxzLmJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiBkZXRhaWxzLmhlYWRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgZXJyb3JIYW5kbGVyKHJlcyk7XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmVhbShyZXMsIGV4ZWN1dG9yRGV0YWlscy5zZXJ2aWNlLCBleGVjdXRvckRldGFpbHMucGFyc2VyLCBvbkNodW5rU3RyZWFtIGFzIENodW5rU3RyZWFtPFRleHREYXRhPik7XG4gICAgfVxuXG4gICAgaWYgKCFleGVjdXRvckRldGFpbHMuc2VydmljZSB8fCAhZXhlY3V0b3JEZXRhaWxzLnBhcnNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfcmVxdWlyZWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXJ2aWNlc1tleGVjdXRvckRldGFpbHMuc3RyZWFtID8gJ3N0cmVhbScgOiAnYnVmZmVyZWQnIGFzIEJ1ZmZlck1vZGVdPy5bZXhlY3V0b3JEZXRhaWxzLnNlcnZpY2UgYXMgU2VydmljZVR5cGVdPy5bZXhlY3V0b3JEZXRhaWxzLnBhcnNlciBhcyBrZXlvZiBTZXJ2aWNlSGFuZGxlcnNbQnVmZmVyTW9kZV1bU2VydmljZVR5cGVdXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKGV4ZWN1dG9yRGV0YWlscy5zdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxTdHJlYW1TZXJ2aWNlKGV4ZWN1dG9yRGV0YWlscykgYXMgUHJvbWlzZTxEPjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgY2FsbFNlcnZpY2UoZXhlY3V0b3JEZXRhaWxzKTtcbiAgICByZXR1cm4gc2VydmljZXNbJ2J1ZmZlcmVkJ11bZXhlY3V0b3JEZXRhaWxzLnNlcnZpY2UgYXMgU2VydmljZVR5cGVdW2V4ZWN1dG9yRGV0YWlscy5wYXJzZXIgYXMga2V5b2YgU2VydmljZUhhbmRsZXJzWydidWZmZXJlZCddW1NlcnZpY2VUeXBlXV0oZGF0YSkgYXMgRDtcbn1cblxuY29uc3QgbW9keEZldGNoID0gYXN5bmMgKGFjdGlvbjogc3RyaW5nLCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7bW9kQUkuYXBpVVJMfT9hY3Rpb249JHthY3Rpb259YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZGV0YWlsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLmpzb24oKTtcbn1cblxuY29uc3QgYWlGZXRjaCA9IGFzeW5jIDxEIGV4dGVuZHMgU2VydmljZVJlc3BvbnNlPihhY3Rpb246IHN0cmluZywgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgb25DaHVua1N0cmVhbT86IENodW5rU3RyZWFtPEQ+LCBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyKTogUHJvbWlzZTxEPiA9PiB7XG4gICAgY29udHJvbGxlciA9ICFjb250cm9sbGVyID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogY29udHJvbGxlcjtcbiAgICBjb25zdCBzaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke21vZEFJLmFwaVVSTH0/YWN0aW9uPSR7YWN0aW9ufWAsIHtcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZGV0YWlsKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXJ2aWNlID0gcmVzLmhlYWRlcnMuZ2V0KCd4LW1vZGFpLXNlcnZpY2UnKSA/PyAnY2hhdGdwdCc7XG4gICAgY29uc3QgcGFyc2VyID0gcmVzLmhlYWRlcnMuZ2V0KCd4LW1vZGFpLXBhcnNlcicpID8/ICdjb250ZW50JztcbiAgICBjb25zdCBzdHJlYW0gPSBwYXJzZUludChyZXMuaGVhZGVycy5nZXQoJ3gtbW9kYWktc3RyZWFtJykgPz8gJzAnKSA9PT0gMTtcbiAgICBjb25zdCBwcm94eSA9IHBhcnNlSW50KHJlcy5oZWFkZXJzLmdldCgneC1tb2RhaS1wcm94eScpID8/ICcwJykgPT09IDE7XG5cbiAgICBpZiAoIXByb3h5KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICByZXR1cm4gc2VydmljZUV4ZWN1dG9yPEQ+KGRhdGEsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIGlmICghc2VydmljZSB8fCAhcGFyc2VyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5zZXJ2aWNlX3JlcXVpcmVkJykpO1xuICAgIH1cblxuICAgIGlmICghc2VydmljZXNbc3RyZWFtID8gJ3N0cmVhbScgOiAnYnVmZmVyZWQnIGFzIEJ1ZmZlck1vZGVdPy5bc2VydmljZSBhcyBTZXJ2aWNlVHlwZV0/LltwYXJzZXIgYXMga2V5b2YgU2VydmljZUhhbmRsZXJzW0J1ZmZlck1vZGVdW1NlcnZpY2VUeXBlXV0pIHtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlc1snYnVmZmVyZWQnXVtzZXJ2aWNlIGFzIFNlcnZpY2VUeXBlXVtwYXJzZXIgYXMga2V5b2YgU2VydmljZUhhbmRsZXJzWydidWZmZXJlZCddW1NlcnZpY2VUeXBlXV0oZGF0YSkgYXMgRDtcbiAgICB9XG5cbiAgICBpZiAocGFyc2VyICE9PSAnY29udGVudCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5zZXJ2aWNlX3Vuc3VwcG9ydGVkJykpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBoYW5kbGVTdHJlYW0ocmVzLCBzZXJ2aWNlLCBwYXJzZXIsIG9uQ2h1bmtTdHJlYW0gYXMgQ2h1bmtTdHJlYW08VGV4dERhdGE+LCBzaWduYWwpIGFzIEQ7XG59XG5cbmV4cG9ydCBjb25zdCBleGVjdXRvciA9IHtcbiAgICBtZ3I6IHtcbiAgICAgICAgZG93bmxvYWQ6IHtcbiAgICAgICAgICAgIGltYWdlOiBhc3luYyAocGFyYW1zOiBEb3dubG9hZEltYWdlUGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1vZHhGZXRjaCgnRG93bmxvYWRcXFxcSW1hZ2UnLCBwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgIGZyZWVUZXh0OiBhc3luYyAocGFyYW1zOiBGcmVlVGV4dFBhcmFtcywgb25DaHVua1N0cmVhbT86IENodW5rU3RyZWFtPFRleHREYXRhPiwgY29udHJvbGxlcj86IEFib3J0Q29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhaUZldGNoKCdQcm9tcHRcXFxcRnJlZVRleHQnLCBwYXJhbXMsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHQ6IGFzeW5jIChwYXJhbXM6IFRleHRQYXJhbXMsIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxUZXh0RGF0YT4sIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWlGZXRjaCgnUHJvbXB0XFxcXFRleHQnLCBwYXJhbXMsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2lvbjogYXN5bmMgKHBhcmFtczogVmlzaW9uUGFyYW1zLCBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08VGV4dERhdGE+LCBjb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFpRmV0Y2goJ1Byb21wdFxcXFxWaXNpb24nLCBwYXJhbXMsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlOiBhc3luYyAocGFyYW1zOiBJbWFnZVBhcmFtcywgY29udHJvbGxlcj86IEFib3J0Q29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhaUZldGNoKCdQcm9tcHRcXFxcSW1hZ2UnLCBwYXJhbXMsIHVuZGVmaW5lZCwgY29udHJvbGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsInR5cGUgQ2FjaGU8QyA9IHVua25vd24+ID0ge1xuICAgIHZpc2libGU6IG51bWJlcjtcbiAgICB2YWx1ZXM6IHN0cmluZ1tdO1xuICAgIGNvbnRleHQ6IEM7XG4gICAgc3luY1VJPzogKGRhdGE6IERhdGFPdXRwdXQ8Qz4sIG5vU3RvcmU/OiBib29sZWFuKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBEYXRhT3V0cHV0PEMgPSB1bmtub3duPiA9IHtcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIG5leHRTdGF0dXM6IGJvb2xlYW4sXG4gICAgcHJldlN0YXR1czogYm9vbGVhbixcbiAgICBjdXJyZW50OiBudW1iZXIsXG4gICAgdG90YWw6IG51bWJlcixcbiAgICBjb250ZXh0OiBDLFxufVxuXG5jb25zdCBfY2FjaGU6IFJlY29yZDxzdHJpbmcsIENhY2hlPiA9IHt9O1xuXG5leHBvcnQgY29uc3QgaGlzdG9yeSA9IHtcbiAgICBfZm9ybWF0T3V0cHV0KGtleTogc3RyaW5nLCB2YWx1ZT86IHN0cmluZyk6IERhdGFPdXRwdXQge1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICAgICAgY29uc3QgcHJldlN0YXR1cyA9IChjYWNoZWRJdGVtLnZpc2libGUgPiAwKTtcbiAgICAgICAgY29uc3QgbmV4dFN0YXR1cyA9IChjYWNoZWRJdGVtLnZpc2libGUgIT09IGNhY2hlZEl0ZW0udmFsdWVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogKGNhY2hlZEl0ZW0udmFsdWVzW2NhY2hlZEl0ZW0udmlzaWJsZV0gPz8gbnVsbCksXG4gICAgICAgICAgICBuZXh0U3RhdHVzLFxuICAgICAgICAgICAgcHJldlN0YXR1cyxcbiAgICAgICAgICAgIGN1cnJlbnQ6IGNhY2hlZEl0ZW0udmlzaWJsZSArIDEsXG4gICAgICAgICAgICB0b3RhbDogY2FjaGVkSXRlbS52YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgICAgY29udGV4dDogY2FjaGVkSXRlbS5jb250ZXh0LFxuICAgICAgICB9XG4gICAgfSxcbiAgICBpbnNlcnQoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG5vU3RvcmU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICAgICAgaWYgKCFub1N0b3JlKSB7XG4gICAgICAgICAgICBjYWNoZWRJdGVtLnZpc2libGUgPSBjYWNoZWRJdGVtLnZhbHVlcy5wdXNoKHZhbHVlKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvdXRwdXQgPSB0aGlzLl9mb3JtYXRPdXRwdXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgY2FjaGVkSXRlbS5zeW5jVUkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZEl0ZW0uc3luY1VJKG91dHB1dCwgbm9TdG9yZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0sXG4gICAgbmV4dChrZXk6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICAgICAgaWYgKGNhY2hlZEl0ZW0udmlzaWJsZSA9PT0gY2FjaGVkSXRlbS52YWx1ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FjaGVkSXRlbS52aXNpYmxlKys7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gdGhpcy5fZm9ybWF0T3V0cHV0KGtleSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWNoZWRJdGVtLnN5bmNVSSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkSXRlbS5zeW5jVUkob3V0cHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSxcbiAgICBwcmV2KGtleTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBfY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAoY2FjaGVkSXRlbS52aXNpYmxlIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXRPdXRwdXQoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhY2hlZEl0ZW0udmlzaWJsZS0tO1xuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2FjaGVkSXRlbS5zeW5jVUkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZEl0ZW0uc3luY1VJKG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0sXG4gICAgaW5pdDxDPihrZXk6IHN0cmluZywgc3luY1VJPzogKGRhdGE6IERhdGFPdXRwdXQ8Qz4sIG5vU3RvcmU/OiBib29sZWFuKSA9PiB2b2lkLCBpbml0VmFsdWU/OiBzdHJpbmcsIGNvbnRleHQ/OiBDKSB7XG4gICAgICAgIGlmICghX2NhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIF9jYWNoZVtrZXldID0ge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IC0xLFxuICAgICAgICAgICAgICAgIHZhbHVlczogW10sXG4gICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgX2NhY2hlW2tleV0uc3luY1VJID0gc3luY1VJO1xuXG4gICAgICAgIGlmIChpbml0VmFsdWUpIHtcbiAgICAgICAgICAgIF9jYWNoZVtrZXldLnZhbHVlcyA9IFtpbml0VmFsdWVdO1xuICAgICAgICAgICAgX2NhY2hlW2tleV0udmlzaWJsZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FjaGVkSXRlbTogX2NhY2hlW2tleV0gYXMgQ2FjaGU8Qz4sXG4gICAgICAgICAgICBnZXREYXRhOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFsbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY2FjaGVba2V5XS52YWx1ZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3luY1VJOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfY2FjaGVba2V5XS5zeW5jVUkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NhY2hlW2tleV0uc3luY1VJKHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc2VydDogKHZhbHVlOiBzdHJpbmcsIG5vU3RvcmU6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydChrZXksIHZhbHVlLCBub1N0b3JlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dChrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZXY6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBhcHBseVN0eWxlcyA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgc3R5bGVPYmo6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4pID0+IHtcbiAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlT2JqKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcD4odHlwZTogSywgc3R5bGVPYmo/OiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+LCB0ZXh0Q29udGVudDogc3RyaW5nID0gJycpOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10gPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gICAgaWYgKHN0eWxlT2JqKSB7XG4gICAgICAgIGFwcGx5U3R5bGVzKGVsZW1lbnQsIHN0eWxlT2JqKTtcbiAgICB9XG5cbiAgICBpZiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG5leHBvcnQgY29uc3QgbmxUb0JyID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiAvPFtePl0qPi9nLnRlc3QoY29udGVudCkgPyBjb250ZW50IDogY29udGVudC5yZXBsYWNlKC9cXHJcXG58XFxufFxcci9nLCAnPGJyPicpO1xufVxuIiwiZXhwb3J0IHR5cGUgTWVzc2FnZSA9IHtcbiAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgaGlkZGVuOiBib29sZWFuO1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBlbD86IEhUTUxEaXZFbGVtZW50O1xufTtcblxudHlwZSBOYW1lc3BhY2UgPSB7XG4gICAgaGlzdG9yeTogTWVzc2FnZVtdO1xuICAgIGlkUmVmOiBSZWNvcmQ8c3RyaW5nLCBNZXNzYWdlPjtcbiAgICBvbkFkZE1lc3NhZ2U6IChtc2c6IE1lc3NhZ2UpID0+IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIG9uVXBkYXRlTWVzc2FnZTogKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBfbmFtZXNwYWNlOiBSZWNvcmQ8c3RyaW5nLCBOYW1lc3BhY2U+ID0ge307XG5cbmNvbnN0IFJPTEVTID0ge1xuICAgICd1c2VyJzogJ3VzZXInLFxuICAgICdhc3Npc3RhbnQnOiAnYXNzaXN0YW50Jyxcbn07XG5cbmNvbnN0IGFkZE1lc3NhZ2UgPSAoa2V5OiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgcm9sZTogc3RyaW5nLCBpZD86IHN0cmluZywgaGlkZGVuOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBuYW1lc3BhY2UgPSBfbmFtZXNwYWNlW2tleV07XG4gICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZ09iamVjdDogTWVzc2FnZSA9IHtjb250ZW50LCByb2xlLCBpZCwgaGlkZGVufTtcblxuICAgIG1zZ09iamVjdC5lbCA9IG5hbWVzcGFjZS5vbkFkZE1lc3NhZ2UobXNnT2JqZWN0KTtcblxuICAgIGNvbnN0IGluZGV4ID0gbmFtZXNwYWNlLmhpc3RvcnkucHVzaChtc2dPYmplY3QpIC0gMTtcbiAgICBpZiAoaWQpIHtcbiAgICAgICAgbmFtZXNwYWNlLmlkUmVmW2lkXSA9IG5hbWVzcGFjZS5oaXN0b3J5W2luZGV4XTtcbiAgICB9XG59XG5cbmNvbnN0IHVwZGF0ZU1lc3NhZ2UgPSAoa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2Vba2V5XTtcbiAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFuYW1lc3BhY2UuaWRSZWZbaWRdKSB7XG4gICAgICAgIGFkZE1lc3NhZ2Uoa2V5LCBjb250ZW50LCBST0xFUy5hc3Npc3RhbnQsIGlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hbWVzcGFjZS5pZFJlZltpZF0uY29udGVudCA9IGNvbnRlbnQ7XG4gICAgbmFtZXNwYWNlLm9uVXBkYXRlTWVzc2FnZShuYW1lc3BhY2UuaWRSZWZbaWRdKTtcbn1cblxuY29uc3QgZ2V0TWVzc2FnZSA9IChrZXk6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2Vba2V5XTtcbiAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWVzcGFjZS5pZFJlZltpZF07XG59XG5cbmV4cG9ydCBjb25zdCBjaGF0SGlzdG9yeSA9IHtcbiAgICBpbml0OiAoa2V5OiBzdHJpbmcsIG9uQWRkTWVzc2FnZTogKG1zZzogTWVzc2FnZSkgPT4gSFRNTERpdkVsZW1lbnQgfCB1bmRlZmluZWQsIG9uVXBkYXRlTWVzc2FnZTogKG1zZzogTWVzc2FnZSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBpZiAoIV9uYW1lc3BhY2Vba2V5XSkge1xuICAgICAgICAgICAgX25hbWVzcGFjZVtrZXldID0ge1xuICAgICAgICAgICAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgICAgICAgICAgIGlkUmVmOiB7fSxcbiAgICAgICAgICAgICAgICBvbkFkZE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgb25VcGRhdGVNZXNzYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9uYW1lc3BhY2Vba2V5XS5vbkFkZE1lc3NhZ2UgPSBvbkFkZE1lc3NhZ2U7XG4gICAgICAgIF9uYW1lc3BhY2Vba2V5XS5vblVwZGF0ZU1lc3NhZ2UgPSBvblVwZGF0ZU1lc3NhZ2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZFVzZXJNZXNzYWdlOiAoY29udGVudDogc3RyaW5nLCBoaWRkZW4/OiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZShrZXksIGNvbnRlbnQsIFJPTEVTLnVzZXIsIHVuZGVmaW5lZCwgaGlkZGVuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRBc3Npc3RhbnRNZXNzYWdlOiAoY29udGVudDogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZShrZXksIGNvbnRlbnQsIFJPTEVTLmFzc2lzdGFudCwgaWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZUFzc2lzdGFudE1lc3NhZ2U6IChpZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZXNzYWdlKGtleSwgaWQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFzc2lzdGFudE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1lc3NhZ2Uoa2V5LCBpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TWVzc2FnZXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX25hbWVzcGFjZVtrZXldLmhpc3Rvcnk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TWVzc2FnZXNIaXN0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uYW1lc3BhY2Vba2V5XS5oaXN0b3J5Lm1hcCgobSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogbS5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG4iLCJpbXBvcnQge2FwcGx5U3R5bGVzLCBjcmVhdGVFbGVtZW50LCBubFRvQnJ9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQge2NyZWF0ZUNvbnRlbnRJZnJhbWUsIHR5cGUgSWZyYW1lfSBmcm9tIFwiLi9pZnJhbWVcIjtcbmltcG9ydCB7ZXhlY3V0b3J9IGZyb20gXCIuLi9leGVjdXRvclwiO1xuaW1wb3J0IHtjaGF0SGlzdG9yeSwgTWVzc2FnZX0gZnJvbSBcIi4uL2NoYXRIaXN0b3J5XCI7XG5cbmV4cG9ydCB0eXBlIE1vZGFsQ29uZmlnID0ge1xuICAgIGtleTogc3RyaW5nO1xuICAgIG5hbWVzcGFjZT86IHN0cmluZztcbiAgICBjb250ZXh0Pzogc3RyaW5nO1xuICAgIGZpZWxkPzogc3RyaW5nO1xuICAgIGN1c3RvbUNTUz86IHN0cmluZ1tdO1xuICAgIGFjdGlvbnM/OiB7XG4gICAgICAgIGluc2VydD86IChtc2c6IE1lc3NhZ2UgfCB1bmRlZmluZWQsIGNsb3NlTW9kYWw6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gICAgfVxufTtcblxuZXhwb3J0IHR5cGUgTW9kYWwgPSBIVE1MRGl2RWxlbWVudCAmIHtcbiAgICBtb2RhbE92ZXJsYXk6IEhUTUxEaXZFbGVtZW50O1xuICAgIGNoYXRIZWFkZXI6IEhUTUxEaXZFbGVtZW50O1xuICAgIGNoYXRNZXNzYWdlczogSFRNTERpdkVsZW1lbnQ7XG4gICAgbG9hZGluZ0luZGljYXRvcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBtZXNzYWdlSW5wdXQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cbiAgICBjbG9zZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgc2VuZEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdHJ5QWdhaW5CdG46IEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHN0b3BCdG46IEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgaXNEcmFnZ2luZzogYm9vbGVhbjtcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gICAgYWJvcnRDb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyO1xuICAgIG9mZnNldFg6IG51bWJlcjtcbiAgICBvZmZzZXRZOiBudW1iZXI7XG5cbiAgICBhcGk6IHtcbiAgICAgICAgc2VuZE1lc3NhZ2U6IChwcm92aWRlZE1lc3NhZ2U/OiBzdHJpbmcsIGhpZGVQcm9tcHQ/OiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgICAgICBjbG9zZU1vZGFsOiAoKSA9PiB2b2lkO1xuICAgIH1cbn07XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICByZXNldFN0eWxlczoge1xuICAgICAgICBtYXJnaW46ICcwJyxcbiAgICAgICAgcGFkZGluZzogJzAnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsLCBzYW5zLXNlcmlmJ1xuICAgIH0sXG4gICAgbW9kYWxPdmVybGF5OiB7XG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICB0b3A6ICcwJyxcbiAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjMpJyxcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICB6SW5kZXg6ICcxMDAnXG4gICAgfSxcbiAgICBjaGF0TW9kYWw6IHtcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHdpZHRoOiAnMTAwMHB4JyxcbiAgICAgICAgbWluSGVpZ2h0OiAnMTcwcHgnLFxuICAgICAgICBtYXhIZWlnaHQ6ICc2MDBweCcsXG4gICAgICAgIC8vaGVpZ2h0OiAnMTcwcHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgNXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjMpJyxcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICB6SW5kZXg6ICcxMDEnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgdHJhbnNpdGlvbjogJ2hlaWdodCAwLjNzIGVhc2UtaW4tb3V0J1xuICAgIH0sXG4gICAgY2hhdEhlYWRlcjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDBCNkRFJyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIHBhZGRpbmc6ICcxNXB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgY3Vyc29yOiAnbW92ZSdcbiAgICB9LFxuICAgIGNoYXRUaXRsZToge1xuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTZweCdcbiAgICB9LFxuICAgIGNoYXRDb250cm9sczoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGdhcDogJzEwcHgnXG4gICAgfSxcbiAgICBjb250cm9sQnV0dG9uOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdub25lJyxcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgIH0sXG4gICAgY2hhdE1lc3NhZ2VzOiB7XG4gICAgICAgIGZsZXg6ICcxJyxcbiAgICAgICAgcGFkZGluZzogJzE1cHgnLFxuICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y5ZjlmOScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9LFxuICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMjBweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgIH0sXG4gICAgYWlNZXNzYWdlOiB7XG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMDUpJ1xuICAgIH0sXG4gICAgdXNlck1lc3NhZ2U6IHtcbiAgICAgICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4IDE1cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDI5OWUxJyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIG1hcmdpbkxlZnQ6ICdhdXRvJyxcbiAgICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICc1cHgnXG4gICAgfSxcbiAgICBtZXNzYWdlQ29udGVudDoge1xuICAgICAgICBwYWRkaW5nOiAnMTJweCcsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICB9LFxuICAgIG1lc3NhZ2VBY3Rpb25zOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgZ2FwOiAnOHB4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y3ZmFmYycsXG4gICAgICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMCAwIDhweCA4cHgnXG4gICAgfSxcbiAgICBhY3Rpb25CdXR0b246IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2VkZjJmNycsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjY2JkNWUwJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgcGFkZGluZzogJzNweCA4cHgnLFxuICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgY29sb3I6ICcjNGE1NTY4J1xuICAgIH0sXG4gICAgY2hhdElucHV0OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgcGFkZGluZzogJzE1cHgnLFxuICAgICAgICBib3JkZXJUb3A6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIGlucHV0Um93OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgZ2FwOiAnMTBweCdcbiAgICB9LFxuICAgIGlucHV0V3JhcHBlcjoge1xuICAgICAgICBmbGV4OiAnMScsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICBtaW5IZWlnaHQ6ICc0OHB4JyxcbiAgICAgICAgbWF4SGVpZ2h0OiAnMTUwcHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHBhZGRpbmc6ICcxMnB4IDE1cHgnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgICAgICBtaW5IZWlnaHQ6ICc0OHB4JyxcbiAgICAgICAgbWF4SGVpZ2h0OiAnMTUwcHgnLFxuICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgICAgIGN1cnNvcjogJ2luaGVyaXQnXG4gICAgfSxcbiAgICBidXR0b25zQ29sdW1uOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGdhcDogJzRweCcsXG4gICAgICAgIHdpZHRoOiAnMTAwcHgnXG4gICAgfSxcbiAgICBzZW5kQnV0dG9uOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM2Q0IyNEEnLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcbiAgICAgICAgbWluV2lkdGg6ICcxMDBweCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgZ2FwOiAnNnB4JyxcbiAgICAgICAgb3BhY2l0eTogJzEnLFxuICAgIH0sXG4gICAgYWN0aW9uQnV0dG9uc1Jvdzoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGdhcDogJzRweCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbidcbiAgICB9LFxuICAgIGljb25CdXR0b246IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIHdpZHRoOiAnNDhweCcsXG4gICAgICAgIGhlaWdodDogJzMycHgnLFxuICAgICAgICBwYWRkaW5nOiAnMCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMnMnLFxuICAgICAgICBvcGFjaXR5OiAnMScsXG4gICAgfSxcbiAgICBzZW5kSWNvbjoge1xuICAgICAgICB3aWR0aDogJzE2cHgnLFxuICAgICAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJyB2aWV3Qm94PVxcJzAgMCAyNCAyNFxcJyBmaWxsPVxcJ3doaXRlXFwnJTNFJTNDcGF0aCBkPVxcJ00yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnpcXCcvJTNFJTNDL3N2ZyUzRVwiKScsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInXG4gICAgfSxcbiAgICBzdG9wSWNvbjoge1xuICAgICAgICB3aWR0aDogJzE2cHgnLFxuICAgICAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJyB2aWV3Qm94PVxcJzAgMCAyNCAyNFxcJyBmaWxsPVxcJyUyM0RDMjYyNlxcJyUzRSUzQ3BhdGggZD1cXCdNMCAwaDI0djI0SDB6XFwnIGZpbGw9XFwnbm9uZVxcJy8lM0UlM0NwYXRoIGQ9XFwnTTYgNmgxMnYxMkg2elxcJy8lM0UlM0Mvc3ZnJTNFXCIpJyxcbiAgICAgICAgYmFja2dyb3VuZFNpemU6ICdjb250YWluJyxcbiAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcidcbiAgICB9LFxuICAgIHJlZnJlc2hJY29uOiB7XG4gICAgICAgIHdpZHRoOiAnMTZweCcsXG4gICAgICAgIGhlaWdodDogJzE2cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPVxcJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFwnIHZpZXdCb3g9XFwnMCAwIDI0IDI0XFwnIGZpbGw9XFwnJTIzNEI1NTYzXFwnJTNFJTNDcGF0aCBkPVxcJ00wIDBoMjR2MjRIMHpcXCcgZmlsbD1cXCdub25lXFwnLyUzRSUzQ3BhdGggZD1cXCdNMTcuNjUgNi4zNUE3Ljk1OCA3Ljk1OCAwIDAgMCAxMiA0Yy00LjQyIDAtNy45OSAzLjU4LTcuOTkgOHMzLjU3IDggNy45OSA4YzMuNzMgMCA2Ljg0LTIuNTUgNy43My02aC0yLjA4QTUuOTkgNS45OSAwIDAgMSAxMiAxOGMtMy4zMSAwLTYtMi42OS02LTZzMi42OS02IDYtNmMxLjY2IDAgMy4xNC42OSA0LjIyIDEuNzhMMTMgMTFoN1Y0bC0yLjM1IDIuMzV6XFwnLyUzRSUzQy9zdmclM0VcIiknLFxuICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgd2lkdGg6ICcxNHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMTRweCcsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnNXB4JyxcbiAgICAgICAgYmFja2dyb3VuZFNpemU6ICdjb250YWluJyxcbiAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcidcbiAgICB9LFxuICAgIGRpc2FibGVkQnV0dG9uOiB7XG4gICAgICAgIG9wYWNpdHk6ICcwLjUnLFxuICAgICAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCdcbiAgICB9LFxuICAgIGxvYWRpbmdJbnB1dDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjNmNGY2JyxcbiAgICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnXG4gICAgfSxcbiAgICBsb2FkaW5nSW5kaWNhdG9yOiB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzAnLFxuICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI0MywgMjQ0LCAyNDYsIDAuOSknLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICcxMHB4JyxcbiAgICAgICAgY29sb3I6ICcjNkI3MjgwJyxcbiAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgZ2FwOiAnNHB4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgIHpJbmRleDogJzEwJyxcbiAgICAgICAgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDJweCknLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICAgIH0sXG4gICAgbG9hZGluZ0RvdDoge1xuICAgICAgICB3aWR0aDogJzZweCcsXG4gICAgICAgIGhlaWdodDogJzZweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5Q0EzQUYnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICBhbmltYXRpb246ICdsb2FkaW5nRG90UHVsc2UgMS40cyBpbmZpbml0ZScsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSxcbiAgICBlcnJvck1lc3NhZ2U6IHtcbiAgICAgICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4IDE1cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREMyNjI2JyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIG1hcmdpbkxlZnQ6ICdhdXRvJyxcbiAgICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICc1cHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBnYXA6ICc4cHgnXG4gICAgfSxcbiAgICBlcnJvckljb246IHtcbiAgICAgICAgd2lkdGg6ICcxNnB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMTZweCcsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9XFwnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXCcgdmlld0JveD1cXCcwIDAgMjQgMjRcXCcgZmlsbD1cXCd3aGl0ZVxcJyUzRSUzQ3BhdGggZD1cXCdNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtMmgydjJ6bTAtNGgtMlY3aDJ2NnpcXCcvJTNFJTNDL3N2ZyUzRVwiKScsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG4gICAgICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInXG4gICAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2RhbCA9IChjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gICAgaWYgKCFjb25maWcua2V5KSB7XG4gICAgICAgIGFsZXJ0KCdrZXkgaXMgcmVxdWlyZWQgY29uZmlnIHByb3BlcnR5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBidWlsZE1vZGFsID0gKCkgPT4ge1xuICAgICAgICAvLyBDcmVhdGUgb3ZlcmxheVxuICAgICAgICBjb25zdCBtb2RhbE92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMubW9kYWxPdmVybGF5KTtcblxuICAgICAgICAvLyBDcmVhdGUgbW9kYWxcbiAgICAgICAgY29uc3QgY2hhdE1vZGFsID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRNb2RhbCkgYXMgTW9kYWw7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGhlYWRlclxuICAgICAgICBjb25zdCBjaGF0SGVhZGVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRIZWFkZXIpO1xuICAgICAgICBjb25zdCBjaGF0VGl0bGUgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuY2hhdFRpdGxlLCAnbW9kQUkgQXNzaXN0YW50Jyk7XG4gICAgICAgIGNvbnN0IGNoYXRDb250cm9scyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0Q29udHJvbHMpO1xuXG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgc3R5bGVzLmNvbnRyb2xCdXR0b24sICfinJUnKTtcbiAgICAgICAgY2hhdENvbnRyb2xzLmFwcGVuZChjbG9zZUJ0bik7XG4gICAgICAgIGNoYXRIZWFkZXIuYXBwZW5kKGNoYXRUaXRsZSwgY2hhdENvbnRyb2xzKTtcblxuICAgICAgICAvLyBDcmVhdGUgbWVzc2FnZXMgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0TWVzc2FnZXMpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpbnB1dCBhcmVhXG4gICAgICAgIGNvbnN0IGNoYXRJbnB1dEFyZWEgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuY2hhdElucHV0KTtcblxuICAgICAgICAvLyBDcmVhdGUgaW5wdXQgcm93IGZpcnN0XG4gICAgICAgIGNvbnN0IGlucHV0Um93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmlucHV0Um93KTtcbiAgICAgICAgY29uc3QgaW5wdXRXcmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmlucHV0V3JhcHBlcik7XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZUlucHV0ID0gY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnLCBzdHlsZXMuaW5wdXQpO1xuICAgICAgICBtZXNzYWdlSW5wdXQucGxhY2Vob2xkZXIgPSAnVHlwZSB5b3VyIG1lc3NhZ2UuLi4nO1xuXG4gICAgICAgIC8vIENyZWF0ZSBidXR0b25zIGNvbHVtblxuICAgICAgICBjb25zdCBidXR0b25zQ29sdW1uID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmJ1dHRvbnNDb2x1bW4pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBzZW5kIGJ1dHRvbiB3aXRoIGljb24gYW5kIHRleHRcbiAgICAgICAgY29uc3Qgc2VuZEJ0biA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlcy5zZW5kQnV0dG9uKTtcbiAgICAgICAgY29uc3Qgc2VuZEljb24gPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgc3R5bGVzLnNlbmRJY29uKTtcbiAgICAgICAgY29uc3Qgc2VuZFRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnU2VuZCcpO1xuICAgICAgICBzZW5kQnRuLmFwcGVuZChzZW5kSWNvbiwgc2VuZFRleHQpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhY3Rpb24gYnV0dG9ucyByb3dcbiAgICAgICAgY29uc3QgYWN0aW9uQnV0dG9uc1JvdyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5hY3Rpb25CdXR0b25zUm93KTtcblxuICAgICAgICAvLyBDcmVhdGUgU3RvcCBidXR0b24gd2l0aCBpY29uXG4gICAgICAgIGNvbnN0IHN0b3BCdG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7Li4uc3R5bGVzLmljb25CdXR0b24sIC4uLnN0eWxlcy5kaXNhYmxlZEJ1dHRvbn0pO1xuICAgICAgICBjb25zdCBzdG9wSWNvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBzdHlsZXMuc3RvcEljb24pO1xuICAgICAgICBzdG9wQnRuLmFwcGVuZENoaWxkKHN0b3BJY29uKTtcbiAgICAgICAgc3RvcEJ0bi50aXRsZSA9ICdTdG9wIEdlbmVyYXRpb24nO1xuXG4gICAgICAgIC8vIENyZWF0ZSBUcnkgQWdhaW4gYnV0dG9uIHdpdGggaWNvblxuICAgICAgICBjb25zdCB0cnlBZ2FpbkJ0biA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlcy5pY29uQnV0dG9uKTtcbiAgICAgICAgY29uc3QgcmVmcmVzaEljb24gPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgc3R5bGVzLnJlZnJlc2hJY29uKTtcbiAgICAgICAgdHJ5QWdhaW5CdG4uYXBwZW5kQ2hpbGQocmVmcmVzaEljb24pO1xuICAgICAgICB0cnlBZ2FpbkJ0bi50aXRsZSA9ICdUcnkgQWdhaW4nO1xuXG4gICAgICAgIGlmIChoaXN0b3J5LmdldE1lc3NhZ2VzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0cnlBZ2FpbkJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyh0cnlBZ2FpbkJ0biwgey4uLnN0eWxlcy5pY29uQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b259KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFzc2VtYmxlIGFjdGlvbiBidXR0b25zIHJvd1xuICAgICAgICBhY3Rpb25CdXR0b25zUm93LmFwcGVuZChzdG9wQnRuLCB0cnlBZ2FpbkJ0bik7XG5cbiAgICAgICAgLy8gQXNzZW1ibGUgYnV0dG9ucyBjb2x1bW5cbiAgICAgICAgYnV0dG9uc0NvbHVtbi5hcHBlbmQoc2VuZEJ0biwgYWN0aW9uQnV0dG9uc1Jvdyk7XG5cbiAgICAgICAgaW5wdXRXcmFwcGVyLmFwcGVuZChtZXNzYWdlSW5wdXQpO1xuICAgICAgICAvLyBBc3NlbWJsZSBpbnB1dCByb3dcbiAgICAgICAgaW5wdXRSb3cuYXBwZW5kKGlucHV0V3JhcHBlciwgYnV0dG9uc0NvbHVtbik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGxvYWRpbmcgaW5kaWNhdG9yXG4gICAgICAgIGNvbnN0IGxvYWRpbmdJbmRpY2F0b3IgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMubG9hZGluZ0luZGljYXRvcik7XG4gICAgICAgIGxvYWRpbmdJbmRpY2F0b3IuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGxvYWRpbmdEb3RQdWxzZSB7XG4gICAgICAgICAgICAgICAgMCUsIDgwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC42KTsgb3BhY2l0eTogMC4zOyB9XG4gICAgICAgICAgICAgICAgNDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgb3BhY2l0eTogMTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmxvYWRpbmctZG90cyB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5sb2FkaW5nLWRvdCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNkI3MjgwO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBsb2FkaW5nRG90UHVsc2UgMS40cyBpbmZpbml0ZSBlYXNlLWluLW91dCBib3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmxvYWRpbmctZG90Om50aC1jaGlsZCgxKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOyB9XG4gICAgICAgICAgICAubG9hZGluZy1kb3Q6bnRoLWNoaWxkKDIpIHsgYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7IH1cbiAgICAgICAgICAgIC5sb2FkaW5nLWRvdDpudGgtY2hpbGQoMykgeyBhbmltYXRpb24tZGVsYXk6IDBzOyB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWRvdHNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWRvdFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctZG90XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZy1kb3RcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgICAgICBpbnB1dFdyYXBwZXIuYXBwZW5kKGxvYWRpbmdJbmRpY2F0b3IpO1xuXG4gICAgICAgIC8vIEFkZCBsb2FkaW5nIGluZGljYXRvciBhbmQgaW5wdXQgcm93IHRvIGNoYXQgaW5wdXQgYXJlYVxuICAgICAgICBjaGF0SW5wdXRBcmVhLmFwcGVuZChpbnB1dFJvdyk7XG5cbiAgICAgICAgLy8gQXNzZW1ibGUgbW9kYWxcbiAgICAgICAgY2hhdE1vZGFsLmFwcGVuZChjaGF0SGVhZGVyLCBjaGF0TWVzc2FnZXMsIGNoYXRJbnB1dEFyZWEpO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0byBib2R5XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1vZGFsT3ZlcmxheSwgY2hhdE1vZGFsKTtcblxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbCk7XG4gICAgICAgIHNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZW5kTWVzc2FnZSgpKTtcbiAgICAgICAgc3RvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BHZW5lcmF0aW9uKTtcbiAgICAgICAgdHJ5QWdhaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0cnlBZ2Fpbik7XG4gICAgICAgIG1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IHRoZSBkZWZhdWx0IGJlaGF2aW9yIGZvciBTaGlmdCtFbnRlciAobmV3IGxpbmUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBFbnRlciBiZWhhdmlvciBhbmQgc2VuZCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZvaWQgc2VuZE1lc3NhZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHJhZyBmdW5jdGlvbmFsaXR5XG4gICAgICAgIGNoYXRIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaW5pdERyYWcpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZERyYWcpO1xuXG4gICAgICAgIGNoYXRNb2RhbC5tb2RhbE92ZXJsYXkgPSBtb2RhbE92ZXJsYXk7XG4gICAgICAgIGNoYXRNb2RhbC5jaGF0SGVhZGVyID0gY2hhdEhlYWRlcjtcbiAgICAgICAgY2hhdE1vZGFsLmNsb3NlQnRuID0gY2xvc2VCdG47XG4gICAgICAgIGNoYXRNb2RhbC5jaGF0TWVzc2FnZXMgPSBjaGF0TWVzc2FnZXM7XG4gICAgICAgIGNoYXRNb2RhbC5tZXNzYWdlSW5wdXQgPSBtZXNzYWdlSW5wdXQ7XG4gICAgICAgIGNoYXRNb2RhbC5zZW5kQnRuID0gc2VuZEJ0bjtcbiAgICAgICAgY2hhdE1vZGFsLnRyeUFnYWluQnRuID0gdHJ5QWdhaW5CdG47XG4gICAgICAgIGNoYXRNb2RhbC5zdG9wQnRuID0gc3RvcEJ0bjtcbiAgICAgICAgY2hhdE1vZGFsLmxvYWRpbmdJbmRpY2F0b3IgPSBsb2FkaW5nSW5kaWNhdG9yO1xuXG4gICAgICAgIGNoYXRNb2RhbC5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIGNoYXRNb2RhbC5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgY2hhdE1vZGFsLmFib3J0Q29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgY2hhdE1vZGFsLm9mZnNldFggPSAwO1xuICAgICAgICBjaGF0TW9kYWwub2Zmc2V0WSA9IDA7XG5cbiAgICAgICAgcmV0dXJuIGNoYXRNb2RhbDtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVuTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgbW9kYWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBtb2RhbC5tb2RhbE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBoaXN0b3J5LmdldE1lc3NhZ2VzKCkuZmlsdGVyKChtKSA9PiAhbS5oaWRkZW4pO1xuICAgICAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVXNlck1lc3NhZ2UobXNnLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgbW9kYWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICByZXR1cm4gbW9kYWw7XG4gICAgfVxuXG4gICAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZERyYWcpO1xuXG4gICAgICAgIGlmIChtb2RhbC5tb2RhbE92ZXJsYXkpIHtcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsT3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbml0RHJhZyA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIG1vZGFsLmlzRHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHJlY3QgPSBtb2RhbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBtb2RhbC5vZmZzZXRYID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBtb2RhbC5vZmZzZXRZID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWcgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICBpZiAoIW1vZGFsLmlzRHJhZ2dpbmcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdYID0gZS5jbGllbnRYIC0gbW9kYWwub2Zmc2V0WDtcbiAgICAgICAgY29uc3QgbmV3WSA9IGUuY2xpZW50WSAtIG1vZGFsLm9mZnNldFk7XG5cbiAgICAgICAgbW9kYWwuc3R5bGUubGVmdCA9IG5ld1ggKyAncHgnO1xuICAgICAgICBtb2RhbC5zdHlsZS50b3AgPSBuZXdZICsgJ3B4JztcblxuICAgICAgICBtb2RhbC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgY29uc3QgZW5kRHJhZyA9ICgpID0+IHtcbiAgICAgICAgbW9kYWwuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnJztcbiAgICB9XG5cbiAgICBjb25zdCBzdG9wR2VuZXJhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFtb2RhbC5pc0xvYWRpbmcgfHwgIW1vZGFsLmFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kYWwuYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIG1vZGFsLmFib3J0Q29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgc2V0TG9hZGluZ1N0YXRlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0cnlBZ2FpbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKGhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZvaWQgc2VuZE1lc3NhZ2UoJ1RyeSBhZ2FpbicpO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZFVzZXJNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZURpdiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgICAgICAgICAgLi4uc3R5bGVzLnVzZXJNZXNzYWdlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lc3NhZ2VEaXYuaW5uZXJIVE1MID0gbmxUb0JyKGNvbnRlbnQpO1xuXG4gICAgICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtZXNzYWdlRGl2KTtcbiAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VEaXY7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkRXJyb3JNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZURpdiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgICAgICAgICAgLi4uc3R5bGVzLmVycm9yTWVzc2FnZVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlcnJvckljb24gPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgc3R5bGVzLmVycm9ySWNvbik7XG4gICAgICAgIG1lc3NhZ2VEaXYuYXBwZW5kQ2hpbGQoZXJyb3JJY29uKTtcblxuICAgICAgICBjb25zdCB0ZXh0U3BhbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGV4dFNwYW4udGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICBtZXNzYWdlRGl2LmFwcGVuZENoaWxkKHRleHRTcGFuKTtcblxuICAgICAgICBtb2RhbC5jaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XG4gICAgICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiBtZXNzYWdlRGl2O1xuICAgIH1cblxuICAgIGNvbnN0IGFkZEFzc2lzdGFudE1lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nLCBwcm92aWRlZElkPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICBtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZXNzYWdlRGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgLi4uc3R5bGVzLm1lc3NhZ2UsXG4gICAgICAgICAgICAuLi5zdHlsZXMuYWlNZXNzYWdlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHByb3ZpZGVkSWQgfHwgJ21zZy0nICsgRGF0ZS5ub3coKTtcbiAgICAgICAgbWVzc2FnZURpdi5kYXRhc2V0Lm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcblxuICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1lc3NhZ2VDb250ZW50KTtcblxuICAgICAgICBjb25zdCBpZnJhbWUgPSBjcmVhdGVDb250ZW50SWZyYW1lKGNvbnRlbnQsIG1vZGFsLCBjb25maWcuY3VzdG9tQ1NTID8/IFtdKTtcblxuICAgICAgICBjb250ZW50RGl2LmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgICAgICAgY29uc3QgYWN0aW9uc0RpdiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5tZXNzYWdlQWN0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgY29weUJ0biA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlcy5hY3Rpb25CdXR0b24pO1xuICAgICAgICBjb25zdCBjb3B5SWNvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZXMuaWNvbixcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9XFwnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXCcgd2lkdGg9XFwnMTZcXCcgaGVpZ2h0PVxcJzE2XFwnIGZpbGw9XFwnJTIzNGE1NTY4XFwnIHZpZXdCb3g9XFwnMCAwIDE2IDE2XFwnJTNFJTNDcGF0aCBkPVxcJ000IDEuNUgzYTIgMiAwIDAgMC0yIDJWMTRhMiAyIDAgMCAwIDIgMmgxMGEyIDIgMCAwIDAgMi0yVjMuNWEyIDIgMCAwIDAtMi0yaC0xdjFoMWExIDEgMCAwIDEgMSAxVjE0YTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xVjMuNWExIDEgMCAwIDEgMS0xaDF2LTF6XFwnLyUzRSUzQ3BhdGggZD1cXCdNOS41IDFhLjUuNSAwIDAgMSAuNS41djFhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTFhLjUuNSAwIDAgMSAuNS0uNWgzem0tMy0xQTEuNSAxLjUgMCAwIDAgNSAxLjV2MUExLjUgMS41IDAgMCAwIDYuNSA0aDNBMS41IDEuNSAwIDAgMCAxMSAyLjV2LTFBMS41IDEuNSAwIDAgMCA5LjUgMGgtM3pcXCcvJTNFJTNDL3N2ZyUzRVwiKSdcbiAgICAgICAgfSk7XG4gICAgICAgIGNvcHlCdG4uYXBwZW5kKGNvcHlJY29uLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnQ29weScpKTtcbiAgICAgICAgY29weUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvcHlUb0NsaXBib2FyZChtZXNzYWdlSWQsIGNvcHlCdG4pKTtcblxuICAgICAgICBhY3Rpb25zRGl2LmFwcGVuZChjb3B5QnRuKTtcblxuICAgICAgICBjb25zdCBpbnNlcnRDYiA9IGNvbmZpZy5hY3Rpb25zPy5pbnNlcnQ7XG4gICAgICAgIGlmIChpbnNlcnRDYiAmJiB0eXBlb2YgaW5zZXJ0Q2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc2VydEJ0biA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlcy5hY3Rpb25CdXR0b24pO1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLmljb24sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJyB3aWR0aD1cXCcxNlxcJyBoZWlnaHQ9XFwnMTZcXCcgZmlsbD1cXCclMjM0YTU1NjhcXCcgdmlld0JveD1cXCcwIDAgMTYgMTZcXCclM0UlM0NwYXRoIGQ9XFwnTTggMTVBNyA3IDAgMSAxIDggMWE3IDcgMCAwIDEgMCAxNHptMCAxQTggOCAwIDEgMCA4IDBhOCA4IDAgMCAwIDAgMTZ6XFwnLyUzRSUzQ3BhdGggZD1cXCdNOCA0YS41LjUgMCAwIDEgLjUuNXYzaDNhLjUuNSAwIDAgMSAwIDFoLTN2M2EuNS41IDAgMCAxLTEgMHYtM2gtM2EuNS41IDAgMCAxIDAtMWgzdi0zQS41LjUgMCAwIDEgOCA0elxcJy8lM0UlM0Mvc3ZnJTNFXCIpJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnNlcnRCdG4uYXBwZW5kKGluc2VydEljb24sIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdJbnNlcnQnKSk7XG4gICAgICAgICAgICBpbnNlcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRDYihoaXN0b3J5LmdldEFzc2lzdGFudE1lc3NhZ2UobWVzc2FnZUlkKSwgY2xvc2VNb2RhbCkpO1xuXG4gICAgICAgICAgICBhY3Rpb25zRGl2LmFwcGVuZChpbnNlcnRCdG4pO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZURpdi5hcHBlbmQoY29udGVudERpdiwgYWN0aW9uc0Rpdik7XG5cbiAgICAgICAgbW9kYWwuY2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1lc3NhZ2VEaXYpO1xuICAgICAgICBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcblxuICAgICAgICByZXR1cm4gbWVzc2FnZURpdjtcbiAgICB9XG5cbiAgICBjb25zdCBjb3B5VG9DbGlwYm9hcmQgPSAobWVzc2FnZUlkOiBzdHJpbmcsIGNvcHlCdG46IEhUTUxCdXR0b25FbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBoaXN0b3J5LmdldEFzc2lzdGFudE1lc3NhZ2UobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQpIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG1lc3NhZ2UuY29udGVudClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRFcnJvck1lc3NhZ2UoXygnbW9kYWkuY21wLmZhaWxlZF9jb3B5JykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICAgICAgICAgICAgdGV4dGFyZWEuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvck1lc3NhZ2UoXygnbW9kYWkuY21wLmZhaWxlZF9jb3B5JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gY29weUJ0bi5pbm5lckhUTUw7XG4gICAgICAgIGNvbnN0IGNvcHlJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlcy5pY29uLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJyB3aWR0aD1cXCcxNlxcJyBoZWlnaHQ9XFwnMTZcXCcgZmlsbD1cXCclMjM0YTU1NjhcXCcgdmlld0JveD1cXCcwIDAgMTYgMTZcXCclM0UlM0NwYXRoIGQ9XFwnTTQgMS41SDNhMiAyIDAgMCAwLTIgMlYxNGEyIDIgMCAwIDAgMiAyaDEwYTIgMiAwIDAgMCAyLTJWMy41YTIgMiAwIDAgMC0yLTJoLTF2MWgxYTEgMSAwIDAgMSAxIDFWMTRhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWMy41YTEgMSAwIDAgMSAxLTFoMXYtMXpcXCcvJTNFJTNDcGF0aCBkPVxcJ005LjUgMWEuNS41IDAgMCAxIC41LjV2MWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXYtMWEuNS41IDAgMCAxIC41LS41aDN6bS0zLTFBMS41IDEuNSAwIDAgMCA1IDEuNXYxQTEuNSAxLjUgMCAwIDAgNi41IDRoM0ExLjUgMS41IDAgMCAwIDExIDIuNXYtMUExLjUgMS41IDAgMCAwIDkuNSAwaC0zelxcJy8lM0UlM0Mvc3ZnJTNFXCIpJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29weUJ0bi5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29weUJ0bi5hcHBlbmQoY29weUljb24sIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdDb3BpZWQhJykpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvcHlCdG4uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50O1xuICAgICAgICB9LCAyMDAwKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXRMb2FkaW5nU3RhdGUgPSAobG9hZGluZzogYm9vbGVhbikgPT4ge1xuICAgICAgICBtb2RhbC5pc0xvYWRpbmcgPSBsb2FkaW5nO1xuXG4gICAgICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICAgICAgICBtb2RhbC5sb2FkaW5nSW5kaWNhdG9yLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RhbC5sb2FkaW5nSW5kaWNhdG9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbC5tZXNzYWdlSW5wdXQuZGlzYWJsZWQgPSBsb2FkaW5nO1xuICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgYXBwbHlTdHlsZXMobW9kYWwubWVzc2FnZUlucHV0LCB7Li4uc3R5bGVzLmlucHV0LCAuLi5zdHlsZXMubG9hZGluZ0lucHV0fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyhtb2RhbC5tZXNzYWdlSW5wdXQsIHN0eWxlcy5pbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbC5zZW5kQnRuLmRpc2FibGVkID0gbG9hZGluZztcbiAgICAgICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgICAgICAgIGFwcGx5U3R5bGVzKG1vZGFsLnNlbmRCdG4sIHsuLi5zdHlsZXMuc2VuZEJ1dHRvbiwgLi4uc3R5bGVzLmRpc2FibGVkQnV0dG9ufSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyhtb2RhbC5zZW5kQnRuLCBzdHlsZXMuc2VuZEJ1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbC5zdG9wQnRuLmRpc2FibGVkID0gIWxvYWRpbmc7XG4gICAgICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyhtb2RhbC5zdG9wQnRuLCBzdHlsZXMuaWNvbkJ1dHRvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyhtb2RhbC5zdG9wQnRuLCB7Li4uc3R5bGVzLmljb25CdXR0b24sIC4uLnN0eWxlcy5kaXNhYmxlZEJ1dHRvbn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFzTWVzc2FnZXMgPSBoaXN0b3J5LmdldE1lc3NhZ2VzKCkubGVuZ3RoID4gMDtcbiAgICAgICAgbW9kYWwudHJ5QWdhaW5CdG4uZGlzYWJsZWQgPSBsb2FkaW5nIHx8ICFoYXNNZXNzYWdlcztcbiAgICAgICAgaWYgKGxvYWRpbmcgfHwgIWhhc01lc3NhZ2VzKSB7XG4gICAgICAgICAgICBhcHBseVN0eWxlcyhtb2RhbC50cnlBZ2FpbkJ0biwgey4uLnN0eWxlcy5pY29uQnV0dG9uLCAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b259KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGx5U3R5bGVzKG1vZGFsLnRyeUFnYWluQnRuLCBzdHlsZXMuaWNvbkJ1dHRvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jIChwcm92aWRlZE1lc3NhZ2U/OiBzdHJpbmcsIGhpZGVQcm9tcHQ/OiBib29sZWFuKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwcm92aWRlZE1lc3NhZ2UgPyBwcm92aWRlZE1lc3NhZ2UudHJpbSgpIDogbW9kYWwubWVzc2FnZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8IG1vZGFsLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0TG9hZGluZ1N0YXRlKHRydWUpO1xuXG4gICAgICAgIG1vZGFsLm1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBtb2RhbC5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBoaXN0b3J5LmdldE1lc3NhZ2VzSGlzdG9yeSgpO1xuICAgICAgICBoaXN0b3J5LmFkZFVzZXJNZXNzYWdlKG1lc3NhZ2UsIGhpZGVQcm9tcHQpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC5mcmVlVGV4dChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogY29uZmlnLm5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogY29uZmlnLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGNvbmZpZy5maWVsZCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnVwZGF0ZUFzc2lzdGFudE1lc3NhZ2UoZGF0YS5pZCwgZGF0YS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGFsLmFib3J0Q29udHJvbGxlclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaGlzdG9yeS51cGRhdGVBc3Npc3RhbnRNZXNzYWdlKGRhdGEuaWQsIGRhdGEuY29udGVudCk7XG5cbiAgICAgICAgICAgIG1vZGFsLmFib3J0Q29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhZGRFcnJvck1lc3NhZ2UoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkRXJyb3JNZXNzYWdlKCdVbmtub3duIGVycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2FkaW5nU3RhdGUoZmFsc2UpO1xuICAgIH1cblxuICAgIGNvbnN0IGhpc3RvcnkgPSBjaGF0SGlzdG9yeS5pbml0KFxuICAgICAgICBjb25maWcua2V5LFxuICAgICAgICAobXNnKSA9PiB7XG4gICAgICAgICAgICBpZiAobXNnLmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1zZy5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkVXNlck1lc3NhZ2UobXNnLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWRkQXNzaXN0YW50TWVzc2FnZShtc2cuY29udGVudCwgbXNnLmlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgKG1zZykgPT4ge1xuICAgICAgICAgICAgaWYgKCFtc2cuZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtc2cucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICAgICAgbXNnLmVsLnRleHRDb250ZW50ID0gbXNnLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpZnJhbWUgPSBtc2cuZWw/LmZpcnN0Q2hpbGQ/LmZpcnN0Q2hpbGQgYXMgSWZyYW1lO1xuICAgICAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgICAgICAgIGlmICghaWZyYW1lRG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmcmFtZURvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gbmxUb0JyKG1zZy5jb250ZW50KTtcbiAgICAgICAgICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgbW9kYWwgPSBidWlsZE1vZGFsKCk7XG5cbiAgICBtb2RhbC5hcGkgPSB7XG4gICAgICAgIHNlbmRNZXNzYWdlLFxuICAgICAgICBjbG9zZU1vZGFsLFxuICAgIH1cblxuICAgIG9wZW5Nb2RhbCgpO1xuXG4gICAgcmV0dXJuIG1vZGFsO1xufVxuIiwidHlwZSBUZXh0YXJlYU92ZXJsYXlPcHRpb25zID0ge1xuICAgIGluZGljYXRvclR5cGU/OiAnc3Bpbm5lcicgfCAnZG90cyc7XG4gICAgb3ZlcmxheUNvbG9yPzogc3RyaW5nO1xuICAgIGluZGljYXRvckNvbG9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlTG9hZGluZ092ZXJsYXkgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFRleHRhcmVhT3ZlcmxheU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgaW5kaWNhdG9yVHlwZTogb3B0aW9ucy5pbmRpY2F0b3JUeXBlIHx8ICdzcGlubmVyJyxcbiAgICAgICAgb3ZlcmxheUNvbG9yOiBvcHRpb25zLm92ZXJsYXlDb2xvciB8fCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJyxcbiAgICAgICAgaW5kaWNhdG9yQ29sb3I6IG9wdGlvbnMuaW5kaWNhdG9yQ29sb3IgfHwgJyMzNDk4ZGInXG4gICAgfTtcblxuICAgIGNvbnN0IG92ZXJsYXk6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgaW5kaWNhdG9yOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgdGV4dGFyZWFTdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCB0ZXh0YXJlYVJlY3Q6IERPTVJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgaWYgKCFvcHRpb25zLmluZGljYXRvckNvbG9yKSB7XG4gICAgICAgIGNvbmZpZy5pbmRpY2F0b3JUeXBlID0gdGV4dGFyZWFSZWN0LmhlaWdodCA8PSA1MCA/ICdkb3RzJyA6ICdzcGlubmVyJztcbiAgICB9XG5cbiAgICBvdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBvdmVybGF5LnN0eWxlLnRvcCA9ICcwJztcbiAgICBvdmVybGF5LnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgb3ZlcmxheS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBvdmVybGF5LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbmZpZy5vdmVybGF5Q29sb3I7XG4gICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIG92ZXJsYXkuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICBvdmVybGF5LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICBvdmVybGF5LnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7XG4gICAgb3ZlcmxheS5zdHlsZS5ib3JkZXJSYWRpdXMgPSB0ZXh0YXJlYVN0eWxlcy5ib3JkZXJSYWRpdXM7XG5cbiAgICBsZXQgc3R5bGVUZXh0ID0gJyc7XG5cbiAgICBpZiAoY29uZmlnLmluZGljYXRvclR5cGUgPT09ICdzcGlubmVyJykge1xuICAgICAgICAvLyBBcHBseSBzdHlsZXMgdG8gdGhlIHNwaW5uZXJcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlciA9IGA0cHggc29saWQgI2YzZjNmM2A7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJUb3AgPSBgNHB4IHNvbGlkICR7Y29uZmlnLmluZGljYXRvckNvbG9yfWA7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gJzMwcHgnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gJzMwcHgnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gJ3RleHRhcmVhT3ZlcmxheVNwaW4gMXMgbGluZWFyIGluZmluaXRlJztcblxuICAgICAgICAvLyBBZGQgc3Bpbm5lciBhbmltYXRpb25cbiAgICAgICAgc3R5bGVUZXh0ID0gYFxuICAgICAgQGtleWZyYW1lcyB0ZXh0YXJlYU92ZXJsYXlTcGluIHtcbiAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgfVxuICAgIGA7XG4gICAgfSBlbHNlIGlmIChjb25maWcuaW5kaWNhdG9yVHlwZSA9PT0gJ2RvdHMnKSB7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkb3Quc3R5bGUud2lkdGggPSAnOHB4JztcbiAgICAgICAgICAgIGRvdC5zdHlsZS5oZWlnaHQgPSAnOHB4JztcbiAgICAgICAgICAgIGRvdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgICAgIGRvdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb25maWcuaW5kaWNhdG9yQ29sb3I7XG4gICAgICAgICAgICBkb3Quc3R5bGUubWFyZ2luID0gJzAgNHB4JztcbiAgICAgICAgICAgIGRvdC5zdHlsZS5hbmltYXRpb24gPSBgdGV4dGFyZWFPdmVybGF5RG90UHVsc2UgMS40cyBpbmZpbml0ZSBlYXNlLWluLW91dGA7XG4gICAgICAgICAgICBkb3Quc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBgJHtpICogMC4yfXNgO1xuICAgICAgICAgICAgaW5kaWNhdG9yLmFwcGVuZENoaWxkKGRvdCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHlsZVRleHQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHRleHRhcmVhT3ZlcmxheURvdFB1bHNlIHtcbiAgICAgICAgMCUsIDgwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMCk7IG9wYWNpdHk6IDAuNTsgfVxuICAgICAgICA0MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9XG4gICAgICB9XG4gICAgYDtcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZVNoZWV0OiBIVE1MU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZVNoZWV0LnRleHRDb250ZW50ID0gc3R5bGVUZXh0O1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7XG5cbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKGluZGljYXRvcik7XG5cbiAgICBjb25zdCBwYXJlbnRTdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LnBhcmVudEVsZW1lbnQgYXMgRWxlbWVudCk7XG4gICAgbGV0IHdyYXBwZXI6IEhUTUxFbGVtZW50O1xuXG4gICAgaWYgKFsncmVsYXRpdmUnLCAnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmRleE9mKHBhcmVudFN0eWxlcy5wb3NpdGlvbikgPT09IC0xKSB7XG4gICAgICAgIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSBgJHt0ZXh0YXJlYVJlY3Qud2lkdGh9cHhgO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLmhlaWdodCA9IGAke3RleHRhcmVhUmVjdC5oZWlnaHR9cHhgO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblxuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwcGVyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgIH1cblxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gICAgY29uc3QgdXBkYXRlZFJlY3Q6IERPTVJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICh3cmFwcGVyICE9PSBlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3VwZGF0ZWRSZWN0LndpZHRofXB4YDtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHt1cGRhdGVkUmVjdC5oZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgIHJldHVybiAoKTogdm9pZCA9PiB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgc3R5bGVTaGVldC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHdyYXBwZXIgIT09IGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlPy5pbnNlcnRCZWZvcmUoZWxlbWVudCwgd3JhcHBlcik7XG4gICAgICAgICAgICB3cmFwcGVyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsImltcG9ydCB7Y3JlYXRlTW9kYWwsIHR5cGUgTW9kYWxDb25maWd9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgeyBjcmVhdGVMb2FkaW5nT3ZlcmxheSB9IGZyb20gJy4vb3ZlcmxheSdcblxuXG5leHBvcnQgY29uc3QgdWkgPSB7XG4gICAgY3JlYXRlTG9hZGluZ092ZXJsYXksXG4gICAgZnJlZVByb21wdDogKGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU1vZGFsKGNvbmZpZyk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7Y3JlYXRlRWxlbWVudCwgbmxUb0JyfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHR5cGUgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5cbmV4cG9ydCB0eXBlIElmcmFtZSA9IEhUTUxJRnJhbWVFbGVtZW50ICYge1xuICAgIHN5bmNIZWlnaHQ6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb250ZW50SWZyYW1lID0gKHByb3ZpZGVkQ29udGVudDogc3RyaW5nLCBtb2RhbDogTW9kYWwsIGN1c3RvbUNTUzogc3RyaW5nW10gPSBbXSkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBubFRvQnIocHJvdmlkZWRDb250ZW50KTtcblxuICAgIGNvbnN0IGlmcmFtZSA9IGNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScsIHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgIH0pIGFzIElmcmFtZTtcblxuICAgIGlmcmFtZS5zcmNkb2MgPSBgXG4gICAgICAgIDxodG1sPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICBodG1sIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKiB7XG4gICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICAgICAgICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhO1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW1nIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2RlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICAgICAgICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YWJsZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpdiB7XG4gICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgICAgICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgMC41ZW0gMDtcbiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgMC4xZW0gMDtcbiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAke2N1c3RvbUNTUy5tYXAoKGNzcykgPT4ge1xuICAgICAgICByZXR1cm4gYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiJHtjc3N9XCIgLz5gO1xuICAgIH0pLmpvaW4oJycpfVxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5IHN0eWxlPVwicGFkZGluZzogMDsgbWF4LXdpZHRoOiAxMDAlOyB3aWR0aDogMTAwJTsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIj4ke2NvbnRlbnR9PC9ib2R5PlxuICAgICAgICA8L2h0bWw+XG4gICAgYDtcblxuICAgIGlmcmFtZS5zeW5jSGVpZ2h0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c/LmRvY3VtZW50LmJvZHk7XG4gICAgICAgIGlmICghYm9keSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7XG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSBib2R5Lm9mZnNldEhlaWdodDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBlbGVtZW50Lm9mZnNldFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gTWF0aC5tYXgobWF4SGVpZ2h0LCBib3R0b20pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IChtYXhIZWlnaHQgKyA1KSArICdweCc7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgICAgICBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICB9XG5cbiAgICBpZnJhbWUub25sb2FkID0gaWZyYW1lLnN5bmNIZWlnaHQ7XG5cbiAgICByZXR1cm4gaWZyYW1lO1xufVxuIiwiaW1wb3J0IHtleGVjdXRvciwgSW1hZ2VEYXRhfSBmcm9tIFwiLi9leGVjdXRvclwiO1xuaW1wb3J0IHtEYXRhT3V0cHV0LCBoaXN0b3J5fSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IHt1aX0gZnJvbSBcIi4vdWlcIjtcbmltcG9ydCB7Y3JlYXRlTG9hZGluZ092ZXJsYXl9IGZyb20gXCIuL3VpL292ZXJsYXlcIjtcblxudHlwZSBEYXRhQ29udGV4dCA9IHtlbHM6IHsgZmllbGQ6IGFueSwgd3JhcHBlcjogSGlzdG9yeUVsZW1lbnQgfVtdfTtcbnR5cGUgSGlzdG9yeUJ1dHRvbiA9IEhUTUxCdXR0b25FbGVtZW50ICYge1xuICAgIGVuYWJsZTogKCkgPT4gdm9pZDtcbiAgICBkaXNhYmxlOiAoKSA9PiB2b2lkO1xufTtcbnR5cGUgSGlzdG9yeUluZm8gPSBIVE1MRWxlbWVudCAmIHtcbiAgICB1cGRhdGU6IChzaG93aW5nOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQ7XG59O1xudHlwZSBIaXN0b3J5TmF2ID0gSFRNTEVsZW1lbnQgJiB7XG4gICAgc2hvdzogKCkgPT4gdm9pZDtcbiAgICBoaWRlOiAoKSA9PiB2b2lkO1xuICAgIHByZXZCdXR0b246IEhpc3RvcnlCdXR0b247XG4gICAgbmV4dEJ1dHRvbjogSGlzdG9yeUJ1dHRvbjtcbiAgICBpbmZvOiBIaXN0b3J5SW5mbztcbn07XG50eXBlIEhpc3RvcnlFbGVtZW50ID0gSFRNTEVsZW1lbnQgJiB7IGhpc3RvcnlOYXY6IEhpc3RvcnlOYXYgfVxuXG5jb25zdCBoaXN0b3J5TmF2U3luYyA9IChkYXRhOiBEYXRhT3V0cHV0PERhdGFDb250ZXh0Piwgbm9TdG9yZT86IGJvb2xlYW4pID0+IHtcbiAgICBkYXRhLmNvbnRleHQuZWxzLmZvckVhY2goKHt3cmFwcGVyLCBmaWVsZH0pID0+IHtcbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gZmllbGQuZ2V0VmFsdWUoKTtcbiAgICAgICAgZmllbGQuc2V0VmFsdWUoZGF0YS52YWx1ZSk7XG4gICAgICAgIGZpZWxkLmZpcmVFdmVudCgnY2hhbmdlJywgZmllbGQsIGRhdGEudmFsdWUsIHByZXZWYWx1ZSk7XG5cbiAgICAgICAgaWYgKG5vU3RvcmUpIHtcbiAgICAgICAgICAgIGZpZWxkLmVsLmRvbS5zY3JvbGxUb3AgPSBmaWVsZC5lbC5kb20uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEudG90YWwgPiAwKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmhpc3RvcnlOYXYuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgd3JhcHBlci5oaXN0b3J5TmF2LmluZm8udXBkYXRlKGRhdGEuY3VycmVudCwgZGF0YS50b3RhbCk7XG5cbiAgICAgICAgaWYgKGRhdGEucHJldlN0YXR1cykge1xuICAgICAgICAgICAgd3JhcHBlci5oaXN0b3J5TmF2LnByZXZCdXR0b24uZW5hYmxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyLmhpc3RvcnlOYXYucHJldkJ1dHRvbi5kaXNhYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5uZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmhpc3RvcnlOYXYubmV4dEJ1dHRvbi5lbmFibGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIuaGlzdG9yeU5hdi5uZXh0QnV0dG9uLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuY29uc3QgY3JlYXRlV2FuZEVsID0gKCkgPT4ge1xuICAgIGNvbnN0IHdhbmRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHdhbmRFbC5jbGFzc05hbWUgPSAnbW9kYWktZ2VuZXJhdGUnO1xuICAgIHdhbmRFbC5pbm5lclRleHQgPSAn4pymJ1xuICAgIHdhbmRFbC50eXBlID0gJ2J1dHRvbidcbiAgICB3YW5kRWwudGl0bGUgPSAnR2VuZXJhdGUgdXNpbmcgQUknXG5cbiAgICByZXR1cm4gd2FuZEVsO1xufVxuXG5jb25zdCBjcmVhdGVIaXN0b3J5TmF2ID0gKGNhY2hlOiBSZXR1cm5UeXBlPHR5cGVvZiBoaXN0b3J5LmluaXQ8RGF0YUNvbnRleHQ+PikgPT4ge1xuICAgIGNvbnN0IHByZXZCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSBhcyBIaXN0b3J5QnV0dG9uO1xuICAgIHByZXZCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgIHByZXZCdXR0b24udGl0bGUgPSAnUHJldmlvdXMgVmVyc2lvbic7XG4gICAgcHJldkJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kYWktaGlzdG9yeV9wcmV2JztcbiAgICBwcmV2QnV0dG9uLmRpc2FibGUgPSAoKSA9PiB7XG4gICAgICAgIHByZXZCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBwcmV2QnV0dG9uLmVuYWJsZSA9ICgpID0+IHtcbiAgICAgICAgcHJldkJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBwcmV2QnV0dG9uLmlubmVySFRNTCA9ICdwcmV2JztcbiAgICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjYWNoZS5wcmV2KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBuZXh0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykgYXMgSGlzdG9yeUJ1dHRvbjtcbiAgICBuZXh0QnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICBuZXh0QnV0dG9uLnRpdGxlID0gJ05leHQgVmVyc2lvbic7XG4gICAgbmV4dEJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kYWktaGlzdG9yeV9uZXh0JztcbiAgICBuZXh0QnV0dG9uLmRpc2FibGUgPSAoKSA9PiB7XG4gICAgICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBuZXh0QnV0dG9uLmVuYWJsZSA9ICgpID0+IHtcbiAgICAgICAgbmV4dEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBuZXh0QnV0dG9uLmlubmVySFRNTCA9ICduZXh0JztcbiAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjYWNoZS5uZXh0KCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIGFzIEhpc3RvcnlJbmZvO1xuICAgIGluZm8udXBkYXRlID0gKHNob3dpbmcsIHRvdGFsKSA9PiB7XG4gICAgICAgIGluZm8uaW5uZXJUZXh0ID0gYCR7c2hvd2luZ30vJHt0b3RhbH1gO1xuICAgIH1cbiAgICBpbmZvLmlubmVyVGV4dCA9ICcnO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSBhcyBIaXN0b3J5TmF2O1xuICAgIHdyYXBwZXIuc2hvdyA9ICgpID0+IHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2luaXRpYWwnO1xuICAgIH1cblxuICAgIHdyYXBwZXIuaGlkZSA9ICgpID0+IHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHdyYXBwZXIucHJldkJ1dHRvbiA9IHByZXZCdXR0b247XG4gICAgd3JhcHBlci5uZXh0QnV0dG9uID0gbmV4dEJ1dHRvbjtcbiAgICB3cmFwcGVyLmluZm8gPSBpbmZvO1xuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChwcmV2QnV0dG9uKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG5leHRCdXR0b24pO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG5cbiAgICB3cmFwcGVyLmhpZGUoKTtcbiAgICBwcmV2QnV0dG9uLmRpc2FibGUoKTtcbiAgICBuZXh0QnV0dG9uLmRpc2FibGUoKTtcblxuICAgIHJldHVybiB3cmFwcGVyO1xufVxuXG5jb25zdCBjcmVhdGVGcmVlVGV4dFByb21wdCA9IChmaWVsZE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHdhbmRFbCA9IGNyZWF0ZVdhbmRFbCgpO1xuICAgIHdhbmRFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdWkuZnJlZVByb21wdCh7XG4gICAgICAgICAgICBrZXk6IGZpZWxkTmFtZSxcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZE5hbWUsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHdhbmRFbDtcbn1cblxuY29uc3QgY3JlYXRlRm9yY2VkVGV4dFByb21wdCA9IChmaWVsZDogYW55LCBmaWVsZE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGFpV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSBhcyBIaXN0b3J5RWxlbWVudDtcblxuICAgIGNvbnN0IHdhbmRFbCA9IGNyZWF0ZVdhbmRFbCgpO1xuICAgIHdhbmRFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZG9uZSA9IGNyZWF0ZUxvYWRpbmdPdmVybGF5KGZpZWxkLmVsLmRvbSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLm1nci5wcm9tcHQudGV4dCh7XG4gICAgICAgICAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yIEV4dFxuICAgICAgICAgICAgICAgIGlkOiBNT0R4LnJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWNoZS5pbnNlcnQocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciBFeHRcbiAgICAgICAgICAgIEV4dC5Nc2cuYWxlcnQoXCJGYWlsZWRcIiwgXygnbW9kYWkuY21wLmZhaWxlZF90cnlfYWdhaW4nLCB7XCJtc2dcIjogZXJyLm1lc3NhZ2V9KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFpV3JhcHBlci5hcHBlbmRDaGlsZCh3YW5kRWwpO1xuXG4gICAgY29uc3QgY2FjaGUgPSBoaXN0b3J5LmluaXQoXG4gICAgICAgIGZpZWxkTmFtZSxcbiAgICAgICAgaGlzdG9yeU5hdlN5bmMsXG4gICAgICAgIGZpZWxkLmdldFZhbHVlKCksXG4gICAgICAgIHt9IGFzIERhdGFDb250ZXh0XG4gICAgKTtcblxuICAgIGlmICghY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscykge1xuICAgICAgICBjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzID0gW107XG4gICAgfVxuICAgIGNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMucHVzaCh7ZmllbGQsIHdyYXBwZXI6IGFpV3JhcHBlcn0pO1xuXG4gICAgY29uc3QgaGlzdG9yeU5hdiA9IGNyZWF0ZUhpc3RvcnlOYXYoY2FjaGUpO1xuXG4gICAgYWlXcmFwcGVyLmFwcGVuZENoaWxkKGhpc3RvcnlOYXYpO1xuICAgIGFpV3JhcHBlci5oaXN0b3J5TmF2ID0gaGlzdG9yeU5hdjtcblxuICAgIHJldHVybiBhaVdyYXBwZXI7XG59XG5cbmNvbnN0IGNyZWF0ZUltYWdlUHJvbXB0ID0gKGRlZmF1bHRQcm9tcHQ6IHN0cmluZywgbWVkaWFTb3VyY2U6IHN0cmluZywgZmllbGROYW1lOiBzdHJpbmcsIG9uU3VjY2VzczogKHJlczogSW1hZ2VEYXRhKSA9PiB2b2lkKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VXYW5kID0gY3JlYXRlV2FuZEVsKCk7XG4gICAgaW1hZ2VXYW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3IgRXh0XG4gICAgICAgIGNvbnN0IGNyZWF0ZUNvbHVtbiA9IE1PRHgubG9hZCh7XG4gICAgICAgICAgICB4dHlwZTogJ21vZGFpLXdpbmRvdy1pbWFnZV9wcm9tcHQnLFxuICAgICAgICAgICAgdGl0bGU6ICdJbWFnZScsXG4gICAgICAgICAgICBjYWNoZUtleTogZmllbGROYW1lLFxuICAgICAgICAgICAgcmVjb3JkOiB7XG4gICAgICAgICAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yIEV4dFxuICAgICAgICAgICAgICAgIHJlc291cmNlOiBNT0R4LnJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgcHJvbXB0OiBkZWZhdWx0UHJvbXB0LFxuICAgICAgICAgICAgICAgIG1lZGlhU291cmNlLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZE5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgICAgICBmbjogb25TdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTp0aGlzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjcmVhdGVDb2x1bW4uc2hvdygpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGltYWdlV2FuZDtcbn1cblxuY29uc3QgYXR0YWNoRmllbGQgPSAoY21wOiBzdHJpbmcsIGZpZWxkTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBFeHRcbiAgICBjb25zdCBmaWVsZCA9IEV4dC5nZXRDbXAoY21wKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG5cbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIGFzIEhpc3RvcnlFbGVtZW50O1xuXG4gICAgY29uc3Qgd2FuZEVsID0gY3JlYXRlV2FuZEVsKCk7XG4gICAgd2FuZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBkb25lID0gY3JlYXRlTG9hZGluZ092ZXJsYXkoZmllbGQuZWwuZG9tKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC50ZXh0KHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE1PRHhcbiAgICAgICAgICAgICAgICBpZDogTU9EeC5yZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZE5hbWVcbiAgICAgICAgICAgIH0sIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FjaGUuaW5zZXJ0KGRhdGEuY29udGVudCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhY2hlLmluc2VydChyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBFeHRcbiAgICAgICAgICAgIEV4dC5Nc2cuYWxlcnQoXCJGYWlsZWRcIiwgXygnbW9kYWkuY21wLmZhaWxlZF90cnlfYWdhaW4nLCB7XCJtc2dcIjogZXJyLm1lc3NhZ2V9KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQod2FuZEVsKTtcblxuICAgIGNvbnN0IGNhY2hlID0gaGlzdG9yeS5pbml0PERhdGFDb250ZXh0PihcbiAgICAgICAgZmllbGROYW1lLFxuICAgICAgICBoaXN0b3J5TmF2U3luYyxcbiAgICAgICAgZmllbGQuZ2V0VmFsdWUoKSxcbiAgICAgICAge30gYXMgRGF0YUNvbnRleHQsXG4gICAgKTtcblxuICAgIGlmICghY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscykge1xuICAgICAgICBjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzID0gW107XG4gICAgfVxuICAgIGNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMucHVzaCh7ZmllbGQsIHdyYXBwZXJ9KTtcblxuICAgIGNvbnN0IGhpc3RvcnlOYXYgPSBjcmVhdGVIaXN0b3J5TmF2KGNhY2hlKTtcblxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaGlzdG9yeU5hdik7XG4gICAgd3JhcHBlci5oaXN0b3J5TmF2ID0gaGlzdG9yeU5hdjtcblxuICAgIGZpZWxkLmxhYmVsLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xufVxuXG5jb25zdCBhdHRhY2hJbWFnZVBsdXMgPSAoaW1nUGx1c1BhbmVsOiBFbGVtZW50LCBmaWVsZE5hbWU6IHN0cmluZykgPT4ge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRXh0XG4gICAgY29uc3QgaW1hZ2VQbHVzID0gRXh0LmdldENtcChpbWdQbHVzUGFuZWwuZmlyc3RFbGVtZW50Q2hpbGQ/LmlkKTtcblxuICAgIGNvbnN0IGltYWdlV2FuZCA9IGNyZWF0ZUltYWdlUHJvbXB0KFxuICAgICAgICAnJyxcbiAgICAgICAgaW1hZ2VQbHVzLmltYWdlQnJvd3Nlci5zb3VyY2UsXG4gICAgICAgIGZpZWxkTmFtZSxcbiAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICBpZiAoJ3VybCcgaW4gcmVzKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VQbHVzLmltYWdlQnJvd3Nlci5zZXRWYWx1ZShyZXMudXJsKTtcbiAgICAgICAgICAgICAgICBpbWFnZVBsdXMub25JbWFnZUNoYW5nZShyZXMudXJsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IGFsdFRleHRXYW5kID0gY3JlYXRlV2FuZEVsKCk7XG4gICAgYWx0VGV4dFdhbmQuc3R5bGUubWFyZ2luVG9wID0gJzZweCc7XG4gICAgYWx0VGV4dFdhbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWFnZVBsdXMuaW1hZ2VQcmV2aWV3LmVsLmRvbTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gaW1nRWxlbWVudC53aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZ0VsZW1lbnQuaGVpZ2h0O1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nRWxlbWVudCwgMCwgMCk7XG5cbiAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuXG4gICAgICAgIGNvbnN0IGRvbmUgPSBjcmVhdGVMb2FkaW5nT3ZlcmxheShpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLmVsLmRvbSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLm1nci5wcm9tcHQudmlzaW9uKHtcbiAgICAgICAgICAgICAgICBpbWFnZTogYmFzZTY0RGF0YSxcbiAgICAgICAgICAgICAgICBmaWVsZDogZmllbGROYW1lXG4gICAgICAgICAgICB9LCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuaXRlbXMuaXRlbXNbMF0uc2V0VmFsdWUoZGF0YS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLmVsLmRvbS5zY3JvbGxUb3AgPSBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLmVsLmRvbS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaW1hZ2VQbHVzLmltYWdlLmFsdFRhZyA9IGRhdGEuY29udGVudDtcbiAgICAgICAgICAgICAgICBpbWFnZVBsdXMudXBkYXRlVmFsdWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5pdGVtcy5pdGVtc1swXS5zZXRWYWx1ZShyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICBpbWFnZVBsdXMuaW1hZ2UuYWx0VGFnID0gcmVzdWx0LmNvbnRlbnQ7XG4gICAgICAgICAgICBpbWFnZVBsdXMudXBkYXRlVmFsdWUoKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEV4dFxuICAgICAgICAgICAgRXh0Lk1zZy5hbGVydChcIkZhaWxlZFwiLCBfKCdtb2RhaS5jbXAuZmFpbGVkX3RyeV9hZ2FpbicsIHtcIm1zZ1wiOiBlcnIubWVzc2FnZX0pKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLmVsLmRvbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcblxuICAgIGltYWdlUGx1cy5lbC5kb20ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwnKS5hcHBlbmRDaGlsZChpbWFnZVdhbmQpO1xuICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLmFwcGVuZENoaWxkKGFsdFRleHRXYW5kKTtcbn07XG5cbmNvbnN0IGF0dGFjaENvbnRlbnQgPSAoKSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBFeHRcbiAgICBjb25zdCBjbXAgPSBFeHQuZ2V0Q21wKCdtb2R4LXJlc291cmNlLWNvbnRlbnQnKTtcbiAgICBjb25zdCBsYWJlbCA9IGNtcC5lbC5kb20ucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICBsYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVGcmVlVGV4dFByb21wdCgncmVzLmNvbnRlbnQnKSk7XG59O1xuXG5jb25zdCBhdHRhY2hUVnMgPSAoKSA9PiB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBFeHRcbiAgICBjb25zdCBmb3JtID0gRXh0LmdldENtcCgnbW9keC1wYW5lbC1yZXNvdXJjZScpLmdldEZvcm0oKTtcbiAgICBmb3IgKGNvbnN0IFt0dklkLCB0dk5hbWVdIG9mIChtb2RBST8udHZzIHx8IFtdKSkge1xuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3IgRXh0XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBFeHQuZ2V0KGB0diR7dHZJZH0tdHJgKTtcbiAgICAgICAgaWYgKCF3cmFwcGVyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZm9ybS5maW5kRmllbGQoYHR2JHt0dklkfWApO1xuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBgdHYuJHt0dk5hbWV9YDtcblxuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICBjb25zdCBpbWdQbHVzUGFuZWwgPSB3cmFwcGVyLmRvbS5xdWVyeVNlbGVjdG9yKCcuaW1hZ2VwbHVzLXBhbmVsLWlucHV0Jyk7XG4gICAgICAgICAgICBpZiAoaW1nUGx1c1BhbmVsKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoSW1hZ2VQbHVzKGltZ1BsdXNQYW5lbCwgZmllbGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpZWxkLnh0eXBlID09PSAndGV4dGZpZWxkJyB8fCBmaWVsZC54dHlwZSA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBNT0R4XG4gICAgICAgICAgICBjb25zdCBwcm9tcHQgPSBNT0R4LmNvbmZpZ1tgbW9kYWkudHYuJHt0dk5hbWV9LnRleHQucHJvbXB0YF07XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gd3JhcHBlci5kb20ucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICAgICAgICAgIGlmICghbGFiZWwpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZUZvcmNlZFRleHRQcm9tcHQoZmllbGQsIGZpZWxkTmFtZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVGcmVlVGV4dFByb21wdChmaWVsZE5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWVsZC54dHlwZSA9PT0gJ21vZHgtcGFuZWwtdHYtaW1hZ2UnKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZVdhbmQgPSBjcmVhdGVJbWFnZVByb21wdChcbiAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICBmaWVsZC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgZmllbGROYW1lLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ3VybCcgaW4gcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVVcmw6IHJlcy51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXMudXJsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5pdGVtcy5pdGVtc1sxXS5maXJlRXZlbnQoJ3NlbGVjdCcsIGV2ZW50RGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmZpcmVFdmVudCgnc2VsZWN0JywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gd3JhcHBlci5kb20ucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICAgICAgICAgIGlmICghbGFiZWwpIHJldHVybjtcblxuICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW1hZ2VXYW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5jb25zdCBhdHRhY2hSZXNvdXJjZUZpZWxkcyA9ICgpID0+IHtcbiAgICBjb25zdCBmaWVsZHNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcbiAgICAgICAgcGFnZXRpdGxlOiBbJ21vZHgtcmVzb3VyY2UtcGFnZXRpdGxlJ10sXG4gICAgICAgIGxvbmd0aXRsZTogWydtb2R4LXJlc291cmNlLWxvbmd0aXRsZScsICdzZW9zdWl0ZS1sb25ndGl0bGUnXSxcbiAgICAgICAgaW50cm90ZXh0OiBbJ21vZHgtcmVzb3VyY2UtaW50cm90ZXh0J10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBbJ21vZHgtcmVzb3VyY2UtZGVzY3JpcHRpb24nLCAnc2Vvc3VpdGUtZGVzY3JpcHRpb24nXSxcbiAgICAgICAgY29udGVudDogWydtb2R4LXJlc291cmNlLWNvbnRlbnQnXSxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBtb2RBST8ucmVzb3VyY2VGaWVsZHMgfHwgW10pIHtcbiAgICAgICAgaWYgKCFmaWVsZHNNYXBbZmllbGRdKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICBhdHRhY2hDb250ZW50KCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpZWxkc01hcFtmaWVsZF0uZm9yRWFjaCgoY21wSWQpID0+IHtcbiAgICAgICAgICAgIGF0dGFjaEZpZWxkKGNtcElkLCBgcmVzLiR7ZmllbGR9YCk7XG4gICAgICAgIH0pXG5cbiAgICB9XG59XG5cblxuKCgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgRXh0Lm9uUmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgRXh0LmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXR0YWNoUmVzb3VyY2VGaWVsZHMoKTtcbiAgICAgICAgICAgIGF0dGFjaFRWcygpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH0pO1xufSkoKTtcbiIsImltcG9ydCAnLi9yZXNvdXJjZSc7XG5cbmV4cG9ydCBjb25zdCB3aW5kb3cgPSB7fTtcblxuZXhwb3J0IHsgY2hhdEhpc3RvcnkgfSBmcm9tICcuL2NoYXRIaXN0b3J5J1xuZXhwb3J0IHsgaGlzdG9yeSB9IGZyb20gJy4vaGlzdG9yeSdcbmV4cG9ydCB7IGV4ZWN1dG9yIH0gZnJvbSAnLi9leGVjdXRvcidcbmV4cG9ydCB7IHVpIH0gZnJvbSAnLi91aSdcblxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInNlcnZpY2VzIiwiYnVmZmVyZWQiLCJjaGF0Z3B0IiwiY29udGVudCIsImRhdGEiLCJjaG9pY2VzIiwibWVzc2FnZSIsIkVycm9yIiwiXyIsImlkIiwiaW1hZ2UiLCJ1cmwiLCJjbGF1ZGUiLCJ0ZXh0IiwiZ2VtaW5pIiwiY2FuZGlkYXRlcyIsInBhcnRzIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImJhc2U2NCIsInByZWRpY3Rpb25zIiwiYnl0ZXNCYXNlNjRFbmNvZGVkIiwic3RyZWFtIiwibmV3RGF0YSIsImN1cnJlbnREYXRhIiwiY3VycmVudENvbnRlbnQiLCJkZWx0YSIsImVycm9ySGFuZGxlciIsImFzeW5jIiwicmVzIiwib2siLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaGFuZGxlU3RyZWFtIiwic2VydmljZSIsInBhcnNlciIsIm9uQ2h1bmtTdHJlYW0iLCJzaWduYWwiLCJib2R5IiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYnVmZmVyIiwiYWJvcnRlZCIsImRvbmUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJqc29uTGluZXMiLCJ0cmltIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwicmVwbGFjZSIsImZpbHRlciIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJuZXdsaW5lSW5kZXgiLCJsYXN0TmV3bGluZUluZGV4IiwiaW5kZXhPZiIsInNsaWNlIiwic3RhcnRzV2l0aCIsInR5cGUiLCJhaUZldGNoIiwiYWN0aW9uIiwicGFyYW1zIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsImZldGNoIiwibW9kQUkiLCJhcGlVUkwiLCJtZXRob2QiLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiZGV0YWlsIiwicGFyc2VJbnQiLCJkZXRhaWxzIiwiZm9yRXhlY3V0b3IiLCJleGVjdXRvckRldGFpbHMiLCJjYWxsU3RyZWFtU2VydmljZSIsImNhbGxTZXJ2aWNlIiwic2VydmljZUV4ZWN1dG9yIiwiYWJvcnQiLCJleGVjdXRvciIsIm1nciIsImRvd25sb2FkIiwibW9keEZldGNoIiwicHJvbXB0IiwiZnJlZVRleHQiLCJ2aXNpb24iLCJ1bmRlZmluZWQiLCJfY2FjaGUiLCJfZm9ybWF0T3V0cHV0IiwiY2FjaGVkSXRlbSIsInByZXZTdGF0dXMiLCJ2aXNpYmxlIiwibmV4dFN0YXR1cyIsInZhbHVlcyIsImxlbmd0aCIsImN1cnJlbnQiLCJ0b3RhbCIsImNvbnRleHQiLCJpbnNlcnQiLCJub1N0b3JlIiwicHVzaCIsIm91dHB1dCIsInRoaXMiLCJzeW5jVUkiLCJuZXh0IiwicHJldiIsImluaXQiLCJpbml0VmFsdWUiLCJnZXREYXRhIiwiZ2V0QWxsIiwiYXBwbHlTdHlsZXMiLCJlbGVtZW50Iiwic3R5bGVPYmoiLCJhc3NpZ24iLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImRvY3VtZW50IiwibmxUb0JyIiwidGVzdCIsIl9uYW1lc3BhY2UiLCJST0xFUyIsImFkZE1lc3NhZ2UiLCJyb2xlIiwiaGlkZGVuIiwibmFtZXNwYWNlIiwibXNnT2JqZWN0IiwiZWwiLCJvbkFkZE1lc3NhZ2UiLCJpbmRleCIsImhpc3RvcnkiLCJpZFJlZiIsImNoYXRIaXN0b3J5Iiwib25VcGRhdGVNZXNzYWdlIiwiYWRkVXNlck1lc3NhZ2UiLCJhZGRBc3Npc3RhbnRNZXNzYWdlIiwidXBkYXRlQXNzaXN0YW50TWVzc2FnZSIsInVwZGF0ZU1lc3NhZ2UiLCJnZXRBc3Npc3RhbnRNZXNzYWdlIiwiZ2V0TWVzc2FnZSIsImdldE1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXNIaXN0b3J5IiwibSIsInN0eWxlcyIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiZGlzcGxheSIsInpJbmRleCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsInRyYW5zZm9ybSIsInRyYW5zaXRpb24iLCJjb2xvciIsInBhZGRpbmciLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJnYXAiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiZmxleCIsIm92ZXJmbG93WSIsImJveFNpemluZyIsIm1hcmdpbkJvdHRvbSIsIndvcmRXcmFwIiwibWFyZ2luTGVmdCIsImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIiwibWF4V2lkdGgiLCJib3JkZXJUb3AiLCJvdXRsaW5lIiwicmVzaXplIiwibWluV2lkdGgiLCJvcGFjaXR5IiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwibWFyZ2luUmlnaHQiLCJiYWNrZHJvcEZpbHRlciIsInBvaW50ZXJFdmVudHMiLCJjcmVhdGVMb2FkaW5nT3ZlcmxheSIsIm9wdGlvbnMiLCJjb25maWciLCJpbmRpY2F0b3JUeXBlIiwib3ZlcmxheUNvbG9yIiwiaW5kaWNhdG9yQ29sb3IiLCJvdmVybGF5IiwiaW5kaWNhdG9yIiwidGV4dGFyZWFTdHlsZXMiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwidGV4dGFyZWFSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3R5bGVUZXh0IiwiYW5pbWF0aW9uIiwiaSIsImRvdCIsIm1hcmdpbiIsImFuaW1hdGlvbkRlbGF5IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVNoZWV0IiwiaGVhZCIsInBhcmVudFN0eWxlcyIsInBhcmVudEVsZW1lbnQiLCJ3cmFwcGVyIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInVwZGF0ZWRSZWN0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlIiwidWkiLCJmcmVlUHJvbXB0IiwiYWxlcnQiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRyYWciLCJlbmREcmFnIiwibW9kYWwiLCJtb2RhbE92ZXJsYXkiLCJpbml0RHJhZyIsImUiLCJpc0RyYWdnaW5nIiwicmVjdCIsIm9mZnNldFgiLCJjbGllbnRYIiwib2Zmc2V0WSIsImNsaWVudFkiLCJ1c2VyU2VsZWN0IiwibmV3WCIsIm5ld1kiLCJzdG9wR2VuZXJhdGlvbiIsImlzTG9hZGluZyIsImFib3J0Q29udHJvbGxlciIsInNldExvYWRpbmdTdGF0ZSIsInRyeUFnYWluIiwic2VuZE1lc3NhZ2UiLCJjaGF0TWVzc2FnZXMiLCJtZXNzYWdlRGl2IiwiaW5uZXJIVE1MIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiYWRkRXJyb3JNZXNzYWdlIiwiZXJyb3JJY29uIiwidGV4dFNwYW4iLCJwcm92aWRlZElkIiwibWVzc2FnZUlkIiwiZGF0YXNldCIsImNvbnRlbnREaXYiLCJpZnJhbWUiLCJwcm92aWRlZENvbnRlbnQiLCJjdXN0b21DU1MiLCJzcmNkb2MiLCJjc3MiLCJqb2luIiwic3luY0hlaWdodCIsImNvbnRlbnRXaW5kb3ciLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwib2Zmc2V0SGVpZ2h0IiwiYm90dG9tIiwib2Zmc2V0VG9wIiwibWF4Iiwib25sb2FkIiwiY3JlYXRlQ29udGVudElmcmFtZSIsImFjdGlvbnNEaXYiLCJjb3B5QnRuIiwiY29weUljb24iLCJhcHBlbmQiLCJjcmVhdGVUZXh0Tm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb3B5VG9DbGlwYm9hcmQiLCJpbnNlcnRDYiIsImFjdGlvbnMiLCJpbnNlcnRCdG4iLCJpbnNlcnRJY29uIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsImNhdGNoIiwidGV4dGFyZWEiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsInJlbW92ZUNoaWxkIiwiZXJyIiwib3JpZ2luYWxDb250ZW50Iiwic2V0VGltZW91dCIsImxvYWRpbmciLCJsb2FkaW5nSW5kaWNhdG9yIiwibWVzc2FnZUlucHV0IiwiZGlzYWJsZWQiLCJzZW5kQnRuIiwic3RvcEJ0biIsImhhc01lc3NhZ2VzIiwidHJ5QWdhaW5CdG4iLCJwcm92aWRlZE1lc3NhZ2UiLCJoaWRlUHJvbXB0IiwibWVzc2FnZXMiLCJmaWVsZCIsIm5hbWUiLCJtc2ciLCJmaXJzdENoaWxkIiwiaWZyYW1lRG9jdW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJjaGF0TW9kYWwiLCJjaGF0SGVhZGVyIiwiY2hhdFRpdGxlIiwiY2hhdENvbnRyb2xzIiwiY2xvc2VCdG4iLCJjaGF0SW5wdXRBcmVhIiwiaW5wdXRSb3ciLCJpbnB1dFdyYXBwZXIiLCJwbGFjZWhvbGRlciIsImJ1dHRvbnNDb2x1bW4iLCJzZW5kSWNvbiIsInNlbmRUZXh0IiwiYWN0aW9uQnV0dG9uc1JvdyIsInN0b3BJY29uIiwidGl0bGUiLCJyZWZyZXNoSWNvbiIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJidWlsZE1vZGFsIiwiYXBpIiwidmlzaWJpbGl0eSIsImZvckVhY2giLCJvcGVuTW9kYWwiLCJjcmVhdGVNb2RhbCIsImhpc3RvcnlOYXZTeW5jIiwiZWxzIiwicHJldlZhbHVlIiwiZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsImZpcmVFdmVudCIsImRvbSIsImhpc3RvcnlOYXYiLCJzaG93IiwiaW5mbyIsInVwZGF0ZSIsInByZXZCdXR0b24iLCJlbmFibGUiLCJkaXNhYmxlIiwibmV4dEJ1dHRvbiIsImNyZWF0ZVdhbmRFbCIsIndhbmRFbCIsImNsYXNzTmFtZSIsImlubmVyVGV4dCIsImNyZWF0ZUhpc3RvcnlOYXYiLCJjYWNoZSIsInNob3dpbmciLCJoaWRlIiwiY3JlYXRlRnJlZVRleHRQcm9tcHQiLCJmaWVsZE5hbWUiLCJjcmVhdGVGb3JjZWRUZXh0UHJvbXB0IiwiYWlXcmFwcGVyIiwicmVzdWx0IiwiTU9EeCIsInJlcXVlc3QiLCJFeHQiLCJNc2ciLCJjcmVhdGVJbWFnZVByb21wdCIsImRlZmF1bHRQcm9tcHQiLCJtZWRpYVNvdXJjZSIsIm9uU3VjY2VzcyIsImltYWdlV2FuZCIsImxvYWQiLCJ4dHlwZSIsImNhY2hlS2V5IiwicmVjb3JkIiwicmVzb3VyY2UiLCJsaXN0ZW5lcnMiLCJzdWNjZXNzIiwiZm4iLCJzY29wZSIsImF0dGFjaEZpZWxkIiwiY21wIiwiZ2V0Q21wIiwibGFiZWwiLCJhdHRhY2hJbWFnZVBsdXMiLCJpbWdQbHVzUGFuZWwiLCJpbWFnZVBsdXMiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImltYWdlQnJvd3NlciIsInNvdXJjZSIsIm9uSW1hZ2VDaGFuZ2UiLCJhbHRUZXh0V2FuZCIsIm1hcmdpblRvcCIsImltZ0VsZW1lbnQiLCJpbWFnZVByZXZpZXciLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiYmFzZTY0RGF0YSIsInRvRGF0YVVSTCIsImFsdFRleHRGaWVsZCIsIml0ZW1zIiwiYWx0VGFnIiwidXBkYXRlVmFsdWUiLCJqdXN0aWZ5SXRlbXMiLCJxdWVyeVNlbGVjdG9yIiwib25SZWFkeSIsImRlZmVyIiwiZmllbGRzTWFwIiwicGFnZXRpdGxlIiwibG9uZ3RpdGxlIiwiaW50cm90ZXh0IiwiZGVzY3JpcHRpb24iLCJyZXNvdXJjZUZpZWxkcyIsImNtcElkIiwiYXR0YWNoUmVzb3VyY2VGaWVsZHMiLCJmb3JtIiwiZ2V0Rm9ybSIsInR2SWQiLCJ0dk5hbWUiLCJ0dnMiLCJmaW5kRmllbGQiLCJldmVudERhdGEiLCJyZWxhdGl2ZVVybCIsImF0dGFjaFRWcyJdLCJzb3VyY2VSb290IjoiIn0=
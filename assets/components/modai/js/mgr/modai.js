!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.modAI=t():e.modAI=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{chatHistory:()=>xe,executor:()=>r,history:()=>d,ui:()=>ke,window:()=>ze});const n={buffered:{chatgpt:{content:e=>{const t=e?.choices?.[0]?.message?.content;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}},image:e=>{let t=e?.data?.[0]?.url;if(!t){if(t=e?.data?.[0]?.b64_json,!t)throw new Error(_("modai.cmp.failed_request"));t=`data:image/png;base64,${t}`}return{id:`chatgpt-${Date.now()}-${Math.round(1e3*Math.random())}`,url:t}}},claude:{content:e=>{const t=e?.content?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:e.id,content:t}}},gemini:{content:e=>{const t=e?.candidates?.[0]?.content?.parts?.[0]?.text;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:`gemini-${Date.now()}-${Math.round(1e3*Math.random())}`,content:t}},image:e=>{const t=e?.predictions?.[0]?.bytesBase64Encoded;if(!t)throw new Error(_("modai.cmp.failed_request"));return{id:`gemini-${Date.now()}-${Math.round(1e3*Math.random())}`,url:`data:image/png;base64,${t}`}}}},stream:{chatgpt:{content:(e,t)=>{const n=t?.content??"",o=e.choices?.[0]?.delta?.content||"";return{...t,id:e.id,content:`${n}${o}`}}},claude:{content:(e,t)=>{const n=t?.content??"",o=e.delta?.text||"";return{...t,content:`${n}${o}`}}},gemini:{content:(e,t)=>{const n=t?.content??"",o=e.candidates?.[0]?.content?.parts?.[0]?.text||"";return{...t,content:`${n}${o}`}}}}},o=async e=>{if(!e.ok){const t=await e.json();if(t?.error)throw new Error(t.error.message);throw new Error(`${e.status} ${e.statusText}`)}},a=async(e,t,o,a,i)=>{if(!e.body)throw new Error("failed");const r=e.body.getReader(),s=new TextDecoder("utf-8");let d="",l={id:`${t}-${Date.now()}-${Math.round(1e3*Math.random())}`,content:""};for(;!i||!i.aborted;){const{done:e,value:i}=await r.read();if(e)break;const c=s.decode(i,{stream:!0});if("gemini"===t){const e=c.trim().split(",\r\n").map((e=>e.replace(/^\[|]$/g,""))).filter((e=>""!==e.trim()));for(const i of e)try{const e=JSON.parse(i);l=n.stream[t][o](e,l),a&&a(l)}catch{}}if("chatgpt"===t){d+=c;let e,i=0;for(;-1!==(e=d.indexOf("\n",i));){const r=d.slice(i,e).trim();if(i=e+1,r.startsWith("data: ")){const e=r.slice(6);if("[DONE]"===e)continue;try{const i=JSON.parse(e);l=n.stream[t][o](i,l),a&&a(l)}catch{}}}d=d.slice(i)}if("claude"===t){d+=c;let e,i=0;for(;-1!==(e=d.indexOf("\n",i));){const r=d.slice(i,e).trim();if(i=e+1,r.startsWith("data: ")){const e=r.slice(6);try{const i=JSON.parse(e);if("message_start"===i.type){l.id=i.message.id;continue}if("content_block_delta"!==i.type)continue;l=n.stream[t][o](i,l),a&&a(l)}catch{}}}d=d.slice(i)}}return l},i=async(e,t,i,r)=>{const s=(r=r||new AbortController).signal,d=await fetch(`${modAI.apiURL}?action=${e}`,{signal:s,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!d.ok){const e=await d.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}const l=d.headers.get("x-modai-service")??"chatgpt",c=d.headers.get("x-modai-parser")??"content",p=1===parseInt(d.headers.get("x-modai-stream")??"0");if(1!==parseInt(d.headers.get("x-modai-proxy")??"0")){return(async(e,t,i)=>{if("object"!=typeof e||!e.forExecutor)return e;const r=e.forExecutor,s=(i=i||new AbortController).signal;if(!r.service||!r.parser)throw new Error(_("modai.cmp.service_required"));if(!n[r.stream?"stream":"buffered"]?.[r.service]?.[r.parser])throw new Error(_("modai.cmp.service_unsupported"));if(r.stream)return(async e=>{if("content"!==r.parser)throw new Error(_("modai.cmp.service_unsupported"));const n=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});return await o(n),a(n,r.service,r.parser,t)})(r);const d=await(async e=>{const t=await fetch(e.url,{signal:s,method:"POST",body:e.body,headers:e.headers});await o(t);const n=await t.json();if(n.error)throw new Error(n.error.message);return n})(r);return n.buffered[r.service][r.parser](d)})(await d.json(),i,r)}if(!l||!c)throw r.abort(),new Error(_("modai.cmp.service_required"));if(!n[p?"stream":"buffered"]?.[l]?.[c])throw r.abort(),new Error(_("modai.cmp.service_unsupported"));if(!p){const e=await d.json();return n.buffered[l][c](e)}if("content"!==c)throw new Error(_("modai.cmp.service_unsupported"));return await a(d,l,c,i,s)},r={mgr:{download:{image:async e=>await(async(e,t)=>{const n=await fetch(`${modAI.apiURL}?action=Download\\Image`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();if(e.error)throw new Error(e.error.message);throw new Error(e.detail)}return await n.json()})(0,e)},prompt:{freeText:async(e,t,n)=>i("Prompt\\FreeText",e,t,n),text:async(e,t,n)=>i("Prompt\\Text",e,t,n),vision:async(e,t,n)=>i("Prompt\\Vision",e,t,n),image:async(e,t)=>i("Prompt\\Image",e,void 0,t)}}},s={},d={_formatOutput(e,t){const n=s[e],o=n.visible>0,a=n.visible!==n.values.length-1;return{value:void 0!==t?t:n.values[n.visible]??null,nextStatus:a,prevStatus:o,current:n.visible+1,total:n.values.length,context:n.context}},insert(e,t,n=!1){const o=s[e];n||(o.visible=o.values.push(t)-1);const a=this._formatOutput(e,t);return"function"==typeof o.syncUI&&o.syncUI(a,n),a},next(e){const t=s[e];if(t.visible===t.values.length-1)return this._formatOutput(e);t.visible++;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},prev(e){const t=s[e];if(t.visible<=0)return this._formatOutput(e);t.visible--;const n=this._formatOutput(e);return"function"==typeof t.syncUI&&t.syncUI(n),n},init(e,t,n,o){return s[e]||(s[e]={visible:-1,values:[],context:o}),s[e].syncUI=t,n&&(s[e].values=[n],s[e].visible=0),{cachedItem:s[e],getData:()=>this._formatOutput(e),getAll:()=>s[e].values,syncUI:()=>{"function"==typeof s[e].syncUI&&s[e].syncUI(this._formatOutput(e),!1)},insert:(t,n=!1)=>this.insert(e,t,n),next:()=>this.next(e),prev:()=>this.prev(e)}}},l=(e,t)=>{if(!t.isDragging)return;const n=e.clientX-t.offsetX,o=e.clientY-t.offsetY;t.style.left=n+"px",t.style.top=o+"px",t.style.transform="none"},c=e=>{e.isDragging=!1,document.body.style.userSelect=""},p={margin:"0",padding:"0",boxSizing:"border-box",fontFamily:"Arial, sans-serif"},g=(e,t)=>{Object.assign(e.style,{...p,...t})},h=(e,t,n="")=>{const o=document.createElement(e);return t&&g(o,t),n&&(o.textContent=n),o},m=e=>/<[^>]*>/g.test(e)?e:e.replace(/\r\n|\n|\r/g,"<br>"),u=(e,t,n={},o={},a)=>{const i="string"==typeof e?e:"";"string"==typeof e||Array.isArray(e)||(e=[e]);const r=h("button",n,i);return r.type="button",Array.isArray(e)&&e.forEach((e=>{"string"==typeof e?r.append(document.createTextNode(e)):r.append(e)})),r.addEventListener("click",t),r.enable=()=>{r.disabled=!1,g(r,n)},r.disable=()=>{r.disabled=!0,g(r,{...n,...o})},a&&Object.assign(r,a),r},f={loadingText:"Loading...",completedText:"Completed!",completedTextDuration:2e3,disabled:!1},y={backgroundColor:"#edf2f7",border:"1px solid #cbd5e0",borderRadius:"4px",padding:"3px 8px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",color:"#4a5568",opacity:"1"},x={display:"inline-block",width:"14px",height:"14px",marginRight:"5px",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},b={opacity:"0.5",cursor:"not-allowed"},w={copy:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z'/%3E%3Cpath d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z'/%3E%3C/svg%3E",insert:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%234a5568' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z'/%3E%3C/svg%3E"},v=e=>{e={...f,...e};const t=u([h("span",{...x,backgroundImage:`url("${w[e.icon]}")`}),e.label],(async()=>{const n=t.innerHTML,o=e.onClick(e.message,e.modal);if(o instanceof Promise){t.innerHTML=`\n        <span style="\n            display: inline-block;\n            margin-right: 5px;\n            width: 12px;\n            height: 12px;\n            position: relative;\n            animation: spin 1s linear infinite;\n        ">\n            <span style="\n                position: absolute;\n                width: 3px;\n                height: 3px;\n                background-color: currentColor;\n                border-radius: 50%;\n                top: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n            "></span>\n            <span style="\n                position: absolute;\n                width: 3px;\n                height: 3px;\n                background-color: currentColor;\n                border-radius: 50%;\n                top: 50%;\n                right: 0;\n                transform: translate(0, -50%);\n            "></span>\n            <span style="\n                position: absolute;\n                width: 3px;\n                height: 3px;\n                background-color: currentColor;\n                border-radius: 50%;\n                bottom: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n            "></span>\n            <span style="\n                position: absolute;\n                width: 3px;\n                height: 3px;\n                background-color: currentColor;\n                border-radius: 50%;\n                top: 50%;\n                left: 0;\n                transform: translate(0, -50%);\n            "></span>\n        </span>\n        ${e.loadingText}\n    `;const n=document.createElement("style");n.textContent="\n          @keyframes spin {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n          }\n      ",document.head.appendChild(n),await o,document.head.removeChild(n)}t.innerHTML=`\n                <span style="margin-right: 5px;">✓</span>\n                ${e.completedText}\n            `,await new Promise((e=>setTimeout(e,2e3))),t.innerHTML=n}),y,b);return t.className="action-button",e.disabled&&t.disable(),t},C={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"none",zIndex:"100"},E={position:"fixed",width:"1000px",minHeight:"170px",maxHeight:"600px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",display:"none",flexDirection:"column",overflow:"hidden",zIndex:"101",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:"height 0.3s ease-in-out"},k={backgroundColor:"#00B6DE",color:"white",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move"},M={fontWeight:"bold",fontSize:"16px"},T={display:"flex",gap:"10px"},I={background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer",transition:"opacity 0.2s ease"},A={flex:"1",padding:"15px",overflowY:"auto",backgroundColor:"#f9f9f9",width:"100%",boxSizing:"border-box",display:"none"},S={marginBottom:"20px",borderRadius:"8px",position:"relative",wordWrap:"break-word",width:"100%",boxSizing:"border-box"},L={width:"100%",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.05)"},B={width:"fit-content",padding:"10px 15px",backgroundColor:"#4299e1",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px"},O={padding:"12px",width:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box"},z={display:"flex",padding:"8px 12px",gap:"8px",backgroundColor:"#f7fafc",borderTop:"1px solid #e2e8f0",borderRadius:"0 0 8px 8px"},D={display:"flex",padding:"15px",borderTop:"1px solid #e2e8f0",backgroundColor:"white",position:"relative"},$={display:"flex",width:"100%",gap:"10px"},H={flex:"1",position:"relative",minHeight:"48px",maxHeight:"150px",display:"flex"},R={width:"100%",padding:"12px 15px",border:"1px solid #e2e8f0",borderRadius:"10px",outline:"none",fontSize:"14px",resize:"none",minHeight:"48px",maxHeight:"150px",overflowY:"auto",backgroundColor:"#fff",cursor:"inherit"},j={display:"flex",flexDirection:"column",gap:"4px",width:"100px"},P={backgroundColor:"#6CB24A",color:"white",border:"none",borderRadius:"12px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold",height:"40px",minWidth:"100px",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:"1",transition:"background-color 0.2s ease"},U={display:"flex",gap:"4px",justifyContent:"space-between"},F={backgroundColor:"transparent",border:"1px solid #e2e8f0",borderRadius:"8px",width:"48px",height:"32px",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",opacity:"1"},N={backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"6px 10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",opacity:"1",justifyItems:"center"},q={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M2.01 21L23 12 2.01 3 2 10l15 2-15 2z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},W={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23DC2626'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M6 6h12v12H6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},V={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234B5563'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},Y={opacity:"0.5",cursor:"not-allowed"},J={backgroundColor:"#f3f4f6",cursor:"not-allowed"},X={display:"none",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(243, 244, 246, 0.9)",borderRadius:"10px",color:"#6B7280",fontSize:"14px",alignItems:"center",justifyContent:"center",gap:"4px",flexDirection:"row",zIndex:"10",backdropFilter:"blur(2px)",border:"1px solid #e2e8f0",pointerEvents:"none"},G={padding:"5px 15px",display:"flex",alignItems:"center",gap:"10px",borderTop:"1px solid #e2e8f0",backgroundColor:"white",justifyContent:"space-between"},K={display:"flex",alignItems:"center",gap:"10px"},Q={fontSize:"14px",color:"#4B5563",fontWeight:"500"},Z={display:"flex",gap:"4px"},ee={padding:"6px 12px",fontSize:"13px",border:"1px solid #e2e8f0",borderRadius:"6px",backgroundColor:"#fff",color:"#4B5563",cursor:"pointer",transition:"all 0.2s ease",opacity:"1"},te={backgroundColor:"#00B6DE",color:"#fff",borderColor:"#00B6DE",cursor:"default"},ne={width:"fit-content",padding:"10px 15px",backgroundColor:"#DC2626",color:"white",marginLeft:"auto",borderBottomRightRadius:"5px",display:"flex",alignItems:"center",gap:"8px"},oe={width:"16px",height:"16px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z'/%3E%3C/svg%3E\")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},ae={position:"absolute",top:"5px",left:"5px",width:"71px",height:"71px",borderRadius:"6px",overflow:"hidden",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",cursor:"pointer",transition:"transform 0.2s ease"},ie={width:"100%",height:"100%",objectFit:"cover"},re={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",cursor:"pointer",opacity:"0",transition:"opacity 0.2s ease"},se=(e,t)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const n=h("div",{...S,...ne}),o=h("span",oe);n.appendChild(o);const a=h("span");return a.textContent=t,n.appendChild(a),e.chatMessages.appendChild(n),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,n},de=(e,t,n,o)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const a=h("div",{...S,...L}),i=o||"msg-"+Date.now(),s=h("div",O),d=((e,t,n=[])=>{const o=m(e);let a=!1,i=null;const r=h("iframe",{width:"100%",border:"none",backgroundColor:"white",maxWidth:"100%",boxSizing:"border-box"}),s=()=>r.contentDocument||r.contentWindow?.document,d=e=>`\n        <html>\n        <head>\n            <style>\n            html {\n                width: 100%;\n                max-width: 100%;\n                padding: 0;\n                margin: 0;\n            }\n            body {\n                margin: 0;\n                padding: 0;\n                font-family: Arial, sans-serif;\n                overflow-x: hidden;\n                width: 100%;\n                max-width: 100%;\n                box-sizing: border-box;\n            }\n            * {\n                box-sizing: border-box;\n                max-width: 100%;\n            }\n            pre {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                overflow-wrap: break-word;\n                max-width: 100%;\n                padding: 12px;\n                margin: 0;\n                background-color: #f5f7fa;\n                border-radius: 5px;\n                font-size: 14px;\n            }\n            img {\n                max-width: 100%;\n                height: auto;\n                display: block;\n            }\n            code {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                max-width: 100%;\n                display: block;\n                overflow-x: hidden;\n                font-size: 14px;\n            }\n            table {\n                width: 100%;\n                max-width: 100%;\n                overflow-x: hidden;\n                display: block;\n                border-collapse: collapse;\n            }\n            div {\n                max-width: 100%;\n                overflow-wrap: break-word;\n                word-wrap: break-word;\n                box-sizing: border-box;\n            }\n            p {\n                margin: 0 0 0.5em 0;\n                max-width: 100%;\n            }\n            h1, h2, h3, h4, h5, h6 {\n                margin: 0 0 0.1em 0;\n                max-width: 100%;\n            }\n        </style>\n            ${n.map((e=>`<link rel="stylesheet" type="text/css" href="${e}" />`)).join("")}\n        </head>\n        <body style="padding: 0; max-width: 100%; width: 100%; box-sizing: border-box;">${e}</body>\n        </html>\n    `,l=(e,t)=>{const o=e.createElement("style");o.textContent="\n            html {\n                width: 100%;\n                max-width: 100%;\n                padding: 0;\n                margin: 0;\n            }\n            body {\n                margin: 0;\n                padding: 0;\n                font-family: Arial, sans-serif;\n                overflow-x: hidden;\n                width: 100%;\n                max-width: 100%;\n                box-sizing: border-box;\n            }\n            * {\n                box-sizing: border-box;\n                max-width: 100%;\n            }\n            pre {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                overflow-wrap: break-word;\n                max-width: 100%;\n                padding: 12px;\n                margin: 0;\n                background-color: #f5f7fa;\n                border-radius: 5px;\n                font-size: 14px;\n            }\n            img {\n                max-width: 100%;\n                height: auto;\n                display: block;\n            }\n            code {\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                max-width: 100%;\n                display: block;\n                overflow-x: hidden;\n                font-size: 14px;\n            }\n            table {\n                width: 100%;\n                max-width: 100%;\n                overflow-x: hidden;\n                display: block;\n                border-collapse: collapse;\n            }\n            div {\n                max-width: 100%;\n                overflow-wrap: break-word;\n                word-wrap: break-word;\n                box-sizing: border-box;\n            }\n            p {\n                margin: 0 0 0.5em 0;\n                max-width: 100%;\n            }\n            h1, h2, h3, h4, h5, h6 {\n                margin: 0 0 0.1em 0;\n                max-width: 100%;\n            }\n        ",e.head.appendChild(o),n.forEach((t=>{const n=e.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,e.head.appendChild(n)})),e.body.innerHTML=t,e.body.style.padding="0",e.body.style.maxWidth="100%",e.body.style.width="100%",e.body.style.boxSizing="border-box"};return r.syncContent=e=>{(e=>{if(!a)return i=e,void(r.srcdoc=d(e));const t=s();if(!t)return i=e,void(r.srcdoc=d(e));t.head.querySelector("style")?t.body.innerHTML=e:l(t,e),r.syncHeight()})(e)},r.syncHeight=()=>{const e=r.contentWindow?.document.body;if(!e)return;const n=e.getElementsByTagName("*");let o=e.offsetHeight;for(let e=0;e<n.length;e++){const t=n[e],a=t.offsetTop+t.offsetHeight;o=Math.max(o,a)}r.style.height=o+5+"px",e.style.overflow="hidden",t.chatMessages.scrollTop=t.chatMessages.scrollHeight},r.onload=()=>{if(a=!0,null!==i){const e=i;i=null;const t=s();t&&(l(t,e),r.syncHeight())}r.syncHeight()},r.srcdoc=d(o),r})(Array.isArray(t)?t[0].value:t,e,n.customCSS??[]);s.appendChild(d);const l=h("div",z),c=e.history.getMessages().find((e=>e.id===i&&"assistant"===e.role));if(c&&("text"===n.type&&(!1!==n.textActions?.copy&&l.append(v({message:c,modal:e,disabled:e.isLoading,icon:"copy",label:"Copy",completedText:"Copied!",onClick:"function"==typeof n.textActions?.copy?n.textActions.copy:ce})),"function"==typeof n.textActions?.insert&&l.append(v({message:c,modal:e,disabled:e.isLoading,icon:"insert",label:"Insert",completedText:"Inserted!",onClick:n.textActions.insert}))),"image"===n.type)){!1!==n.imageActions?.copy&&l.append(v({message:c,modal:e,disabled:e.isLoading,icon:"copy",label:"Copy",loadingText:"Downloading...",completedText:"Copied!",onClick:async(e,t)=>{const o="function"==typeof n.textActions?.copy?n.textActions.copy:ce;if(!0===e.ctx.downloaded)return void o(e,t);const a=await r.mgr.download.image({url:e.content,field:n.field,namespace:n.namespace,resource:n.resource,mediaSource:n.image?.mediaSource});e.content=a.fullUrl,e.ctx.downloaded=!0,e.ctx.url=a.url,e.ctx.fullUrl=a.fullUrl,o(e,t)}}));const t=n.imageActions?.insert;"function"==typeof t&&l.append(v({message:c,modal:e,disabled:e.isLoading,icon:"insert",label:"Insert",completedText:"Inserted!",loadingText:"Downloading...",onClick:async(e,o)=>{if(!0===e.ctx.downloaded)return void t(e,o);const a=await r.mgr.download.image({url:e.content,field:n.field,namespace:n.namespace,resource:n.resource,mediaSource:n.image?.mediaSource});e.content=a.fullUrl,e.ctx.downloaded=!0,e.ctx.url=a.url,e.ctx.fullUrl=a.fullUrl,t(e,o)}}))}return a.append(s,l),e.chatMessages.appendChild(a),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,a.update=e=>{const t=Array.isArray(e.content)?e.content[0].value:e.content,n="image"===e.type?`<img src="${t}" />`:m(t);d.syncContent(n),d.syncHeight()},a},le=(e,t,n)=>{if(!e.hidden)return"user"===e.role?((e,t)=>{"none"===e.chatMessages.style.display&&(e.chatMessages.style.display="block");const n=h("div",{...S,...B});let o,a=null;if(Array.isArray(t)){const[e,...n]=t;o=e.value,a=n}else o=t;const i=h("div",{display:"flex",flexDirection:"column",gap:"8px"}),r=h("div");if(r.innerHTML=m(o),i.appendChild(r),a){const e=h("div",{display:"flex",flexDirection:"row",gap:"8px",flexWrap:"wrap"});for(const t of a){const n=h("div",{width:"100px",height:"100px",borderRadius:"4px",overflow:"hidden",marginTop:"4px"}),o=h("img",{width:"100%",height:"100%",objectFit:"cover"});o.src=t.value,n.appendChild(o),e.appendChild(n)}i.appendChild(e)}return n.appendChild(i),n.update=e=>{const t=Array.isArray(e.content)?e.content[0].value:e.content;r.innerHTML=m(t)},e.chatMessages.appendChild(n),e.chatMessages.scrollTop=e.chatMessages.scrollHeight,n})(t,e.content):"image"===e.type?de(t,`<img src="${e.content}" />`,n,e.id):de(t,e.content,n,e.id)},ce=async(e,t)=>{const n=Array.isArray(e.content)?e.content[0].value:e.content;if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(n)}catch{se(t,_("modai.cmp.failed_copy"))}else try{const e=h("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}catch{se(t,_("modai.cmp.failed_copy"))}},pe={modalOpen:!1},ge=(e,t,n)=>{e.isLoading=t,e.loadingIndicator.style.display=t?"flex":"none",e.messageInput.disabled=t,g(e.messageInput,t?{...R,...J}:R),t?(e.clearChatBtn.disable(),e.sendBtn.disable(),e.stopBtn.enable()):(e.clearChatBtn.enable(),e.sendBtn.enable(),e.stopBtn.disable());const o=e.history.getMessages().length>0;t||!o?e.tryAgainBtn.disable():e.tryAgainBtn.enable(),Object.values(e.typeButtons).forEach((e=>{e.disabled=t;const o=e.textContent?.toLowerCase()===n.type;g(e,t?{...ee,...o?te:{},...Y}:{...ee,...o?te:{}})})),e.chatMessages.querySelectorAll(".action-button").forEach((e=>{t?e.disable?.():e?.enable?.()}))},he=e=>{e.imagePreview&&(e.imagePreview.remove(),e.imagePreview=void 0),e.uploadedImage=void 0,e.messageInput.style.paddingLeft="15px"},me=async(e,t,n=!1)=>{if(!n&&t instanceof File&&!t.type.startsWith("image/"))return void se(e,"Only image files are allowed");e.uploadedImage&&he(e);const o=h("div",ae),a=h("img",ie),i=h("div",re,"×");if(n)a.src=t,e.uploadedImage=a.src;else{const n=await new Promise(((e,n)=>{const o=new FileReader;o.onload=function(t){e(t.target?.result)},o.onerror=function(e){n(e)},o.readAsDataURL(t)}));a.src=n,e.uploadedImage=n}i.addEventListener("click",(t=>{t.stopPropagation(),he(e)})),o.addEventListener("mouseenter",(()=>{o.style.transform="scale(1.05)",i.style.opacity="1"})),o.addEventListener("mouseleave",(()=>{o.style.transform="",i.style.opacity="0"})),o.append(a,i),e.imagePreview=o,e.messageInput.style.paddingLeft="85px",e.inputWrapper.append(o)},ue={},fe="assistant",ye=(e,t,n,o,a=!1,i="text")=>{const r=ue[e];if(!r)return;const s={content:t,role:n,id:o,hidden:a,type:i,ctx:{}},d=r.history.push(s)-1;o&&(r.idRef[o]=r.history[d]),s.el=r.onAddMessage(s)},xe={init:(e,t)=>(ue[e]||(ue[e]={history:[],idRef:{},onAddMessage:t}),ue[e].onAddMessage=t,{addUserMessage:(t,n,o,a="text")=>{ye(e,t,"user",n,o,a)},addAssistantMessage:(t,n,o="text")=>{ye(e,t,fe,n,!1,o)},updateAssistantMessage:(t,n,o="text")=>{((e,t,n,o="text")=>{const a=ue[e];if(!a)return;if(!a.idRef[t])return void ye(e,n,fe,t,!1,o);const i=a.idRef[t];i.content=n,i.el&&i.el.update&&i.el.update(i)})(e,t,n,o)},getAssistantMessage:t=>((e,t)=>{const n=ue[e];if(n)return n.idRef[t]})(e,t),getMessages:()=>ue[e].history,getMessagesHistory:()=>ue[e].history.map((e=>({role:e.role,content:e.content}))),clearHistory:()=>{ue[e].history=[]}})},be=e=>{document.removeEventListener("mousemove",(t=>l(t,e))),document.removeEventListener("mouseup",(()=>c(e))),e.modalOverlay&&e.modalOverlay.remove(),e&&e.remove(),pe.modalOpen=!1},we=async(e,t,n,o)=>{const a=n?n.trim():e.messageInput.value.trim();if(!a||e.isLoading)return;ge(e,!0,t),e.messageInput.value="",e.abortController=new AbortController;let i=a;e.uploadedImage&&"text"===t.type&&(i=[{type:"text",value:a},{type:"image",value:e.uploadedImage}]),he(e);const s=e.history.getMessagesHistory(),d="user-msg-"+Date.now()+Math.round(1e3*Math.random());e.history.addUserMessage(i,d,o);try{if("text"===t.type){const n=await r.mgr.prompt.freeText({namespace:t.namespace,context:t.context,prompt:i,field:t.field||"",messages:s},(t=>{e.history.updateAssistantMessage(t.id,t.content)}),e.abortController);e.history.updateAssistantMessage(n.id,n.content)}if("image"===t.type){const t=await r.mgr.prompt.image({prompt:i},e.abortController);e.history.addAssistantMessage(t.url,t.id,"image")}e.abortController=void 0}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;return void se(e,t.message)}se(e,"Unknown error")}ge(e,!1,t)},ve=["text","image"],Ce=e=>{if(pe.modalOpen)return;if(!e.key)return void alert("key is required config property");void 0===e.overlay&&(e.overlay=!0),e.type||(e.type="text"),e.availableTypes||(e.availableTypes=[e.type]),e.availableTypes=e.availableTypes.filter((e=>ve.includes(e))),e.availableTypes.length>0&&!e.availableTypes.includes(e.type)&&e.availableTypes.unshift(e.type);const t=(e=>{const t=h("div",C),n=h("div",E);n.history=xe.init(`${e.key}/${e.type}`,(t=>le(t,n,e)));const o=h("div",k),a=h("div",M,"modAI Assistant"),i=h("div",T),r=u("✕",(()=>be(n)),I);i.append(r),o.append(a,i);const s=h("div",A),d=h("div",D),p=h("div",$),m=h("div",H),f=h("textarea",R);f.placeholder="Type your message...",f.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation(),f.style.borderColor="#00B6DE"})),f.addEventListener("dragleave",(e=>{e.preventDefault(),e.stopPropagation(),f.style.borderColor="#e2e8f0"})),f.addEventListener("drop",(async e=>{e.preventDefault(),e.stopPropagation(),f.style.borderColor="#e2e8f0";let t=null,o=null;const a=e.dataTransfer;if(!a)return;const i=a.files;if(i?.length>0){const e=i[0];e.type.startsWith("image/")&&(t=e)}if(!t){const e=a.getData("text/uri-list");e&&(o=e)}if(t)await me(n,t);else if(o){const e=new URL(window.location.href);if(!o.startsWith(e.origin))return void await me(n,o,!0);try{const e=await fetch(o);if(e.ok){const t=await e.blob();if(t.type.startsWith("image/")){const e=new File([t],"image.png",{type:t.type});await me(n,e)}}}catch{se(n,"Failed to fetch an image")}}else se(n,"Only image files are allowed")})),f.addEventListener("paste",(async e=>{const t=e.clipboardData?.items;if(t)for(let o=0;o<t.length;o++)if(-1!==t[o].type.indexOf("image")){const a=t[o].getAsFile();if(a){e.preventDefault(),await me(n,a);break}}})),r.addEventListener("click",(()=>{be(n)}));const y=h("div",j),x=u([h("span",q),"Send"],(()=>we(n,e)),P,Y),b=h("div",U),w=u(h("span",W),(()=>((e,t)=>{e.isLoading&&e.abortController&&(e.abortController.abort(),e.abortController=void 0,ge(e,!1,t))})(n,e)),F,Y,{title:"Stop Generation"});w.disable();const v=u(h("span",V),(()=>((e,t)=>{if(0!==e.history.getMessages().length)if("text"!==t.type){if("image"===t.type){const n=e.history.getMessages().reverse().find((e=>"user"===e.role));n&&we(e,t,n.content)}}else we(e,t,"Try again")})(n,e)),F,Y,{title:"Try Again"});b.append(w,v),y.append(x,b),m.append(f),p.append(m,y);const S=h("div",X);S.innerHTML='\n    <style>\n        @keyframes loadingDotPulse {\n            0%, 80%, 100% { transform: scale(0.6); opacity: 0.3; }\n            40% { transform: scale(1); opacity: 1; }\n        }\n        .loading-dots {\n            display: flex;\n            gap: 4px;\n            padding: 8px 16px;\n            background-color: rgba(255, 255, 255, 0.8);\n            border-radius: 16px;\n        }\n        .loading-dot {\n            width: 8px;\n            height: 8px;\n            background-color: #6B7280;\n            border-radius: 50%;\n            display: inline-block;\n            animation: loadingDotPulse 1.4s infinite ease-in-out both;\n        }\n        .loading-dot:nth-child(1) { animation-delay: -0.32s; }\n        .loading-dot:nth-child(2) { animation-delay: -0.16s; }\n        .loading-dot:nth-child(3) { animation-delay: 0s; }\n    </style>\n    <div class="loading-dots">\n        <div class="loading-dot"></div>\n        <div class="loading-dot"></div>\n        <div class="loading-dot"></div>\n    </div>\n',m.append(S);const L=h("div",G),B=h("div",K),O=h("div",Q,"Generate:"),_=h("div",Z),z={};(e.availableTypes??[]).forEach((t=>{const o=h("button",ee,t.charAt(0).toUpperCase()+t.slice(1));t===e.type&&(g(o,{...ee,...te}),o.disabled=!0),o.addEventListener("click",(()=>{t!==e.type&&(Object.values(z).forEach((e=>{g(e,ee),e.disabled=!1})),g(o,{...ee,...te}),o.disabled=!0,((e,t,n)=>{for(n.type=e,t.history=xe.init(`${n.key}/${n.type}`,(e=>le(e,t,n)));t.chatMessages.firstChild;)t.chatMessages.removeChild(t.chatMessages.firstChild);t.chatMessages.style.display="none";const o=t.history.getMessages().filter((e=>!e.hidden));o.length>0?(t.chatMessages.style.display="block",o.forEach((e=>{le(e,t,n)})),t.tryAgainBtn.enable(),t.clearChatBtn.enable()):(t.tryAgainBtn.disable(),t.clearChatBtn.disable())})(t,n,e))})),z[t]=o,_.appendChild(o)})),B.append(O,_),d.append(p),n.append(o,s,d),L.append(B);const J=u("Clear Chat",(()=>(e=>{for(;e.chatMessages.firstChild;)e.chatMessages.removeChild(e.chatMessages.firstChild);e.chatMessages.style.display="none",e.history.clearHistory(),e.tryAgainBtn.disable(),e.clearChatBtn.disable()})(n)),N,Y);return L.append(J),n.append(L),e.overlay&&document.body.append(t),document.body.append(n),0===n.history.getMessages().length&&(J.disable(),v.disable()),f.addEventListener("keydown",(t=>{if("Enter"===t.key){if(t.shiftKey)return;t.preventDefault(),we(n,e)}})),o.addEventListener("mousedown",(e=>((e,t)=>{t.isDragging=!0;const n=t.getBoundingClientRect();t.offsetX=e.clientX-n.left,t.offsetY=e.clientY-n.top,document.body.style.userSelect="none"})(e,n))),document.addEventListener("mousemove",(e=>l(e,n))),document.addEventListener("mouseup",(()=>c(n))),n.modalOverlay=t,n.chatHeader=o,n.closeBtn=r,n.chatMessages=s,n.messageInput=f,n.sendBtn=x,n.tryAgainBtn=v,n.stopBtn=w,n.clearChatBtn=J,n.loadingIndicator=S,n.typeSelector=B,n.typeButtons=z,n.inputWrapper=m,n.isDragging=!1,n.isLoading=!1,n.abortController=void 0,n.offsetX=0,n.offsetY=0,n})(e);return t.api={sendMessage:async(n,o)=>{await we(t,e,n,o)},closeModal:()=>{be(t)}},((e,t)=>{e.chatMessages.innerHTML="",e.chatMessages.style.display="none",e.style.visibility="hidden",e.style.display="flex",e.modalOverlay.style.display="block";const n=e.history.getMessages().filter((e=>!e.hidden));n.length>0&&(e.chatMessages.style.display="block",n.forEach((n=>{le(n,e,t)}))),setTimeout((()=>{e.chatMessages.scrollTop=e.chatMessages.scrollHeight,e.style.visibility="visible"}),100)})(t,e),pe.modalOpen=!0,t},Ee=(e,t={})=>{const n={indicatorType:t.indicatorType||"spinner",overlayColor:t.overlayColor||"rgba(255, 255, 255, 0.7)",indicatorColor:t.indicatorColor||"#3498db"},o=document.createElement("div"),a=document.createElement("div"),i=window.getComputedStyle(e),r=e.getBoundingClientRect();t.indicatorColor||(n.indicatorType=r.height<=50?"dots":"spinner"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor=n.overlayColor,o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.zIndex="10000",o.style.borderRadius=i.borderRadius;let s="";if("spinner"===n.indicatorType)a.style.border="4px solid #f3f3f3",a.style.borderTop=`4px solid ${n.indicatorColor}`,a.style.borderRadius="50%",a.style.width="30px",a.style.height="30px",a.style.animation="textareaOverlaySpin 1s linear infinite",s="\n      @keyframes textareaOverlaySpin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    ";else if("dots"===n.indicatorType){a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.height="20px";for(let e=0;e<3;e++){const t=document.createElement("div");t.style.width="8px",t.style.height="8px",t.style.borderRadius="50%",t.style.backgroundColor=n.indicatorColor,t.style.margin="0 4px",t.style.animation="textareaOverlayDotPulse 1.4s infinite ease-in-out",t.style.animationDelay=.2*e+"s",a.appendChild(t)}s="\n      @keyframes textareaOverlayDotPulse {\n        0%, 80%, 100% { transform: scale(0); opacity: 0.5; }\n        40% { transform: scale(1); opacity: 1; }\n      }\n    "}const d=document.createElement("style");d.textContent=s,document.head.appendChild(d),o.appendChild(a);const l=window.getComputedStyle(e.parentElement);let c;-1===["relative","absolute","fixed"].indexOf(l.position)?(c=document.createElement("div"),c.style.position="relative",c.style.width=`${r.width}px`,c.style.height=`${r.height}px`,c.style.display="inline-block",e.parentNode?.insertBefore(c,e),c.appendChild(e)):c=e.parentElement,o.style.display="none",c.appendChild(o);const p=e.getBoundingClientRect();return c!==e.parentElement&&(c.style.width=`${p.width}px`,c.style.height=`${p.height}px`),o.style.display="flex",e.setAttribute("disabled","disabled"),()=>{o.style.display="none",e.removeAttribute("disabled"),o.remove(),d.remove(),c!==e.parentElement&&(c.parentNode?.insertBefore(e,c),c.remove())}},ke={createLoadingOverlay:Ee,localChat:e=>Ce(e)},Me=(e,t)=>{e.context.els.forEach((({wrapper:n,field:o})=>{const a=o.getValue();o.setValue(e.value),o.fireEvent("change",o,e.value,a),t&&(o.el.dom.scrollTop=o.el.dom.scrollHeight),e.total>0&&n.historyNav.show(),n.historyNav.info.update(e.current,e.total),e.prevStatus?n.historyNav.prevButton.enable():n.historyNav.prevButton.disable(),e.nextStatus?n.historyNav.nextButton.enable():n.historyNav.nextButton.disable()}))},Te=()=>{const e=document.createElement("button");return e.className="modai-generate",e.innerText="✦",e.type="button",e.title="Generate using AI",e},Ie=e=>{const t=document.createElement("button");t.type="button",t.title="Previous Version",t.className="modai-history_prev",t.disable=()=>{t.disabled=!0},t.enable=()=>{t.disabled=!1},t.innerHTML="prev",t.addEventListener("click",(()=>{e.prev()}));const n=document.createElement("button");n.type="button",n.title="Next Version",n.className="modai-history_next",n.disable=()=>{n.disabled=!0},n.enable=()=>{n.disabled=!1},n.innerHTML="next",n.addEventListener("click",(()=>{e.next()}));const o=document.createElement("span");o.update=(e,t)=>{o.innerText=`${e}/${t}`},o.innerText="";const a=document.createElement("span");return a.show=()=>{a.style.display="initial"},a.hide=()=>{a.style.display="none"},a.prevButton=t,a.nextButton=n,a.info=o,a.appendChild(t),a.appendChild(n),a.appendChild(o),a.hide(),t.disable(),n.disable(),a},Ae=e=>{const t=Te();return t.addEventListener("click",(()=>{ke.localChat({key:e,field:e,overlay:!1,type:"text",availableTypes:["text","image"],resource:MODx.request.id})})),t},Se=(e,t)=>{const n=document.createElement("span"),o=Te();o.addEventListener("click",(async()=>{const n=Ee(e.el.dom);try{const e=await r.mgr.prompt.text({id:MODx.request.id,field:t});a.insert(e.content),n()}catch(e){n(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e instanceof Error?e.message:""}))}})),n.appendChild(o);const a=d.init(t,Me,e.getValue(),{});a.cachedItem.context.els||(a.cachedItem.context.els=[]),a.cachedItem.context.els.push({field:e,wrapper:n});const i=Ie(a);return n.appendChild(i),n.historyNav=i,n},Le=(e,t,n)=>{const o=Te();return o.addEventListener("click",(()=>{ke.localChat({key:t,field:t,type:"image",resource:MODx.request.id,image:{mediaSource:parseInt(e)||void 0},imageActions:{copy:!1,insert:(e,t)=>{n(e),t.api.closeModal()}}})})),o},Be=(e,t)=>{const n=Ext.getCmp(e);if(!n)return;const o=document.createElement("span"),a=Te();a.addEventListener("click",(async()=>{const e=Ee(n.el.dom);try{const n=await r.mgr.prompt.text({id:MODx.request.id,field:t},(e=>{i.insert(e.content,!0)}));i.insert(n.content),e()}catch(t){e(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:t instanceof Error?t.message:""}))}})),o.appendChild(a);const i=d.init(t,Me,n.getValue(),{});i.cachedItem.context.els||(i.cachedItem.context.els=[]),i.cachedItem.context.els.push({field:n,wrapper:o});const s=Ie(i);o.appendChild(s),o.historyNav=s,n.label.appendChild(o)},Oe=(e,t)=>{const n=Ext.getCmp(e.firstElementChild?.id),o=Le(n.imageBrowser.source,t,(function(e){n.imageBrowser.setValue(e.ctx.url),n.onImageChange(e.ctx.url)})),a=Te();a.style.marginTop="6px",a.addEventListener("click",(async()=>{const e=n.imagePreview.el.dom,o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return;o.width=e.width,o.height=e.height,a.drawImage(e,0,0);const i=o.toDataURL("image/png"),s=Ee(n.altTextField.items.items[0].el.dom);try{const e=await r.mgr.prompt.vision({image:i,field:t},(e=>{n.altTextField.items.items[0].setValue(e.content),n.altTextField.items.items[0].el.dom.scrollTop=n.altTextField.items.items[0].el.dom.scrollHeight,n.image.altTag=e.content,n.updateValue()}));n.altTextField.items.items[0].setValue(e.content),n.image.altTag=e.content,n.updateValue(),s()}catch(e){s(),Ext.Msg.alert("Failed",_("modai.cmp.failed_try_again",{msg:e instanceof Error?e.message:""}))}})),n.altTextField.el.dom.style.display="flex",n.altTextField.el.dom.style.justifyItems="center",n.altTextField.el.dom.style.alignItems="center",n.el.dom.parentElement?.parentElement?.parentElement?.querySelector("label")?.appendChild(o),n.altTextField.el.dom.appendChild(a)},_e=()=>{const e=Ext.getCmp("modx-resource-content").el.dom.querySelector("label");e?.appendChild(Ae("res.content"))};Ext.onReady((function(){Ext.defer((function(){(()=>{const e={pagetitle:["modx-resource-pagetitle"],longtitle:["modx-resource-longtitle","seosuite-longtitle"],introtext:["modx-resource-introtext"],description:["modx-resource-description","seosuite-description"],content:["modx-resource-content"]};for(const t of modAI?.resourceFields||[])e[t]&&("content"!==t?e[t].forEach((e=>{Be(e,`res.${t}`)})):_e())})(),(()=>{const e=Ext.getCmp("modx-panel-resource").getForm();for(const[t,n]of modAI?.tvs||[]){const o=Ext.get(`tv${t}-tr`);if(!o)continue;const a=e.findField(`tv${t}`),i=`tv.${n}`;if(a){if("textfield"===a.xtype||"textarea"===a.xtype){const e=MODx.config[`modai.tv.${n}.text.prompt`],t=o.dom.querySelector("label");if(!t)return;e?t.appendChild(Se(a,i)):t.appendChild(Ae(i))}if("modx-panel-tv-image"===a.xtype){const e=Le(a.source,i,(function(e){const t={relativeUrl:e.ctx.url,url:e.ctx.url};a.items.items[1].fireEvent("select",t),a.fireEvent("select",t)})),t=o.dom.querySelector("label");if(!t)return;t.appendChild(e)}}else{const e=o.dom.querySelector(".imageplus-panel-input");e&&Oe(e,i)}}})()}),500)}));const ze={};return t})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UixHQUF1QjdMLEVBQU8wTCxJQUVoRHhSLEVBQU1NLFlBQVlpUixHQUFxQkMsR0FFM0MsQ0FFQSxHQUFvQix3QkFBaEIxTCxFQUFNeU8sTUFBaUMsQ0FDekMsTUFBTXRDLEVBQVlGLEdBQWtCak0sRUFBTTRNLE9BQVFsQixHQUFXLFNBQVU5TCxHQUNyRSxNQUFNOE8sRUFBWSxDQUNoQkMsWUFBYS9PLEVBQUlFLElBQUlsUixJQUNyQkEsSUFBS2dSLEVBQUlFLElBQUlsUixLQUdmb1IsRUFBTW1ILE1BQU1BLE1BQU0sR0FBR3dELFVBQVUsU0FBVStELEdBQ3pDMU8sRUFBTTJLLFVBQVUsU0FBVStELEVBQzVCLElBRU14VSxFQUFRNFAsRUFBUWMsSUFBSXJNLGNBQWMsU0FDeEMsSUFBS3JFLEVBQU8sT0FFWkEsRUFBTU0sWUFBWTJSLEVBQ3BCLENBOUJBLEtBTkEsQ0FDRSxNQUFNSyxFQUFlMUMsRUFBUWMsSUFBSXJNLGNBQWMsMEJBQzNDaU8sR0FDRkQsR0FBZ0JDLEVBQWNkLEVBR2xDLENBK0JGLEdBZ0NJa0QsRUFDRixHQUFHLElBQ0wsSUM1WkssTUFBTSxHQUFTLENBQUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL21vZEFJL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbW9kQUkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tb2RBSS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9leGVjdXRvci50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvaGlzdG9yeS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L2RyYWdIYW5kbGVycy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvZ2xvYmFsU3R5bGVzLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS91dGlscy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvZG9tL2J1dHRvbi50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L2FjdGlvbkJ1dHRvbi50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L3N0eWxlcy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L21lc3NhZ2VIYW5kbGVycy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L2lmcmFtZS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L3N0YXRlLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy9jaGF0SGlzdG9yeS50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L21vZGFsQWN0aW9ucy50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvdWkvbG9jYWxDaGF0L2luZGV4LnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS9sb2NhbENoYXQvbW9kYWxCdWlsZGVyLnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS9vdmVybGF5LnRzIiwid2VicGFjazovL21vZEFJLy4vX2J1aWxkL2pzL3NyYy91aS9pbmRleC50cyIsIndlYnBhY2s6Ly9tb2RBSS8uL19idWlsZC9qcy9zcmMvcmVzb3VyY2UudHMiLCJ3ZWJwYWNrOi8vbW9kQUkvLi9fYnVpbGQvanMvc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vZEFJXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1vZEFJXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidHlwZSBTZXJ2aWNlVHlwZSA9ICdjaGF0Z3B0JyB8ICdjbGF1ZGUnIHwgJ2dlbWluaSc7XG50eXBlIEJ1ZmZlck1vZGUgPSAnYnVmZmVyZWQnIHwgJ3N0cmVhbSc7XG5cbmV4cG9ydCB0eXBlIFNlcnZpY2VSZXNwb25zZSA9IFRleHREYXRhIHwgSW1hZ2VEYXRhO1xuXG50eXBlIENoYXRHUFRDb21wbGV0aW9uc0RhdGEgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNob2ljZXM/OiB7XG4gICAgbWVzc2FnZT86IHtcbiAgICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICB9O1xuICB9W107XG59O1xuXG50eXBlIENoYXRHUFRTdHJlYW1Db21wbGV0aW9uc0RhdGEgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNob2ljZXM/OiB7XG4gICAgZGVsdGE/OiB7XG4gICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgfTtcbiAgfVtdO1xufTtcblxudHlwZSBDaGF0R1BUSW1hZ2VEYXRhID0ge1xuICBkYXRhPzoge1xuICAgIHVybD86IHN0cmluZztcbiAgICBiNjRfanNvbj86IHN0cmluZztcbiAgfVtdO1xufTtcblxudHlwZSBDbGF1ZGVDb21wbGV0aW9uc0RhdGEgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ/OiB7XG4gICAgdGV4dD86IHN0cmluZztcbiAgfVtdO1xufTtcblxudHlwZSBDbGF1ZGVTdHJlYW1Db21wbGV0aW9uc0RhdGEgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGRlbHRhPzoge1xuICAgIHRleHQ/OiBzdHJpbmc7XG4gIH07XG59O1xuXG50eXBlIEdlbWluaUNvbXBsZXRpb25zRGF0YSA9IHtcbiAgY2FuZGlkYXRlcz86IHtcbiAgICBjb250ZW50Pzoge1xuICAgICAgcGFydHM/OiB7XG4gICAgICAgIHRleHQ/OiBzdHJpbmc7XG4gICAgICB9W107XG4gICAgfTtcbiAgfVtdO1xufTtcblxudHlwZSBHZW1pbmlTdHJlYW1Db21wbGV0aW9uc0RhdGEgPSB7XG4gIGNhbmRpZGF0ZXM/OiB7XG4gICAgY29udGVudD86IHtcbiAgICAgIHBhcnRzPzoge1xuICAgICAgICB0ZXh0Pzogc3RyaW5nO1xuICAgICAgfVtdO1xuICAgIH07XG4gIH1bXTtcbn07XG5cbnR5cGUgR2VtaW5pSW1hZ2VEYXRhID0ge1xuICBwcmVkaWN0aW9ucz86IHtcbiAgICBieXRlc0Jhc2U2NEVuY29kZWQ/OiBzdHJpbmc7XG4gIH1bXTtcbn07XG5cbnR5cGUgU2VydmljZUhhbmRsZXJzID0ge1xuICBidWZmZXJlZDoge1xuICAgIGNoYXRncHQ6IHtcbiAgICAgIGNvbnRlbnQ6IChkYXRhOiBDaGF0R1BUQ29tcGxldGlvbnNEYXRhKSA9PiBUZXh0RGF0YTtcbiAgICAgIGltYWdlOiAoZGF0YTogQ2hhdEdQVEltYWdlRGF0YSkgPT4gSW1hZ2VEYXRhO1xuICAgIH07XG4gICAgY2xhdWRlOiB7XG4gICAgICBjb250ZW50OiAoZGF0YTogQ2xhdWRlQ29tcGxldGlvbnNEYXRhKSA9PiBUZXh0RGF0YTtcbiAgICB9O1xuICAgIGdlbWluaToge1xuICAgICAgY29udGVudDogKGRhdGE6IEdlbWluaUNvbXBsZXRpb25zRGF0YSkgPT4gVGV4dERhdGE7XG4gICAgICBpbWFnZTogKGRhdGE6IEdlbWluaUltYWdlRGF0YSkgPT4gSW1hZ2VEYXRhO1xuICAgIH07XG4gIH07XG4gIHN0cmVhbToge1xuICAgIGNoYXRncHQ6IHtcbiAgICAgIGNvbnRlbnQ6IChuZXdEYXRhOiBDaGF0R1BUU3RyZWFtQ29tcGxldGlvbnNEYXRhLCBjdXJyZW50RGF0YTogVGV4dERhdGEpID0+IFRleHREYXRhO1xuICAgIH07XG4gICAgY2xhdWRlOiB7XG4gICAgICBjb250ZW50OiAobmV3RGF0YTogQ2xhdWRlU3RyZWFtQ29tcGxldGlvbnNEYXRhLCBjdXJyZW50RGF0YTogVGV4dERhdGEpID0+IFRleHREYXRhO1xuICAgIH07XG4gICAgZ2VtaW5pOiB7XG4gICAgICBjb250ZW50OiAobmV3RGF0YTogR2VtaW5pU3RyZWFtQ29tcGxldGlvbnNEYXRhLCBjdXJyZW50RGF0YTogVGV4dERhdGEpID0+IFRleHREYXRhO1xuICAgIH07XG4gIH07XG59O1xuXG50eXBlIEZvckV4ZWN1dG9yID0ge1xuICB1cmw6IHN0cmluZztcbiAgYm9keTogc3RyaW5nO1xuICBzZXJ2aWNlOiBzdHJpbmc7XG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0O1xuICBwYXJzZXI6IHN0cmluZztcbiAgc3RyZWFtOiBib29sZWFuO1xufTtcblxudHlwZSBFeGVjdXRvckRhdGEgPVxuICB8IHtcbiAgICAgIGZvckV4ZWN1dG9yOiBGb3JFeGVjdXRvcjtcbiAgICB9XG4gIHwgc3RyaW5nO1xuXG5leHBvcnQgdHlwZSBUZXh0UHJvbXB0ID0geyB0eXBlOiAndGV4dCc7IHZhbHVlOiBzdHJpbmcgfTtcbmV4cG9ydCB0eXBlIEltYWdlUHJvbXB0ID0geyB0eXBlOiAnaW1hZ2UnOyB2YWx1ZTogc3RyaW5nIH07XG5cbmV4cG9ydCB0eXBlIFByb21wdCA9IHN0cmluZyB8IFtUZXh0UHJvbXB0LCAuLi5JbWFnZVByb21wdFtdXTtcblxudHlwZSBGcmVlVGV4dFBhcmFtcyA9IHtcbiAgcHJvbXB0OiBQcm9tcHQ7XG4gIGZpZWxkPzogc3RyaW5nO1xuICBjb250ZXh0Pzogc3RyaW5nO1xuICBuYW1lc3BhY2U/OiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiB7IHJvbGU6IHN0cmluZzsgY29udGVudDogUHJvbXB0IH1bXTtcbn07XG5cbnR5cGUgVGV4dFBhcmFtcyA9IHtcbiAgZmllbGQ/OiBzdHJpbmc7XG4gIG5hbWVzcGFjZT86IHN0cmluZztcbiAgaWQ6IHN0cmluZyB8IG51bWJlcjtcbn07XG5cbnR5cGUgVmlzaW9uUGFyYW1zID0ge1xuICBmaWVsZD86IHN0cmluZztcbiAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICBpbWFnZTogc3RyaW5nO1xufTtcblxudHlwZSBJbWFnZVBhcmFtcyA9IHtcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZpZWxkPzogc3RyaW5nO1xuICBuYW1lc3BhY2U/OiBzdHJpbmc7XG59O1xuXG50eXBlIERvd25sb2FkSW1hZ2VQYXJhbXMgPSB7XG4gIHVybDogc3RyaW5nO1xuICBmaWVsZD86IHN0cmluZztcbiAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICByZXNvdXJjZT86IHN0cmluZyB8IG51bWJlcjtcbiAgbWVkaWFTb3VyY2U/OiBzdHJpbmcgfCBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBUZXh0RGF0YSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgSW1hZ2VEYXRhID0ge1xuICBpZDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbn07XG5cbnR5cGUgQ2h1bmtTdHJlYW08RCA9IHVua25vd24+ID0gKGRhdGE6IEQpID0+IHZvaWQ7XG5cbmNvbnN0IHNlcnZpY2VzOiBTZXJ2aWNlSGFuZGxlcnMgPSB7XG4gIGJ1ZmZlcmVkOiB7XG4gICAgY2hhdGdwdDoge1xuICAgICAgY29udGVudDogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRhdGE/LmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudDtcblxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWQgPSBkYXRhLmlkO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBpbWFnZTogKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IHVybCA9IGRhdGE/LmRhdGE/LlswXT8udXJsO1xuXG4gICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgdXJsID0gZGF0YT8uZGF0YT8uWzBdPy5iNjRfanNvbjtcblxuICAgICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLmZhaWxlZF9yZXF1ZXN0JykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVybCA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHt1cmx9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGBjaGF0Z3B0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjbGF1ZGU6IHtcbiAgICAgIGNvbnRlbnQ6IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhPy5jb250ZW50Py5bMF0/LnRleHQ7XG5cbiAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5mYWlsZWRfcmVxdWVzdCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlkID0gZGF0YS5pZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgZ2VtaW5pOiB7XG4gICAgICBjb250ZW50OiAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YT8uY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8uWzBdPy50ZXh0O1xuXG4gICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuZmFpbGVkX3JlcXVlc3QnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgZ2VtaW5pLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgaW1hZ2U6IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGRhdGE/LnByZWRpY3Rpb25zPy5bMF0/LmJ5dGVzQmFzZTY0RW5jb2RlZDtcblxuICAgICAgICBpZiAoIWJhc2U2NCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuZmFpbGVkX3JlcXVlc3QnKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgZ2VtaW5pLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gLFxuICAgICAgICAgIHVybDogYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke2Jhc2U2NH1gLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBzdHJlYW06IHtcbiAgICBjaGF0Z3B0OiB7XG4gICAgICBjb250ZW50OiAobmV3RGF0YSwgY3VycmVudERhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjdXJyZW50RGF0YT8uY29udGVudCA/PyAnJztcbiAgICAgICAgY29uc3QgY29udGVudCA9IG5ld0RhdGEuY2hvaWNlcz8uWzBdPy5kZWx0YT8uY29udGVudCB8fCAnJztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgIGlkOiBuZXdEYXRhLmlkLFxuICAgICAgICAgIGNvbnRlbnQ6IGAke2N1cnJlbnRDb250ZW50fSR7Y29udGVudH1gLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIGNsYXVkZToge1xuICAgICAgY29udGVudDogKG5ld0RhdGEsIGN1cnJlbnREYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gY3VycmVudERhdGE/LmNvbnRlbnQgPz8gJyc7XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IG5ld0RhdGEuZGVsdGE/LnRleHQgfHwgJyc7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jdXJyZW50RGF0YSxcbiAgICAgICAgICBjb250ZW50OiBgJHtjdXJyZW50Q29udGVudH0ke2NvbnRlbnR9YCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBnZW1pbmk6IHtcbiAgICAgIGNvbnRlbnQ6IChuZXdEYXRhLCBjdXJyZW50RGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGN1cnJlbnREYXRhPy5jb250ZW50ID8/ICcnO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXdEYXRhLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LlswXT8udGV4dCB8fCAnJztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxuICAgICAgICAgIGNvbnRlbnQ6IGAke2N1cnJlbnRDb250ZW50fSR7Y29udGVudH1gLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgZXJyb3JIYW5kbGVyID0gYXN5bmMgKHJlczogUmVzcG9uc2UpID0+IHtcbiAgaWYgKCFyZXMub2spIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoZGF0YT8uZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVTdHJlYW0gPSBhc3luYyAoXG4gIHJlczogUmVzcG9uc2UsXG4gIHNlcnZpY2U6IHN0cmluZyxcbiAgcGFyc2VyOiAnY29udGVudCcsXG4gIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxUZXh0RGF0YT4sXG4gIHNpZ25hbD86IEFib3J0U2lnbmFsLFxuKTogUHJvbWlzZTxUZXh0RGF0YT4gPT4ge1xuICBpZiAoIXJlcy5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQnKTtcbiAgfVxuXG4gIGNvbnN0IHJlYWRlciA9IHJlcy5ib2R5LmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpO1xuICBsZXQgYnVmZmVyID0gJyc7XG4gIGxldCBjdXJyZW50RGF0YTogVGV4dERhdGEgPSB7XG4gICAgaWQ6IGAke3NlcnZpY2V9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gLFxuICAgIGNvbnRlbnQ6ICcnLFxuICB9O1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAoZG9uZSkgYnJlYWs7XG5cbiAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcblxuICAgIGlmIChzZXJ2aWNlID09PSAnZ2VtaW5pJykge1xuICAgICAgY29uc3QganNvbkxpbmVzID0gY2h1bmtcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAuc3BsaXQoJyxcXHJcXG4nKVxuICAgICAgICAubWFwKChsaW5lKSA9PiBsaW5lLnJlcGxhY2UoL15cXFt8XSQvZywgJycpKVxuICAgICAgICAuZmlsdGVyKChsaW5lKSA9PiBsaW5lLnRyaW0oKSAhPT0gJycpO1xuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGpzb25MaW5lcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgIGN1cnJlbnREYXRhID0gc2VydmljZXMuc3RyZWFtW3NlcnZpY2VdW3BhcnNlcl0ocGFyc2VkRGF0YSwgY3VycmVudERhdGEpO1xuICAgICAgICAgIGlmIChvbkNodW5rU3RyZWFtKSB7XG4gICAgICAgICAgICBvbkNodW5rU3RyZWFtKGN1cnJlbnREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8qIGVtcHR5ICovXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2VydmljZSA9PT0gJ2NoYXRncHQnKSB7XG4gICAgICBidWZmZXIgKz0gY2h1bms7XG5cbiAgICAgIGxldCBsYXN0TmV3bGluZUluZGV4ID0gMDtcbiAgICAgIGxldCBuZXdsaW5lSW5kZXg7XG5cbiAgICAgIHdoaWxlICgobmV3bGluZUluZGV4ID0gYnVmZmVyLmluZGV4T2YoJ1xcbicsIGxhc3ROZXdsaW5lSW5kZXgpKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGJ1ZmZlci5zbGljZShsYXN0TmV3bGluZUluZGV4LCBuZXdsaW5lSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgbGFzdE5ld2xpbmVJbmRleCA9IG5ld2xpbmVJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTogJykpIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gbGluZS5zbGljZSg2KTtcblxuICAgICAgICAgIGlmIChkYXRhID09PSAnW0RPTkVdJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgY3VycmVudERhdGEgPSBzZXJ2aWNlcy5zdHJlYW1bc2VydmljZV1bcGFyc2VyXShwYXJzZWREYXRhLCBjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAob25DaHVua1N0cmVhbSkge1xuICAgICAgICAgICAgICBvbkNodW5rU3RyZWFtKGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8qIGVtcHR5ICovXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShsYXN0TmV3bGluZUluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoc2VydmljZSA9PT0gJ2NsYXVkZScpIHtcbiAgICAgIGJ1ZmZlciArPSBjaHVuaztcblxuICAgICAgbGV0IGxhc3ROZXdsaW5lSW5kZXggPSAwO1xuICAgICAgbGV0IG5ld2xpbmVJbmRleDtcblxuICAgICAgd2hpbGUgKChuZXdsaW5lSW5kZXggPSBidWZmZXIuaW5kZXhPZignXFxuJywgbGFzdE5ld2xpbmVJbmRleCkpICE9PSAtMSkge1xuICAgICAgICBjb25zdCBsaW5lID0gYnVmZmVyLnNsaWNlKGxhc3ROZXdsaW5lSW5kZXgsIG5ld2xpbmVJbmRleCkudHJpbSgpO1xuICAgICAgICBsYXN0TmV3bGluZUluZGV4ID0gbmV3bGluZUluZGV4ICsgMTtcblxuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdkYXRhOiAnKSkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBsaW5lLnNsaWNlKDYpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudHlwZSA9PT0gJ21lc3NhZ2Vfc3RhcnQnKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnREYXRhLmlkID0gcGFyc2VkRGF0YS5tZXNzYWdlLmlkO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudHlwZSAhPT0gJ2NvbnRlbnRfYmxvY2tfZGVsdGEnKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50RGF0YSA9IHNlcnZpY2VzLnN0cmVhbVtzZXJ2aWNlXVtwYXJzZXJdKHBhcnNlZERhdGEsIGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChvbkNodW5rU3RyZWFtKSB7XG4gICAgICAgICAgICAgIG9uQ2h1bmtTdHJlYW0oY3VycmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLyogZW1wdHkgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKGxhc3ROZXdsaW5lSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjdXJyZW50RGF0YTtcbn07XG5cbmNvbnN0IHNlcnZpY2VFeGVjdXRvciA9IGFzeW5jIDxEIGV4dGVuZHMgU2VydmljZVJlc3BvbnNlPihcbiAgZGV0YWlsczogRXhlY3V0b3JEYXRhLFxuICBvbkNodW5rU3RyZWFtPzogQ2h1bmtTdHJlYW08RD4sXG4gIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIsXG4pOiBQcm9taXNlPEQ+ID0+IHtcbiAgaWYgKHR5cGVvZiBkZXRhaWxzICE9PSAnb2JqZWN0JyB8fCAhZGV0YWlscy5mb3JFeGVjdXRvcikge1xuICAgIHJldHVybiBkZXRhaWxzIGFzIHVua25vd24gYXMgRDtcbiAgfVxuXG4gIGNvbnN0IGV4ZWN1dG9yRGV0YWlscyA9IGRldGFpbHMuZm9yRXhlY3V0b3I7XG5cbiAgY29udHJvbGxlciA9ICFjb250cm9sbGVyID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogY29udHJvbGxlcjtcbiAgY29uc3Qgc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG5cbiAgY29uc3QgY2FsbFNlcnZpY2UgPSBhc3luYyAoZGV0YWlsczogRm9yRXhlY3V0b3IpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChkZXRhaWxzLnVybCwge1xuICAgICAgc2lnbmFsLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBkZXRhaWxzLmJvZHksXG4gICAgICBoZWFkZXJzOiBkZXRhaWxzLmhlYWRlcnMsXG4gICAgfSk7XG5cbiAgICBhd2FpdCBlcnJvckhhbmRsZXIocmVzKTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuXG4gICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIGNvbnN0IGNhbGxTdHJlYW1TZXJ2aWNlID0gYXN5bmMgKGRldGFpbHM6IEZvckV4ZWN1dG9yKSA9PiB7XG4gICAgaWYgKGV4ZWN1dG9yRGV0YWlscy5wYXJzZXIgIT09ICdjb250ZW50Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5zZXJ2aWNlX3Vuc3VwcG9ydGVkJykpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGRldGFpbHMudXJsLCB7XG4gICAgICBzaWduYWwsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IGRldGFpbHMuYm9keSxcbiAgICAgIGhlYWRlcnM6IGRldGFpbHMuaGVhZGVycyxcbiAgICB9KTtcblxuICAgIGF3YWl0IGVycm9ySGFuZGxlcihyZXMpO1xuXG4gICAgcmV0dXJuIGhhbmRsZVN0cmVhbShcbiAgICAgIHJlcyxcbiAgICAgIGV4ZWN1dG9yRGV0YWlscy5zZXJ2aWNlLFxuICAgICAgZXhlY3V0b3JEZXRhaWxzLnBhcnNlcixcbiAgICAgIG9uQ2h1bmtTdHJlYW0gYXMgQ2h1bmtTdHJlYW08VGV4dERhdGE+LFxuICAgICk7XG4gIH07XG5cbiAgaWYgKCFleGVjdXRvckRldGFpbHMuc2VydmljZSB8fCAhZXhlY3V0b3JEZXRhaWxzLnBhcnNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuc2VydmljZV9yZXF1aXJlZCcpKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhc2VydmljZXNbZXhlY3V0b3JEZXRhaWxzLnN0cmVhbSA/ICdzdHJlYW0nIDogKCdidWZmZXJlZCcgYXMgQnVmZmVyTW9kZSldPy5bXG4gICAgICBleGVjdXRvckRldGFpbHMuc2VydmljZSBhcyBTZXJ2aWNlVHlwZVxuICAgIF0/LltleGVjdXRvckRldGFpbHMucGFyc2VyIGFzIGtleW9mIFNlcnZpY2VIYW5kbGVyc1tCdWZmZXJNb2RlXVtTZXJ2aWNlVHlwZV1dXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuc2VydmljZV91bnN1cHBvcnRlZCcpKTtcbiAgfVxuXG4gIGlmIChleGVjdXRvckRldGFpbHMuc3RyZWFtKSB7XG4gICAgcmV0dXJuIGNhbGxTdHJlYW1TZXJ2aWNlKGV4ZWN1dG9yRGV0YWlscykgYXMgUHJvbWlzZTxEPjtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBjYWxsU2VydmljZShleGVjdXRvckRldGFpbHMpO1xuICByZXR1cm4gc2VydmljZXNbJ2J1ZmZlcmVkJ11bZXhlY3V0b3JEZXRhaWxzLnNlcnZpY2UgYXMgU2VydmljZVR5cGVdW1xuICAgIGV4ZWN1dG9yRGV0YWlscy5wYXJzZXIgYXMga2V5b2YgU2VydmljZUhhbmRsZXJzWydidWZmZXJlZCddW1NlcnZpY2VUeXBlXVxuICBdKGRhdGEpIGFzIEQ7XG59O1xuXG5jb25zdCBtb2R4RmV0Y2ggPSBhc3luYyA8Uj4oYWN0aW9uOiBzdHJpbmcsIHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7bW9kQUkuYXBpVVJMfT9hY3Rpb249JHthY3Rpb259YCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhcmFtcyksXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIXJlcy5vaykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5kZXRhaWwpO1xuICB9XG5cbiAgcmV0dXJuIChhd2FpdCByZXMuanNvbigpKSBhcyBSO1xufTtcblxuY29uc3QgYWlGZXRjaCA9IGFzeW5jIDxEIGV4dGVuZHMgU2VydmljZVJlc3BvbnNlPihcbiAgYWN0aW9uOiBzdHJpbmcsXG4gIHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxEPixcbiAgY29udHJvbGxlcj86IEFib3J0Q29udHJvbGxlcixcbik6IFByb21pc2U8RD4gPT4ge1xuICBjb250cm9sbGVyID0gIWNvbnRyb2xsZXIgPyBuZXcgQWJvcnRDb250cm9sbGVyKCkgOiBjb250cm9sbGVyO1xuICBjb25zdCBzaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHttb2RBSS5hcGlVUkx9P2FjdGlvbj0ke2FjdGlvbn1gLCB7XG4gICAgc2lnbmFsLFxuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhcmFtcyksXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIXJlcy5vaykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5kZXRhaWwpO1xuICB9XG5cbiAgY29uc3Qgc2VydmljZSA9IHJlcy5oZWFkZXJzLmdldCgneC1tb2RhaS1zZXJ2aWNlJykgPz8gJ2NoYXRncHQnO1xuICBjb25zdCBwYXJzZXIgPSByZXMuaGVhZGVycy5nZXQoJ3gtbW9kYWktcGFyc2VyJykgPz8gJ2NvbnRlbnQnO1xuICBjb25zdCBzdHJlYW0gPSBwYXJzZUludChyZXMuaGVhZGVycy5nZXQoJ3gtbW9kYWktc3RyZWFtJykgPz8gJzAnKSA9PT0gMTtcbiAgY29uc3QgcHJveHkgPSBwYXJzZUludChyZXMuaGVhZGVycy5nZXQoJ3gtbW9kYWktcHJveHknKSA/PyAnMCcpID09PSAxO1xuXG4gIGlmICghcHJveHkpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gc2VydmljZUV4ZWN1dG9yPEQ+KGRhdGEsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgaWYgKCFzZXJ2aWNlIHx8ICFwYXJzZXIpIHtcbiAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKF8oJ21vZGFpLmNtcC5zZXJ2aWNlX3JlcXVpcmVkJykpO1xuICB9XG5cbiAgaWYgKFxuICAgICFzZXJ2aWNlc1tzdHJlYW0gPyAnc3RyZWFtJyA6ICgnYnVmZmVyZWQnIGFzIEJ1ZmZlck1vZGUpXT8uW3NlcnZpY2UgYXMgU2VydmljZVR5cGVdPy5bXG4gICAgICBwYXJzZXIgYXMga2V5b2YgU2VydmljZUhhbmRsZXJzW0J1ZmZlck1vZGVdW1NlcnZpY2VUeXBlXVxuICAgIF1cbiAgKSB7XG4gICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRocm93IG5ldyBFcnJvcihfKCdtb2RhaS5jbXAuc2VydmljZV91bnN1cHBvcnRlZCcpKTtcbiAgfVxuXG4gIGlmICghc3RyZWFtKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHNlcnZpY2VzWydidWZmZXJlZCddW3NlcnZpY2UgYXMgU2VydmljZVR5cGVdW1xuICAgICAgcGFyc2VyIGFzIGtleW9mIFNlcnZpY2VIYW5kbGVyc1snYnVmZmVyZWQnXVtTZXJ2aWNlVHlwZV1cbiAgICBdKGRhdGEpIGFzIEQ7XG4gIH1cblxuICBpZiAocGFyc2VyICE9PSAnY29udGVudCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXygnbW9kYWkuY21wLnNlcnZpY2VfdW5zdXBwb3J0ZWQnKSk7XG4gIH1cblxuICByZXR1cm4gKGF3YWl0IGhhbmRsZVN0cmVhbShcbiAgICByZXMsXG4gICAgc2VydmljZSxcbiAgICBwYXJzZXIsXG4gICAgb25DaHVua1N0cmVhbSBhcyBDaHVua1N0cmVhbTxUZXh0RGF0YT4sXG4gICAgc2lnbmFsLFxuICApKSBhcyBEO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4ZWN1dG9yID0ge1xuICBtZ3I6IHtcbiAgICBkb3dubG9hZDoge1xuICAgICAgaW1hZ2U6IGFzeW5jIChwYXJhbXM6IERvd25sb2FkSW1hZ2VQYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG1vZHhGZXRjaDx7IHVybDogc3RyaW5nOyBmdWxsVXJsOiBzdHJpbmcgfT4oJ0Rvd25sb2FkXFxcXEltYWdlJywgcGFyYW1zKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBwcm9tcHQ6IHtcbiAgICAgIGZyZWVUZXh0OiBhc3luYyAoXG4gICAgICAgIHBhcmFtczogRnJlZVRleHRQYXJhbXMsXG4gICAgICAgIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxUZXh0RGF0YT4sXG4gICAgICAgIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIsXG4gICAgICApID0+IHtcbiAgICAgICAgcmV0dXJuIGFpRmV0Y2goJ1Byb21wdFxcXFxGcmVlVGV4dCcsIHBhcmFtcywgb25DaHVua1N0cmVhbSwgY29udHJvbGxlcik7XG4gICAgICB9LFxuICAgICAgdGV4dDogYXN5bmMgKFxuICAgICAgICBwYXJhbXM6IFRleHRQYXJhbXMsXG4gICAgICAgIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxUZXh0RGF0YT4sXG4gICAgICAgIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIsXG4gICAgICApID0+IHtcbiAgICAgICAgcmV0dXJuIGFpRmV0Y2goJ1Byb21wdFxcXFxUZXh0JywgcGFyYW1zLCBvbkNodW5rU3RyZWFtLCBjb250cm9sbGVyKTtcbiAgICAgIH0sXG4gICAgICB2aXNpb246IGFzeW5jIChcbiAgICAgICAgcGFyYW1zOiBWaXNpb25QYXJhbXMsXG4gICAgICAgIG9uQ2h1bmtTdHJlYW0/OiBDaHVua1N0cmVhbTxUZXh0RGF0YT4sXG4gICAgICAgIGNvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXIsXG4gICAgICApID0+IHtcbiAgICAgICAgcmV0dXJuIGFpRmV0Y2goJ1Byb21wdFxcXFxWaXNpb24nLCBwYXJhbXMsIG9uQ2h1bmtTdHJlYW0sIGNvbnRyb2xsZXIpO1xuICAgICAgfSxcbiAgICAgIGltYWdlOiBhc3luYyAocGFyYW1zOiBJbWFnZVBhcmFtcywgY29udHJvbGxlcj86IEFib3J0Q29udHJvbGxlcikgPT4ge1xuICAgICAgICByZXR1cm4gYWlGZXRjaDxJbWFnZURhdGE+KCdQcm9tcHRcXFxcSW1hZ2UnLCBwYXJhbXMsIHVuZGVmaW5lZCwgY29udHJvbGxlcik7XG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59O1xuIiwidHlwZSBDYWNoZTxDID0gdW5rbm93bj4gPSB7XG4gIHZpc2libGU6IG51bWJlcjtcbiAgdmFsdWVzOiBzdHJpbmdbXTtcbiAgY29udGV4dDogQztcbiAgc3luY1VJPzogKGRhdGE6IERhdGFPdXRwdXQ8Qz4sIG5vU3RvcmU/OiBib29sZWFuKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IHR5cGUgRGF0YU91dHB1dDxDID0gdW5rbm93bj4gPSB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIG5leHRTdGF0dXM6IGJvb2xlYW47XG4gIHByZXZTdGF0dXM6IGJvb2xlYW47XG4gIGN1cnJlbnQ6IG51bWJlcjtcbiAgdG90YWw6IG51bWJlcjtcbiAgY29udGV4dDogQztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBfY2FjaGU6IFJlY29yZDxzdHJpbmcsIENhY2hlPGFueT4+ID0ge307XG5cbmV4cG9ydCBjb25zdCBoaXN0b3J5ID0ge1xuICBfZm9ybWF0T3V0cHV0KGtleTogc3RyaW5nLCB2YWx1ZT86IHN0cmluZyk6IERhdGFPdXRwdXQge1xuICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBfY2FjaGVba2V5XTtcblxuICAgIGNvbnN0IHByZXZTdGF0dXMgPSBjYWNoZWRJdGVtLnZpc2libGUgPiAwO1xuICAgIGNvbnN0IG5leHRTdGF0dXMgPSBjYWNoZWRJdGVtLnZpc2libGUgIT09IGNhY2hlZEl0ZW0udmFsdWVzLmxlbmd0aCAtIDE7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IChjYWNoZWRJdGVtLnZhbHVlc1tjYWNoZWRJdGVtLnZpc2libGVdID8/IG51bGwpLFxuICAgICAgbmV4dFN0YXR1cyxcbiAgICAgIHByZXZTdGF0dXMsXG4gICAgICBjdXJyZW50OiBjYWNoZWRJdGVtLnZpc2libGUgKyAxLFxuICAgICAgdG90YWw6IGNhY2hlZEl0ZW0udmFsdWVzLmxlbmd0aCxcbiAgICAgIGNvbnRleHQ6IGNhY2hlZEl0ZW0uY29udGV4dCxcbiAgICB9O1xuICB9LFxuICBpbnNlcnQoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG5vU3RvcmU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBfY2FjaGVba2V5XTtcblxuICAgIGlmICghbm9TdG9yZSkge1xuICAgICAgY2FjaGVkSXRlbS52aXNpYmxlID0gY2FjaGVkSXRlbS52YWx1ZXMucHVzaCh2YWx1ZSkgLSAxO1xuICAgIH1cblxuICAgIGNvbnN0IG91dHB1dCA9IHRoaXMuX2Zvcm1hdE91dHB1dChrZXksIHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIGNhY2hlZEl0ZW0uc3luY1VJID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRJdGVtLnN5bmNVSShvdXRwdXQsIG5vU3RvcmUpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sXG4gIG5leHQoa2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjYWNoZWRJdGVtID0gX2NhY2hlW2tleV07XG5cbiAgICBpZiAoY2FjaGVkSXRlbS52aXNpYmxlID09PSBjYWNoZWRJdGVtLnZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZm9ybWF0T3V0cHV0KGtleSk7XG4gICAgfVxuXG4gICAgY2FjaGVkSXRlbS52aXNpYmxlKys7XG5cbiAgICBjb25zdCBvdXRwdXQgPSB0aGlzLl9mb3JtYXRPdXRwdXQoa2V5KTtcblxuICAgIGlmICh0eXBlb2YgY2FjaGVkSXRlbS5zeW5jVUkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhY2hlZEl0ZW0uc3luY1VJKG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcbiAgcHJldihrZXk6IHN0cmluZykge1xuICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBfY2FjaGVba2V5XTtcblxuICAgIGlmIChjYWNoZWRJdGVtLnZpc2libGUgPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpO1xuICAgIH1cblxuICAgIGNhY2hlZEl0ZW0udmlzaWJsZS0tO1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gdGhpcy5fZm9ybWF0T3V0cHV0KGtleSk7XG5cbiAgICBpZiAodHlwZW9mIGNhY2hlZEl0ZW0uc3luY1VJID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRJdGVtLnN5bmNVSShvdXRwdXQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sXG4gIGluaXQ8Qz4oXG4gICAga2V5OiBzdHJpbmcsXG4gICAgc3luY1VJPzogKGRhdGE6IERhdGFPdXRwdXQ8Qz4sIG5vU3RvcmU/OiBib29sZWFuKSA9PiB2b2lkLFxuICAgIGluaXRWYWx1ZT86IHN0cmluZyxcbiAgICBjb250ZXh0PzogQyxcbiAgKSB7XG4gICAgaWYgKCFfY2FjaGVba2V5XSkge1xuICAgICAgX2NhY2hlW2tleV0gPSB7XG4gICAgICAgIHZpc2libGU6IC0xLFxuICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgfSBhcyBDYWNoZTxDPjtcbiAgICB9XG5cbiAgICAoX2NhY2hlW2tleV0gYXMgQ2FjaGU8Qz4pLnN5bmNVSSA9IHN5bmNVSTtcblxuICAgIGlmIChpbml0VmFsdWUpIHtcbiAgICAgIF9jYWNoZVtrZXldLnZhbHVlcyA9IFtpbml0VmFsdWVdO1xuICAgICAgX2NhY2hlW2tleV0udmlzaWJsZSA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhY2hlZEl0ZW06IF9jYWNoZVtrZXldIGFzIENhY2hlPEM+LFxuICAgICAgZ2V0RGF0YTogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybWF0T3V0cHV0KGtleSk7XG4gICAgICB9LFxuICAgICAgZ2V0QWxsOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2FjaGVba2V5XS52YWx1ZXM7XG4gICAgICB9LFxuICAgICAgc3luY1VJOiAoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgX2NhY2hlW2tleV0uc3luY1VJID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgX2NhY2hlW2tleV0uc3luY1VJKHRoaXMuX2Zvcm1hdE91dHB1dChrZXkpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbnNlcnQ6ICh2YWx1ZTogc3RyaW5nLCBub1N0b3JlOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGtleSwgdmFsdWUsIG5vU3RvcmUpO1xuICAgICAgfSxcbiAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dChrZXkpO1xuICAgICAgfSxcbiAgICAgIHByZXY6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldihrZXkpO1xuICAgICAgfSxcbiAgICB9O1xuICB9LFxufTtcbiIsImltcG9ydCB0eXBlIHsgTW9kYWwgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGluaXREcmFnID0gKGU6IE1vdXNlRXZlbnQsIG1vZGFsOiBNb2RhbCkgPT4ge1xuICBtb2RhbC5pc0RyYWdnaW5nID0gdHJ1ZTtcblxuICBjb25zdCByZWN0ID0gbW9kYWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgbW9kYWwub2Zmc2V0WCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgbW9kYWwub2Zmc2V0WSA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xuXG4gIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbn07XG5cbmV4cG9ydCBjb25zdCBkcmFnID0gKGU6IE1vdXNlRXZlbnQsIG1vZGFsOiBNb2RhbCkgPT4ge1xuICBpZiAoIW1vZGFsLmlzRHJhZ2dpbmcpIHJldHVybjtcblxuICBjb25zdCBuZXdYID0gZS5jbGllbnRYIC0gbW9kYWwub2Zmc2V0WDtcbiAgY29uc3QgbmV3WSA9IGUuY2xpZW50WSAtIG1vZGFsLm9mZnNldFk7XG5cbiAgbW9kYWwuc3R5bGUubGVmdCA9IG5ld1ggKyAncHgnO1xuICBtb2RhbC5zdHlsZS50b3AgPSBuZXdZICsgJ3B4JztcblxuICBtb2RhbC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG59O1xuXG5leHBvcnQgY29uc3QgZW5kRHJhZyA9IChtb2RhbDogTW9kYWwpID0+IHtcbiAgbW9kYWwuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnJztcbn07XG4iLCJleHBvcnQgY29uc3QgZ2xvYmFsU3R5bGVzID0ge1xuICByZXNldFN0eWxlczoge1xuICAgIG1hcmdpbjogJzAnLFxuICAgIHBhZGRpbmc6ICcwJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwsIHNhbnMtc2VyaWYnLFxuICB9LFxufSBzYXRpc2ZpZXMgUmVjb3JkPHN0cmluZywgUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPj47XG4iLCJpbXBvcnQgeyBnbG9iYWxTdHlsZXMgfSBmcm9tICcuL2dsb2JhbFN0eWxlcyc7XG5cbmV4cG9ydCBjb25zdCBhcHBseVN0eWxlcyA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgc3R5bGVPYmo6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4pID0+IHtcbiAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCB7IC4uLmdsb2JhbFN0eWxlcy5yZXNldFN0eWxlcywgLi4uc3R5bGVPYmogfSk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRWxlbWVudCA9IDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPihcbiAgdHlwZTogSyxcbiAgc3R5bGVPYmo/OiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+LFxuICB0ZXh0Q29udGVudDogc3RyaW5nID0gJycsXG4pOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10gPT4ge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICBpZiAoc3R5bGVPYmopIHtcbiAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBzdHlsZU9iaik7XG4gIH1cblxuICBpZiAodGV4dENvbnRlbnQpIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBubFRvQnIgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiAvPFtePl0qPi9nLnRlc3QoY29udGVudCkgPyBjb250ZW50IDogY29udGVudC5yZXBsYWNlKC9cXHJcXG58XFxufFxcci9nLCAnPGJyPicpO1xufTtcbiIsImltcG9ydCB7IGFwcGx5U3R5bGVzLCBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBCdXR0b24gPSBIVE1MQnV0dG9uRWxlbWVudCAmIHtcbiAgZW5hYmxlOiAoKSA9PiB2b2lkO1xuICBkaXNhYmxlOiAoKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IGJ1dHRvbiA9IChcbiAgY29udGVudDogc3RyaW5nIHwgSFRNTEVsZW1lbnQgfCAoSFRNTEVsZW1lbnQgfCBzdHJpbmcpW10sXG4gIG9uQ2xpY2s6ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkLFxuICBzdHlsZU9iajogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPiA9IHt9LFxuICBkaXNhYmxlZFN0eWxlT2JqOiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+ID0ge30sXG4gIGJ0blByb3BzPzogUGFydGlhbDxIVE1MQnV0dG9uRWxlbWVudD4sXG4pID0+IHtcbiAgY29uc3QgdGV4dENvbnRlbnQgPSB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgPyBjb250ZW50IDogJyc7XG5cbiAgaWYgKHR5cGVvZiBjb250ZW50ICE9PSAnc3RyaW5nJyAmJiAhQXJyYXkuaXNBcnJheShjb250ZW50KSkge1xuICAgIGNvbnRlbnQgPSBbY29udGVudF07XG4gIH1cblxuICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHN0eWxlT2JqLCB0ZXh0Q29udGVudCkgYXMgQnV0dG9uO1xuICBlbC50eXBlID0gJ2J1dHRvbic7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICBjb250ZW50LmZvckVhY2goKGkpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWwuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLmFwcGVuZChpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG5cbiAgZWwuZW5hYmxlID0gKCkgPT4ge1xuICAgIGVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYXBwbHlTdHlsZXMoZWwsIHN0eWxlT2JqKTtcbiAgfTtcblxuICBlbC5kaXNhYmxlID0gKCkgPT4ge1xuICAgIGVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBhcHBseVN0eWxlcyhlbCwgeyAuLi5zdHlsZU9iaiwgLi4uZGlzYWJsZWRTdHlsZU9iaiB9KTtcbiAgfTtcblxuICBpZiAoYnRuUHJvcHMpIHtcbiAgICBPYmplY3QuYXNzaWduKGVsLCBidG5Qcm9wcyk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59O1xuIiwiaW1wb3J0IHsgYnV0dG9uIH0gZnJvbSAnLi4vZG9tL2J1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jaGF0SGlzdG9yeSc7XG5cbnR5cGUgQWN0aW9uQnV0dG9uQ29uZmlnID0ge1xuICBsYWJlbDogc3RyaW5nO1xuICBpY29uOiBrZXlvZiB0eXBlb2YgaWNvbnM7XG4gIG1lc3NhZ2U6IE1lc3NhZ2U7XG4gIGxvYWRpbmdUZXh0Pzogc3RyaW5nO1xuICBjb21wbGV0ZWRUZXh0Pzogc3RyaW5nO1xuICBtb2RhbDogTW9kYWw7XG4gIGNvbXBsZXRlZFRleHREdXJhdGlvbj86IG51bWJlcjtcbiAgb25DbGljazogKG1zZzogTWVzc2FnZSwgbW9kYWw6IE1vZGFsKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xufTtcblxuY29uc3QgZGVmYXVsdENvbmZpZzogUGFydGlhbDxBY3Rpb25CdXR0b25Db25maWc+ID0ge1xuICBsb2FkaW5nVGV4dDogJ0xvYWRpbmcuLi4nLFxuICBjb21wbGV0ZWRUZXh0OiAnQ29tcGxldGVkIScsXG4gIGNvbXBsZXRlZFRleHREdXJhdGlvbjogMjAwMCxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxufTtcblxuY29uc3Qgc3R5bGVzID0ge1xuICBhY3Rpb25CdXR0b246IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZWRmMmY3JyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2NiZDVlMCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICBwYWRkaW5nOiAnM3B4IDhweCcsXG4gICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgY29sb3I6ICcjNGE1NTY4JyxcbiAgICBvcGFjaXR5OiAnMScsXG4gIH0sXG4gIGljb246IHtcbiAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICB3aWR0aDogJzE0cHgnLFxuICAgIGhlaWdodDogJzE0cHgnLFxuICAgIG1hcmdpblJpZ2h0OiAnNXB4JyxcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcicsXG4gIH0sXG4gIGRpc2FibGVkQnV0dG9uOiB7XG4gICAgb3BhY2l0eTogJzAuNScsXG4gICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICB9LFxufSBzYXRpc2ZpZXMgUmVjb3JkPHN0cmluZywgUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPj47XG5cbmNvbnN0IGljb25zID0ge1xuICBjb3B5OiBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnIGZpbGw9JyUyMzRhNTU2OCcgdmlld0JveD0nMCAwIDE2IDE2JyUzRSUzQ3BhdGggZD0nTTQgMS41SDNhMiAyIDAgMCAwLTIgMlYxNGEyIDIgMCAwIDAgMiAyaDEwYTIgMiAwIDAgMCAyLTJWMy41YTIgMiAwIDAgMC0yLTJoLTF2MWgxYTEgMSAwIDAgMSAxIDFWMTRhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWMy41YTEgMSAwIDAgMSAxLTFoMXYtMXonLyUzRSUzQ3BhdGggZD0nTTkuNSAxYS41LjUgMCAwIDEgLjUuNXYxYS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41di0xYS41LjUgMCAwIDEgLjUtLjVoM3ptLTMtMUExLjUgMS41IDAgMCAwIDUgMS41djFBMS41IDEuNSAwIDAgMCA2LjUgNGgzQTEuNSAxLjUgMCAwIDAgMTEgMi41di0xQTEuNSAxLjUgMCAwIDAgOS41IDBoLTN6Jy8lM0UlM0Mvc3ZnJTNFXCIsXG4gIGluc2VydDpcbiAgICBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnIGZpbGw9JyUyMzRhNTU2OCcgdmlld0JveD0nMCAwIDE2IDE2JyUzRSUzQ3BhdGggZD0nTTggMTVBNyA3IDAgMSAxIDggMWE3IDcgMCAwIDEgMCAxNHptMCAxQTggOCAwIDEgMCA4IDBhOCA4IDAgMCAwIDAgMTZ6Jy8lM0UlM0NwYXRoIGQ9J004IDRhLjUuNSAwIDAgMSAuNS41djNoM2EuNS41IDAgMCAxIDAgMWgtM3YzYS41LjUgMCAwIDEtMSAwdi0zaC0zYS41LjUgMCAwIDEgMC0xaDN2LTNBLjUuNSAwIDAgMSA4IDR6Jy8lM0UlM0Mvc3ZnJTNFXCIsXG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aW9uQnV0dG9uID0gKGNvbmZpZzogQWN0aW9uQnV0dG9uQ29uZmlnKSA9PiB7XG4gIGNvbmZpZyA9IHtcbiAgICAuLi5kZWZhdWx0Q29uZmlnLFxuICAgIC4uLmNvbmZpZyxcbiAgfTtcblxuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsSFRNTCA9IGJ0bi5pbm5lckhUTUw7XG4gICAgY29uc3QgcmVzdWx0ID0gY29uZmlnLm9uQ2xpY2soY29uZmlnLm1lc3NhZ2UsIGNvbmZpZy5tb2RhbCk7XG5cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgYnRuLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICAgICAgd2lkdGg6IDEycHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICBcIj5cbiAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAzcHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICAgICAgICAgICAgXCI+PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDNweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDNweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xuICAgICAgICAgICAgXCI+PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDNweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDNweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XG4gICAgICAgICAgICBcIj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICB3aWR0aDogM3B4O1xuICAgICAgICAgICAgICAgIGhlaWdodDogM3B4O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcbiAgICAgICAgICAgIFwiPjwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICAke2NvbmZpZy5sb2FkaW5nVGV4dH1cbiAgICBgO1xuXG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgICAgICAgICAgICBmcm9tIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgICAgICAgICAgICAgdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgfVxuICAgICAgYDtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICBhd2FpdCByZXN1bHQ7XG5cbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgIH1cblxuICAgIGJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDVweDtcIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgJHtjb25maWcuY29tcGxldGVkVGV4dH1cbiAgICAgICAgICAgIGA7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuICAgIGJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbEhUTUw7XG4gIH07XG5cbiAgY29uc3QgYnRuID0gYnV0dG9uKFxuICAgIFtcbiAgICAgIGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIC4uLnN0eWxlcy5pY29uLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke2ljb25zW2NvbmZpZy5pY29uXX1cIilgLFxuICAgICAgfSksXG4gICAgICBjb25maWcubGFiZWwsXG4gICAgXSxcbiAgICBvbkNsaWNrLFxuICAgIHN0eWxlcy5hY3Rpb25CdXR0b24sXG4gICAgc3R5bGVzLmRpc2FibGVkQnV0dG9uLFxuICApO1xuICBidG4uY2xhc3NOYW1lID0gJ2FjdGlvbi1idXR0b24nO1xuXG4gIGlmIChjb25maWcuZGlzYWJsZWQpIHtcbiAgICBidG4uZGlzYWJsZSgpO1xuICB9XG5cbiAgcmV0dXJuIGJ0bjtcbn07XG4iLCJleHBvcnQgY29uc3Qgc3R5bGVzID0ge1xuICBtb2RhbE92ZXJsYXk6IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB0b3A6ICcwJyxcbiAgICBsZWZ0OiAnMCcsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICB6SW5kZXg6ICcxMDAnLFxuICB9LFxuICBjaGF0TW9kYWw6IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB3aWR0aDogJzEwMDBweCcsXG4gICAgbWluSGVpZ2h0OiAnMTcwcHgnLFxuICAgIG1heEhlaWdodDogJzYwMHB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBib3JkZXJSYWRpdXM6ICcxMHB4JyxcbiAgICBib3hTaGFkb3c6ICcwIDVweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgZGlzcGxheTogJ25vbmUnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB6SW5kZXg6ICcxMDEnLFxuICAgIHRvcDogJzUwJScsXG4gICAgbGVmdDogJzUwJScsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICB0cmFuc2l0aW9uOiAnaGVpZ2h0IDAuM3MgZWFzZS1pbi1vdXQnLFxuICB9LFxuICBjaGF0SGVhZGVyOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwQjZERScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZzogJzE1cHgnLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGN1cnNvcjogJ21vdmUnLFxuICB9LFxuICBjaGF0VGl0bGU6IHtcbiAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgfSxcbiAgY2hhdENvbnRyb2xzOiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGdhcDogJzEwcHgnLFxuICB9LFxuICBjb250cm9sQnV0dG9uOiB7XG4gICAgYmFja2dyb3VuZDogJ25vbmUnLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlJyxcbiAgfSxcbiAgY2hhdE1lc3NhZ2VzOiB7XG4gICAgZmxleDogJzEnLFxuICAgIHBhZGRpbmc6ICcxNXB4JyxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjlmOWY5JyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIGRpc3BsYXk6ICdub25lJyxcbiAgfSxcbiAgbWVzc2FnZToge1xuICAgIG1hcmdpbkJvdHRvbTogJzIwcHgnLFxuICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB9LFxuICBhaU1lc3NhZ2U6IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3hTaGFkb3c6ICcwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjA1KScsXG4gIH0sXG4gIHVzZXJNZXNzYWdlOiB7XG4gICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgcGFkZGluZzogJzEwcHggMTVweCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzQyOTllMScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgbWFyZ2luTGVmdDogJ2F1dG8nLFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiAnNXB4JyxcbiAgfSxcbiAgbWVzc2FnZUNvbnRlbnQ6IHtcbiAgICBwYWRkaW5nOiAnMTJweCcsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgfSxcbiAgbWVzc2FnZUFjdGlvbnM6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICBnYXA6ICc4cHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmN2ZhZmMnLFxuICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3JkZXJSYWRpdXM6ICcwIDAgOHB4IDhweCcsXG4gIH0sXG4gIGFjdGlvbkJ1dHRvbjoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZGYyZjcnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjY2JkNWUwJyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIHBhZGRpbmc6ICczcHggOHB4JyxcbiAgICBmb250U2l6ZTogJzEycHgnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBjb2xvcjogJyM0YTU1NjgnLFxuICB9LFxuICBjaGF0SW5wdXQ6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgcGFkZGluZzogJzE1cHgnLFxuICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIH0sXG4gIGlucHV0Um93OiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgZ2FwOiAnMTBweCcsXG4gIH0sXG4gIGlucHV0V3JhcHBlcjoge1xuICAgIGZsZXg6ICcxJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICBtaW5IZWlnaHQ6ICc0OHB4JyxcbiAgICBtYXhIZWlnaHQ6ICcxNTBweCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICB9LFxuICBpbnB1dDoge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgcGFkZGluZzogJzEycHggMTVweCcsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgIG1pbkhlaWdodDogJzQ4cHgnLFxuICAgIG1heEhlaWdodDogJzE1MHB4JyxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBjdXJzb3I6ICdpbmhlcml0JyxcbiAgfSxcbiAgYnV0dG9uc0NvbHVtbjoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBnYXA6ICc0cHgnLFxuICAgIHdpZHRoOiAnMTAwcHgnLFxuICB9LFxuICBzZW5kQnV0dG9uOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzZDQjI0QScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgYm9yZGVyOiAnbm9uZScsXG4gICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG4gICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgaGVpZ2h0OiAnNDBweCcsXG4gICAgbWluV2lkdGg6ICcxMDBweCcsXG4gICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGdhcDogJzZweCcsXG4gICAgb3BhY2l0eTogJzEnLFxuICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZScsXG4gIH0sXG4gIGFjdGlvbkJ1dHRvbnNSb3c6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZ2FwOiAnNHB4JyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICB9LFxuICBpY29uQnV0dG9uOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgIHdpZHRoOiAnNDhweCcsXG4gICAgaGVpZ2h0OiAnMzJweCcsXG4gICAgcGFkZGluZzogJzAnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnLFxuICAgIG9wYWNpdHk6ICcxJyxcbiAgfSxcbiAgYnV0dG9uOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgIHBhZGRpbmc6ICc2cHggMTBweCcsXG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMgZWFzZScsXG4gICAgb3BhY2l0eTogJzEnLFxuICAgIGp1c3RpZnlJdGVtczogJ2NlbnRlcicsXG4gIH0sXG4gIHNlbmRJY29uOiB7XG4gICAgd2lkdGg6ICcxNnB4JyxcbiAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6XG4gICAgICBcInVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nd2hpdGUnJTNFJTNDcGF0aCBkPSdNMi4wMSAyMUwyMyAxMiAyLjAxIDMgMiAxMGwxNSAyLTE1IDJ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIilcIixcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcicsXG4gIH0sXG4gIHN0b3BJY29uOiB7XG4gICAgd2lkdGg6ICcxNnB4JyxcbiAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6XG4gICAgICBcInVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzREMyNjI2JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNNiA2aDEydjEySDZ6Jy8lM0UlM0Mvc3ZnJTNFXFxcIilcIixcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcicsXG4gIH0sXG4gIHJlZnJlc2hJY29uOiB7XG4gICAgd2lkdGg6ICcxNnB4JyxcbiAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6XG4gICAgICBcInVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nJTIzNEI1NTYzJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTcuNjUgNi4zNUE3Ljk1OCA3Ljk1OCAwIDAgMCAxMiA0Yy00LjQyIDAtNy45OSAzLjU4LTcuOTkgOHMzLjU3IDggNy45OSA4YzMuNzMgMCA2Ljg0LTIuNTUgNy43My02aC0yLjA4QTUuOTkgNS45OSAwIDAgMSAxMiAxOGMtMy4zMSAwLTYtMi42OS02LTZzMi42OS02IDYtNmMxLjY2IDAgMy4xNC42OSA0LjIyIDEuNzhMMTMgMTFoN1Y0bC0yLjM1IDIuMzV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIilcIixcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcicsXG4gIH0sXG4gIGljb246IHtcbiAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICB3aWR0aDogJzE0cHgnLFxuICAgIGhlaWdodDogJzE0cHgnLFxuICAgIG1hcmdpblJpZ2h0OiAnNXB4JyxcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcicsXG4gIH0sXG4gIGRpc2FibGVkQnV0dG9uOiB7XG4gICAgb3BhY2l0eTogJzAuNScsXG4gICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICB9LFxuICBsb2FkaW5nSW5wdXQ6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjNmNGY2JyxcbiAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCcsXG4gIH0sXG4gIGxvYWRpbmdJbmRpY2F0b3I6IHtcbiAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAnMCcsXG4gICAgbGVmdDogJzAnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNDMsIDI0NCwgMjQ2LCAwLjkpJyxcbiAgICBib3JkZXJSYWRpdXM6ICcxMHB4JyxcbiAgICBjb2xvcjogJyM2QjcyODAnLFxuICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGdhcDogJzRweCcsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgekluZGV4OiAnMTAnLFxuICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigycHgpJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICB9LFxuICBsb2FkaW5nRG90OiB7XG4gICAgd2lkdGg6ICc2cHgnLFxuICAgIGhlaWdodDogJzZweCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzlDQTNBRicsXG4gICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICBhbmltYXRpb246ICdsb2FkaW5nRG90UHVsc2UgMS40cyBpbmZpbml0ZScsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gIH0sXG4gIG1vZGFsRm9vdGVyOiB7XG4gICAgcGFkZGluZzogJzVweCAxNXB4JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZ2FwOiAnMTBweCcsXG4gICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICB9LFxuICB0eXBlU2VsZWN0b3I6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZ2FwOiAnMTBweCcsXG4gIH0sXG4gIHR5cGVMYWJlbDoge1xuICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgY29sb3I6ICcjNEI1NTYzJyxcbiAgICBmb250V2VpZ2h0OiAnNTAwJyxcbiAgfSxcbiAgdHlwZVRvZ2dsZUdyb3VwOiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGdhcDogJzRweCcsXG4gIH0sXG4gIHR5cGVUb2dnbGVCdXR0b246IHtcbiAgICBwYWRkaW5nOiAnNnB4IDEycHgnLFxuICAgIGZvbnRTaXplOiAnMTNweCcsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgY29sb3I6ICcjNEI1NTYzJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMgZWFzZScsXG4gICAgb3BhY2l0eTogJzEnLFxuICB9LFxuICB0eXBlVG9nZ2xlQnV0dG9uQWN0aXZlOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwQjZERScsXG4gICAgY29sb3I6ICcjZmZmJyxcbiAgICBib3JkZXJDb2xvcjogJyMwMEI2REUnLFxuICAgIGN1cnNvcjogJ2RlZmF1bHQnLFxuICB9LFxuICBlcnJvck1lc3NhZ2U6IHtcbiAgICB3aWR0aDogJ2ZpdC1jb250ZW50JyxcbiAgICBwYWRkaW5nOiAnMTBweCAxNXB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREMyNjI2JyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBtYXJnaW5MZWZ0OiAnYXV0bycsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICc1cHgnLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBnYXA6ICc4cHgnLFxuICB9LFxuICBlcnJvckljb246IHtcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIGJhY2tncm91bmRJbWFnZTpcbiAgICAgIFwidXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSd3aGl0ZSclM0UlM0NwYXRoIGQ9J00xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0xIDE1aC0ydi0yaDJ2MnptMC00aC0yVjdoMnY2eicvJTNFJTNDL3N2ZyUzRVxcXCIpXCIsXG4gICAgYmFja2dyb3VuZFNpemU6ICdjb250YWluJyxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLFxuICB9LFxuICBpbWFnZVByZXZpZXc6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICc1cHgnLFxuICAgIGxlZnQ6ICc1cHgnLFxuICAgIHdpZHRoOiAnNzFweCcsXG4gICAgaGVpZ2h0OiAnNzFweCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMmU4ZjAnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmOGZhZmMnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycyBlYXNlJyxcbiAgfSxcbiAgaW1hZ2VQcmV2aWV3SW1nOiB7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gIH0sXG4gIGltYWdlUHJldmlld1JlbW92ZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogJzAnLFxuICAgIGxlZnQ6ICcwJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIG9wYWNpdHk6ICcwJyxcbiAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UnLFxuICB9LFxufSBzYXRpc2ZpZXMgUmVjb3JkPHN0cmluZywgUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPj47XG4iLCJpbXBvcnQgeyBjcmVhdGVBY3Rpb25CdXR0b24gfSBmcm9tICcuL2FjdGlvbkJ1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVDb250ZW50SWZyYW1lIH0gZnJvbSAnLi9pZnJhbWUnO1xuaW1wb3J0IHsgc3R5bGVzIH0gZnJvbSAnLi9zdHlsZXMnO1xuaW1wb3J0IHsgZXhlY3V0b3IgfSBmcm9tICcuLi8uLi9leGVjdXRvcic7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBubFRvQnIgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwsIE1vZGFsQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UsIFVwZGF0YWJsZUhUTUxFbGVtZW50IH0gZnJvbSAnLi4vLi4vY2hhdEhpc3RvcnknO1xuaW1wb3J0IHR5cGUgeyBQcm9tcHQgfSBmcm9tICcuLi8uLi9leGVjdXRvcic7XG5cbmV4cG9ydCBjb25zdCBhZGRVc2VyTWVzc2FnZSA9IChtb2RhbDogTW9kYWwsIGNvbnRlbnQ6IFByb21wdCkgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXY6IFVwZGF0YWJsZUhUTUxFbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgIC4uLnN0eWxlcy51c2VyTWVzc2FnZSxcbiAgfSk7XG5cbiAgbGV0IHRleHRDb250ZW50O1xuICBsZXQgaW1hZ2VzQ29udGVudCA9IG51bGw7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICBjb25zdCBbdGV4dCwgLi4uaW1hZ2VzXSA9IGNvbnRlbnQ7XG4gICAgdGV4dENvbnRlbnQgPSB0ZXh0LnZhbHVlO1xuICAgIGltYWdlc0NvbnRlbnQgPSBpbWFnZXM7XG4gIH0gZWxzZSB7XG4gICAgdGV4dENvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgY29uc3QgY29udGVudFdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGdhcDogJzhweCcsXG4gIH0pO1xuXG4gIGNvbnN0IHRleHREaXYgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGV4dERpdi5pbm5lckhUTUwgPSBubFRvQnIodGV4dENvbnRlbnQpO1xuICBjb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0RGl2KTtcblxuICBpZiAoaW1hZ2VzQ29udGVudCkge1xuICAgIGNvbnN0IGltYWdlUm93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBnYXA6ICc4cHgnLFxuICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgaW1nQ29udGVudCBvZiBpbWFnZXNDb250ZW50KSB7XG4gICAgICBjb25zdCBpbWFnZVdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHdpZHRoOiAnMTAwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcxMDBweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgbWFyZ2luVG9wOiAnNHB4JyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbWcgPSBjcmVhdGVFbGVtZW50KCdpbWcnLCB7XG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgICB9KTtcbiAgICAgIGltZy5zcmMgPSBpbWdDb250ZW50LnZhbHVlO1xuXG4gICAgICBpbWFnZVdyYXBwZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgIGltYWdlUm93LmFwcGVuZENoaWxkKGltYWdlV3JhcHBlcik7XG4gICAgfVxuICAgIGNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKGltYWdlUm93KTtcbiAgfVxuXG4gIG1lc3NhZ2VEaXYuYXBwZW5kQ2hpbGQoY29udGVudFdyYXBwZXIpO1xuXG4gIG1lc3NhZ2VEaXYudXBkYXRlID0gKG1zZykgPT4ge1xuICAgIGNvbnN0IHRleHRDb250ZW50ID0gQXJyYXkuaXNBcnJheShtc2cuY29udGVudCkgPyBtc2cuY29udGVudFswXS52YWx1ZSA6IG1zZy5jb250ZW50O1xuICAgIHRleHREaXYuaW5uZXJIVE1MID0gbmxUb0JyKHRleHRDb250ZW50KTtcbiAgfTtcblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XG4gIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuXG4gIHJldHVybiBtZXNzYWdlRGl2O1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEVycm9yTWVzc2FnZSA9IChtb2RhbDogTW9kYWwsIGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXYgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgLi4uc3R5bGVzLm1lc3NhZ2UsXG4gICAgLi4uc3R5bGVzLmVycm9yTWVzc2FnZSxcbiAgfSk7XG5cbiAgY29uc3QgZXJyb3JJY29uID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5lcnJvckljb24pO1xuICBtZXNzYWdlRGl2LmFwcGVuZENoaWxkKGVycm9ySWNvbik7XG5cbiAgY29uc3QgdGV4dFNwYW4gPSBjcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHRleHRTcGFuLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgbWVzc2FnZURpdi5hcHBlbmRDaGlsZCh0ZXh0U3Bhbik7XG5cbiAgbW9kYWwuY2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1lc3NhZ2VEaXYpO1xuICBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcblxuICByZXR1cm4gbWVzc2FnZURpdjtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRBc3Npc3RhbnRNZXNzYWdlID0gKFxuICBtb2RhbDogTW9kYWwsXG4gIGNvbnRlbnQ6IFByb21wdCxcbiAgY29uZmlnOiBNb2RhbENvbmZpZyxcbiAgcHJvdmlkZWRJZD86IHN0cmluZyxcbikgPT4ge1xuICBpZiAobW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VEaXY6IFVwZGF0YWJsZUhUTUxFbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIC4uLnN0eWxlcy5tZXNzYWdlLFxuICAgIC4uLnN0eWxlcy5haU1lc3NhZ2UsXG4gIH0pO1xuXG4gIGNvbnN0IG1lc3NhZ2VJZCA9IHByb3ZpZGVkSWQgfHwgJ21zZy0nICsgRGF0ZS5ub3coKTtcblxuICBjb25zdCBjb250ZW50RGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1lc3NhZ2VDb250ZW50KTtcblxuICBjb25zdCB0ZXh0Q29udGVudCA9IEFycmF5LmlzQXJyYXkoY29udGVudCkgPyBjb250ZW50WzBdLnZhbHVlIDogY29udGVudDtcbiAgY29uc3QgaWZyYW1lID0gY3JlYXRlQ29udGVudElmcmFtZSh0ZXh0Q29udGVudCwgbW9kYWwsIGNvbmZpZy5jdXN0b21DU1MgPz8gW10pO1xuXG4gIGNvbnRlbnREaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblxuICBjb25zdCBhY3Rpb25zRGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1lc3NhZ2VBY3Rpb25zKTtcblxuICBjb25zdCBtZXNzYWdlID0gbW9kYWwuaGlzdG9yeVxuICAgIC5nZXRNZXNzYWdlcygpXG4gICAgLmZpbmQoKG0pID0+IG0uaWQgPT09IG1lc3NhZ2VJZCAmJiBtLnJvbGUgPT09ICdhc3Npc3RhbnQnKTtcblxuICBpZiAobWVzc2FnZSkge1xuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBpZiAoY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ICE9PSBmYWxzZSkge1xuICAgICAgICBhY3Rpb25zRGl2LmFwcGVuZChcbiAgICAgICAgICBjcmVhdGVBY3Rpb25CdXR0b24oe1xuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIG1vZGFsLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IG1vZGFsLmlzTG9hZGluZyxcbiAgICAgICAgICAgIGljb246ICdjb3B5JyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ29weScsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnQ29waWVkIScsXG4gICAgICAgICAgICBvbkNsaWNrOlxuICAgICAgICAgICAgICB0eXBlb2YgY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjb25maWcudGV4dEFjdGlvbnMuY29weVxuICAgICAgICAgICAgICAgIDogY29weVRvQ2xpcGJvYXJkLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50ZXh0QWN0aW9ucz8uaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFjdGlvbnNEaXYuYXBwZW5kKFxuICAgICAgICAgIGNyZWF0ZUFjdGlvbkJ1dHRvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgbW9kYWwsXG4gICAgICAgICAgICBkaXNhYmxlZDogbW9kYWwuaXNMb2FkaW5nLFxuICAgICAgICAgICAgaWNvbjogJ2luc2VydCcsXG4gICAgICAgICAgICBsYWJlbDogJ0luc2VydCcsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnSW5zZXJ0ZWQhJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGNvbmZpZy50ZXh0QWN0aW9ucy5pbnNlcnQsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBpZiAoY29uZmlnLmltYWdlQWN0aW9ucz8uY29weSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYWN0aW9uc0Rpdi5hcHBlbmQoXG4gICAgICAgICAgY3JlYXRlQWN0aW9uQnV0dG9uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBtb2RhbCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBtb2RhbC5pc0xvYWRpbmcsXG4gICAgICAgICAgICBpY29uOiAnY29weScsXG4gICAgICAgICAgICBsYWJlbDogJ0NvcHknLFxuICAgICAgICAgICAgbG9hZGluZ1RleHQ6ICdEb3dubG9hZGluZy4uLicsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnQ29waWVkIScsXG4gICAgICAgICAgICBvbkNsaWNrOiBhc3luYyAobXNnLCBtb2RhbCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgY29uZmlnLnRleHRBY3Rpb25zPy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICA/IGNvbmZpZy50ZXh0QWN0aW9ucy5jb3B5XG4gICAgICAgICAgICAgICAgICA6IGNvcHlUb0NsaXBib2FyZDtcblxuICAgICAgICAgICAgICBpZiAobXNnLmN0eC5kb3dubG9hZGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihtc2csIG1vZGFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGV4ZWN1dG9yLm1nci5kb3dubG9hZC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgdXJsOiBtc2cuY29udGVudCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgZmllbGQ6IGNvbmZpZy5maWVsZCxcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGNvbmZpZy5uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IGNvbmZpZy5yZXNvdXJjZSxcbiAgICAgICAgICAgICAgICBtZWRpYVNvdXJjZTogY29uZmlnLmltYWdlPy5tZWRpYVNvdXJjZSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgbXNnLmNvbnRlbnQgPSBkYXRhLmZ1bGxVcmw7XG4gICAgICAgICAgICAgIG1zZy5jdHguZG93bmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG1zZy5jdHgudXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICAgIG1zZy5jdHguZnVsbFVybCA9IGRhdGEuZnVsbFVybDtcblxuICAgICAgICAgICAgICBoYW5kbGVyKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5zZXJ0Q2IgPSBjb25maWcuaW1hZ2VBY3Rpb25zPy5pbnNlcnQ7XG4gICAgICBpZiAodHlwZW9mIGluc2VydENiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFjdGlvbnNEaXYuYXBwZW5kKFxuICAgICAgICAgIGNyZWF0ZUFjdGlvbkJ1dHRvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgbW9kYWwsXG4gICAgICAgICAgICBkaXNhYmxlZDogbW9kYWwuaXNMb2FkaW5nLFxuICAgICAgICAgICAgaWNvbjogJ2luc2VydCcsXG4gICAgICAgICAgICBsYWJlbDogJ0luc2VydCcsXG4gICAgICAgICAgICBjb21wbGV0ZWRUZXh0OiAnSW5zZXJ0ZWQhJyxcbiAgICAgICAgICAgIGxvYWRpbmdUZXh0OiAnRG93bmxvYWRpbmcuLi4nLFxuICAgICAgICAgICAgb25DbGljazogYXN5bmMgKG1zZywgbW9kYWwpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1zZy5jdHguZG93bmxvYWRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGluc2VydENiKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLmRvd25sb2FkLmltYWdlKHtcbiAgICAgICAgICAgICAgICB1cmw6IG1zZy5jb250ZW50IGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICBmaWVsZDogY29uZmlnLmZpZWxkLFxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogY29uZmlnLm5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogY29uZmlnLnJlc291cmNlLFxuICAgICAgICAgICAgICAgIG1lZGlhU291cmNlOiBjb25maWcuaW1hZ2U/Lm1lZGlhU291cmNlLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBtc2cuY29udGVudCA9IGRhdGEuZnVsbFVybDtcbiAgICAgICAgICAgICAgbXNnLmN0eC5kb3dubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbXNnLmN0eC51cmwgPSBkYXRhLnVybDtcbiAgICAgICAgICAgICAgbXNnLmN0eC5mdWxsVXJsID0gZGF0YS5mdWxsVXJsO1xuXG4gICAgICAgICAgICAgIGluc2VydENiKG1zZywgbW9kYWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtZXNzYWdlRGl2LmFwcGVuZChjb250ZW50RGl2LCBhY3Rpb25zRGl2KTtcblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XG4gIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuXG4gIG1lc3NhZ2VEaXYudXBkYXRlID0gKG1zZykgPT4ge1xuICAgIGNvbnN0IHRleHRDb250ZW50ID0gQXJyYXkuaXNBcnJheShtc2cuY29udGVudCkgPyBtc2cuY29udGVudFswXS52YWx1ZSA6IG1zZy5jb250ZW50O1xuICAgIGNvbnN0IGNvbnRlbnQgPSBtc2cudHlwZSA9PT0gJ2ltYWdlJyA/IGA8aW1nIHNyYz1cIiR7dGV4dENvbnRlbnR9XCIgLz5gIDogbmxUb0JyKHRleHRDb250ZW50KTtcbiAgICBpZnJhbWUuc3luY0NvbnRlbnQoY29udGVudCk7XG4gICAgaWZyYW1lLnN5bmNIZWlnaHQoKTtcbiAgfTtcblxuICByZXR1cm4gbWVzc2FnZURpdjtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJNZXNzYWdlID0gKG1zZzogTWVzc2FnZSwgbW9kYWw6IE1vZGFsLCBjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gIGlmIChtc2cuaGlkZGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG1zZy5yb2xlID09PSAndXNlcicpIHtcbiAgICByZXR1cm4gYWRkVXNlck1lc3NhZ2UobW9kYWwsIG1zZy5jb250ZW50KTtcbiAgfVxuXG4gIGlmIChtc2cudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgIHJldHVybiBhZGRBc3Npc3RhbnRNZXNzYWdlKG1vZGFsLCBgPGltZyBzcmM9XCIke21zZy5jb250ZW50fVwiIC8+YCwgY29uZmlnLCBtc2cuaWQpO1xuICB9XG5cbiAgcmV0dXJuIGFkZEFzc2lzdGFudE1lc3NhZ2UobW9kYWwsIG1zZy5jb250ZW50LCBjb25maWcsIG1zZy5pZCk7XG59O1xuXG5leHBvcnQgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UsIG1vZGFsOiBNb2RhbCkgPT4ge1xuICBjb25zdCB0ZXh0Q29udGVudCA9IEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSA/IG1lc3NhZ2UuY29udGVudFswXS52YWx1ZSA6IG1lc3NhZ2UuY29udGVudDtcblxuICBpZiAobmF2aWdhdG9yLmNsaXBib2FyZCAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0Q29udGVudCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhZGRFcnJvck1lc3NhZ2UobW9kYWwsIF8oJ21vZGFpLmNtcC5mYWlsZWRfY29weScpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dENvbnRlbnQ7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTtcbiAgICAgIHRleHRhcmVhLnNlbGVjdCgpO1xuXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhZGRFcnJvck1lc3NhZ2UobW9kYWwsIF8oJ21vZGFpLmNtcC5mYWlsZWRfY29weScpKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBubFRvQnIgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgSWZyYW1lID0gSFRNTElGcmFtZUVsZW1lbnQgJiB7XG4gIHN5bmNIZWlnaHQ6ICgpID0+IHZvaWQ7XG4gIHN5bmNDb250ZW50OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRlbnRJZnJhbWUgPSAoXG4gIHByb3ZpZGVkQ29udGVudDogc3RyaW5nLFxuICBtb2RhbDogTW9kYWwsXG4gIGN1c3RvbUNTUzogc3RyaW5nW10gPSBbXSxcbikgPT4ge1xuICBjb25zdCBjb250ZW50ID0gbmxUb0JyKHByb3ZpZGVkQ29udGVudCk7XG4gIGxldCBpc0xvYWRlZCA9IGZhbHNlO1xuICBsZXQgcGVuZGluZ0NvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGlmcmFtZSA9IGNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScsIHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB9KSBhcyBJZnJhbWU7XG5cbiAgY29uc3QgZ2V0SWZyYW1lRG9jdW1lbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnRXaW5kb3c/LmRvY3VtZW50O1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVN0eWxlU2hlZXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgICAgIGh0bWwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqIHtcbiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZSB7XG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2RlIHtcbiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFibGUge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiB7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAgMCAwLjVlbSAwO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAwIDAuMWVtIDA7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZUlmcmFtZUNvbnRlbnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgICAgPHN0eWxlPiR7Y3JlYXRlU3R5bGVTaGVldCgpfTwvc3R5bGU+XG4gICAgICAgICAgICAke2N1c3RvbUNTU1xuICAgICAgICAgICAgICAubWFwKChjc3MpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiJHtjc3N9XCIgLz5gO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuam9pbignJyl9XG4gICAgICAgIDwvaGVhZD5cbiAgICAgICAgPGJvZHkgc3R5bGU9XCJwYWRkaW5nOiAwOyBtYXgtd2lkdGg6IDEwMCU7IHdpZHRoOiAxMDAlOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiPiR7Y29udGVudH08L2JvZHk+XG4gICAgICAgIDwvaHRtbD5cbiAgICBgO1xuICB9O1xuXG4gIGNvbnN0IHNldHVwSWZyYW1lQ29udGVudCA9IChkb2M6IERvY3VtZW50LCBjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3JlYXRlU3R5bGVTaGVldCgpO1xuICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICAgIGN1c3RvbUNTUy5mb3JFYWNoKChjc3MpID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICBsaW5rLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgICAgbGluay5ocmVmID0gY3NzO1xuICAgICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSk7XG5cbiAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIGRvYy5ib2R5LnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgZG9jLmJvZHkuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7XG4gICAgZG9jLmJvZHkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZG9jLmJvZHkuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUNvbnRlbnQgPSAobmV3Q29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpc0xvYWRlZCkge1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgICAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQobmV3Q29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZG9jID0gZ2V0SWZyYW1lRG9jdW1lbnQoKTtcbiAgICBpZiAoIWRvYykge1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgICAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQobmV3Q29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRvYy5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpIHtcbiAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IG5ld0NvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwSWZyYW1lQ29udGVudChkb2MsIG5ld0NvbnRlbnQpO1xuICAgIH1cblxuICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gIH07XG5cbiAgaWZyYW1lLnN5bmNDb250ZW50ID0gKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHVwZGF0ZUNvbnRlbnQobmV3Q29udGVudCk7XG4gIH07XG5cbiAgaWZyYW1lLnN5bmNIZWlnaHQgPSAoKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IGlmcmFtZS5jb250ZW50V2luZG93Py5kb2N1bWVudC5ib2R5O1xuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnRzID0gYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuICAgIGxldCBtYXhIZWlnaHQgPSBib2R5Lm9mZnNldEhlaWdodDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIGJvdHRvbSk7XG4gICAgfVxuXG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArIDUgKyAncHgnO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBtb2RhbC5jaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9O1xuXG4gIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgaXNMb2FkZWQgPSB0cnVlO1xuICAgIGlmIChwZW5kaW5nQ29udGVudCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY29udGVudCA9IHBlbmRpbmdDb250ZW50O1xuICAgICAgcGVuZGluZ0NvbnRlbnQgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gZ2V0SWZyYW1lRG9jdW1lbnQoKTtcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgc2V0dXBJZnJhbWVDb250ZW50KGRvYywgY29udGVudCk7XG4gICAgICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmcmFtZS5zeW5jSGVpZ2h0KCk7XG4gIH07XG5cbiAgaWZyYW1lLnNyY2RvYyA9IGNyZWF0ZUlmcmFtZUNvbnRlbnQoY29udGVudCk7XG5cbiAgcmV0dXJuIGlmcmFtZTtcbn07XG4iLCJpbXBvcnQgeyBhcHBseVN0eWxlcywgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IGFkZEVycm9yTWVzc2FnZSB9IGZyb20gJy4vbWVzc2FnZUhhbmRsZXJzJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL2RvbS9idXR0b24nO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsLCBNb2RhbENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsU3RhdGUgPSB7XG4gIG1vZGFsT3BlbjogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9hZGluZ1N0YXRlID0gKG1vZGFsOiBNb2RhbCwgbG9hZGluZzogYm9vbGVhbiwgY29uZmlnOiBNb2RhbENvbmZpZykgPT4ge1xuICBtb2RhbC5pc0xvYWRpbmcgPSBsb2FkaW5nO1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgbW9kYWwubG9hZGluZ0luZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICB9IGVsc2Uge1xuICAgIG1vZGFsLmxvYWRpbmdJbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIG1vZGFsLm1lc3NhZ2VJbnB1dC5kaXNhYmxlZCA9IGxvYWRpbmc7XG4gIGlmIChsb2FkaW5nKSB7XG4gICAgYXBwbHlTdHlsZXMobW9kYWwubWVzc2FnZUlucHV0LCB7IC4uLnN0eWxlcy5pbnB1dCwgLi4uc3R5bGVzLmxvYWRpbmdJbnB1dCB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcHBseVN0eWxlcyhtb2RhbC5tZXNzYWdlSW5wdXQsIHN0eWxlcy5pbnB1dCk7XG4gIH1cblxuICBpZiAobG9hZGluZykge1xuICAgIG1vZGFsLmNsZWFyQ2hhdEJ0bi5kaXNhYmxlKCk7XG4gICAgbW9kYWwuc2VuZEJ0bi5kaXNhYmxlKCk7XG5cbiAgICBtb2RhbC5zdG9wQnRuLmVuYWJsZSgpO1xuICB9IGVsc2Uge1xuICAgIG1vZGFsLmNsZWFyQ2hhdEJ0bi5lbmFibGUoKTtcbiAgICBtb2RhbC5zZW5kQnRuLmVuYWJsZSgpO1xuXG4gICAgbW9kYWwuc3RvcEJ0bi5kaXNhYmxlKCk7XG4gIH1cblxuICBjb25zdCBoYXNNZXNzYWdlcyA9IG1vZGFsLmhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5sZW5ndGggPiAwO1xuICBpZiAobG9hZGluZyB8fCAhaGFzTWVzc2FnZXMpIHtcbiAgICBtb2RhbC50cnlBZ2FpbkJ0bi5kaXNhYmxlKCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kYWwudHJ5QWdhaW5CdG4uZW5hYmxlKCk7XG4gIH1cblxuICBPYmplY3QudmFsdWVzKG1vZGFsLnR5cGVCdXR0b25zKS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSBsb2FkaW5nO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpID09PSBjb25maWcudHlwZTtcblxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICBhcHBseVN0eWxlcyhidXR0b24sIHtcbiAgICAgICAgLi4uc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24sXG4gICAgICAgIC4uLihpc0FjdGl2ZSA/IHN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uQWN0aXZlIDoge30pLFxuICAgICAgICAuLi5zdHlsZXMuZGlzYWJsZWRCdXR0b24sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwbHlTdHlsZXMoYnV0dG9uLCB7XG4gICAgICAgIC4uLnN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uLFxuICAgICAgICAuLi4oaXNBY3RpdmUgPyBzdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbkFjdGl2ZSA6IHt9KSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgYWN0aW9uQnV0dG9ucyA9IG1vZGFsLmNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aW9uLWJ1dHRvbicpIGFzIE5vZGVMaXN0T2Y8QnV0dG9uPjtcbiAgYWN0aW9uQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBpZiAobG9hZGluZykge1xuICAgICAgYnV0dG9uLmRpc2FibGU/LigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24/LmVuYWJsZT8uKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVVcGxvYWRlZEltYWdlID0gKG1vZGFsOiBNb2RhbCkgPT4ge1xuICBpZiAobW9kYWwuaW1hZ2VQcmV2aWV3KSB7XG4gICAgbW9kYWwuaW1hZ2VQcmV2aWV3LnJlbW92ZSgpO1xuICAgIG1vZGFsLmltYWdlUHJldmlldyA9IHVuZGVmaW5lZDtcbiAgfVxuICBtb2RhbC51cGxvYWRlZEltYWdlID0gdW5kZWZpbmVkO1xuICBtb2RhbC5tZXNzYWdlSW5wdXQuc3R5bGUucGFkZGluZ0xlZnQgPSAnMTVweCc7XG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSBhc3luYyAoXG4gIG1vZGFsOiBNb2RhbCxcbiAgZmlsZU9yVXJsOiBGaWxlIHwgc3RyaW5nLFxuICBpc1JlbW90ZVVybDogYm9vbGVhbiA9IGZhbHNlLFxuKSA9PiB7XG4gIGlmICghaXNSZW1vdGVVcmwgJiYgZmlsZU9yVXJsIGluc3RhbmNlb2YgRmlsZSAmJiAhZmlsZU9yVXJsLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICBhZGRFcnJvck1lc3NhZ2UobW9kYWwsICdPbmx5IGltYWdlIGZpbGVzIGFyZSBhbGxvd2VkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG1vZGFsLnVwbG9hZGVkSW1hZ2UpIHtcbiAgICByZW1vdmVVcGxvYWRlZEltYWdlKG1vZGFsKTtcbiAgfVxuXG4gIGNvbnN0IGltYWdlUHJldmlldyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5pbWFnZVByZXZpZXcpO1xuICBjb25zdCBpbWcgPSBjcmVhdGVFbGVtZW50KCdpbWcnLCBzdHlsZXMuaW1hZ2VQcmV2aWV3SW1nKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICBjb25zdCByZW1vdmVCdG4gPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuaW1hZ2VQcmV2aWV3UmVtb3ZlLCAnw5cnKTtcblxuICBpZiAoaXNSZW1vdGVVcmwpIHtcbiAgICBpbWcuc3JjID0gZmlsZU9yVXJsIGFzIHN0cmluZztcbiAgICBtb2RhbC51cGxvYWRlZEltYWdlID0gaW1nLnNyYztcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkYXRhVVJMID0gYXdhaXQgbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICAgIH07XG5cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9O1xuXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlT3JVcmwgYXMgRmlsZSk7XG4gICAgfSk7XG5cbiAgICBpbWcuc3JjID0gZGF0YVVSTDtcbiAgICBtb2RhbC51cGxvYWRlZEltYWdlID0gZGF0YVVSTDtcbiAgfVxuXG4gIHJlbW92ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZW1vdmVVcGxvYWRlZEltYWdlKG1vZGFsKTtcbiAgfSk7XG5cbiAgaW1hZ2VQcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgaW1hZ2VQcmV2aWV3LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjA1KSc7XG4gICAgcmVtb3ZlQnRuLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gIH0pO1xuXG4gIGltYWdlUHJldmlldy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgIGltYWdlUHJldmlldy5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICByZW1vdmVCdG4uc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgfSk7XG5cbiAgaW1hZ2VQcmV2aWV3LmFwcGVuZChpbWcsIHJlbW92ZUJ0bik7XG4gIG1vZGFsLmltYWdlUHJldmlldyA9IGltYWdlUHJldmlldztcbiAgbW9kYWwubWVzc2FnZUlucHV0LnN0eWxlLnBhZGRpbmdMZWZ0ID0gJzg1cHgnO1xuICBtb2RhbC5pbnB1dFdyYXBwZXIuYXBwZW5kKGltYWdlUHJldmlldyk7XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBQcm9tcHQgfSBmcm9tICcuL2V4ZWN1dG9yJztcblxuZXhwb3J0IHR5cGUgTWVzc2FnZVR5cGUgPSAndGV4dCcgfCAnaW1hZ2UnO1xuXG5leHBvcnQgdHlwZSBVcGRhdGFibGVIVE1MRWxlbWVudCA9IEhUTUxFbGVtZW50ICYge1xuICB1cGRhdGU/OiAobXNnOiBNZXNzYWdlKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IHR5cGUgTWVzc2FnZSA9IHtcbiAgY29udGVudDogUHJvbXB0O1xuICBpZDogc3RyaW5nO1xuICBoaWRkZW46IGJvb2xlYW47XG4gIHJvbGU6IHN0cmluZztcbiAgdHlwZTogTWVzc2FnZVR5cGU7XG4gIGVsPzogVXBkYXRhYmxlSFRNTEVsZW1lbnQ7XG4gIGN0eDogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG50eXBlIE5hbWVzcGFjZSA9IHtcbiAgaGlzdG9yeTogTWVzc2FnZVtdO1xuICBpZFJlZjogUmVjb3JkPHN0cmluZywgTWVzc2FnZT47XG4gIG9uQWRkTWVzc2FnZTogKG1zZzogTWVzc2FnZSkgPT4gVXBkYXRhYmxlSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBfbmFtZXNwYWNlOiBSZWNvcmQ8c3RyaW5nLCBOYW1lc3BhY2U+ID0ge307XG5cbmNvbnN0IFJPTEVTID0ge1xuICB1c2VyOiAndXNlcicsXG4gIGFzc2lzdGFudDogJ2Fzc2lzdGFudCcsXG59O1xuXG5jb25zdCBhZGRNZXNzYWdlID0gKFxuICBrZXk6IHN0cmluZyxcbiAgY29udGVudDogUHJvbXB0LFxuICByb2xlOiBzdHJpbmcsXG4gIGlkOiBzdHJpbmcsXG4gIGhpZGRlbjogYm9vbGVhbiA9IGZhbHNlLFxuICB0eXBlOiBNZXNzYWdlVHlwZSA9ICd0ZXh0JyxcbikgPT4ge1xuICBjb25zdCBuYW1lc3BhY2UgPSBfbmFtZXNwYWNlW2tleV07XG4gIGlmICghbmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbXNnT2JqZWN0OiBNZXNzYWdlID0geyBjb250ZW50LCByb2xlLCBpZCwgaGlkZGVuLCB0eXBlLCBjdHg6IHt9IH07XG5cbiAgY29uc3QgaW5kZXggPSBuYW1lc3BhY2UuaGlzdG9yeS5wdXNoKG1zZ09iamVjdCkgLSAxO1xuICBpZiAoaWQpIHtcbiAgICBuYW1lc3BhY2UuaWRSZWZbaWRdID0gbmFtZXNwYWNlLmhpc3RvcnlbaW5kZXhdO1xuICB9XG5cbiAgbXNnT2JqZWN0LmVsID0gbmFtZXNwYWNlLm9uQWRkTWVzc2FnZShtc2dPYmplY3QpO1xufTtcblxuY29uc3QgdXBkYXRlTWVzc2FnZSA9IChrZXk6IHN0cmluZywgaWQ6IHN0cmluZywgY29udGVudDogc3RyaW5nLCB0eXBlOiBNZXNzYWdlVHlwZSA9ICd0ZXh0JykgPT4ge1xuICBjb25zdCBuYW1lc3BhY2UgPSBfbmFtZXNwYWNlW2tleV07XG4gIGlmICghbmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFuYW1lc3BhY2UuaWRSZWZbaWRdKSB7XG4gICAgYWRkTWVzc2FnZShrZXksIGNvbnRlbnQsIFJPTEVTLmFzc2lzdGFudCwgaWQsIGZhbHNlLCB0eXBlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBtc2cgPSBuYW1lc3BhY2UuaWRSZWZbaWRdO1xuICBtc2cuY29udGVudCA9IGNvbnRlbnQ7XG5cbiAgaWYgKG1zZy5lbCAmJiBtc2cuZWwudXBkYXRlKSB7XG4gICAgbXNnLmVsLnVwZGF0ZShtc2cpO1xuICB9XG59O1xuXG5jb25zdCBnZXRNZXNzYWdlID0gKGtleTogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IG5hbWVzcGFjZSA9IF9uYW1lc3BhY2Vba2V5XTtcbiAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gbmFtZXNwYWNlLmlkUmVmW2lkXTtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRIaXN0b3J5ID0ge1xuICBhZGRVc2VyTWVzc2FnZTogKGNvbnRlbnQ6IFByb21wdCwgaWQ6IHN0cmluZywgaGlkZGVuPzogYm9vbGVhbiwgdHlwZT86IE1lc3NhZ2VUeXBlKSA9PiB2b2lkO1xuICBhZGRBc3Npc3RhbnRNZXNzYWdlOiAoY29udGVudDogc3RyaW5nLCBpZDogc3RyaW5nLCB0eXBlPzogTWVzc2FnZVR5cGUpID0+IHZvaWQ7XG4gIHVwZGF0ZUFzc2lzdGFudE1lc3NhZ2U6IChpZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHR5cGU/OiBNZXNzYWdlVHlwZSkgPT4gdm9pZDtcbiAgZ2V0QXNzaXN0YW50TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IE1lc3NhZ2UgfCB1bmRlZmluZWQ7XG4gIGdldE1lc3NhZ2VzOiAoKSA9PiBNZXNzYWdlW107XG4gIGdldE1lc3NhZ2VzSGlzdG9yeTogKCkgPT4gUGljazxNZXNzYWdlLCAncm9sZScgfCAnY29udGVudCc+W107XG4gIGNsZWFySGlzdG9yeTogKCkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBjaGF0SGlzdG9yeSA9IHtcbiAgaW5pdDogKGtleTogc3RyaW5nLCBvbkFkZE1lc3NhZ2U6IE5hbWVzcGFjZVsnb25BZGRNZXNzYWdlJ10pOiBDaGF0SGlzdG9yeSA9PiB7XG4gICAgaWYgKCFfbmFtZXNwYWNlW2tleV0pIHtcbiAgICAgIF9uYW1lc3BhY2Vba2V5XSA9IHtcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIGlkUmVmOiB7fSxcbiAgICAgICAgb25BZGRNZXNzYWdlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBfbmFtZXNwYWNlW2tleV0ub25BZGRNZXNzYWdlID0gb25BZGRNZXNzYWdlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZFVzZXJNZXNzYWdlOiAoXG4gICAgICAgIGNvbnRlbnQ6IFByb21wdCxcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgaGlkZGVuPzogYm9vbGVhbixcbiAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUgPSAndGV4dCcsXG4gICAgICApID0+IHtcbiAgICAgICAgYWRkTWVzc2FnZShrZXksIGNvbnRlbnQsIFJPTEVTLnVzZXIsIGlkLCBoaWRkZW4sIHR5cGUpO1xuICAgICAgfSxcbiAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcsIGlkOiBzdHJpbmcsIHR5cGU6IE1lc3NhZ2VUeXBlID0gJ3RleHQnKSA9PiB7XG4gICAgICAgIGFkZE1lc3NhZ2Uoa2V5LCBjb250ZW50LCBST0xFUy5hc3Npc3RhbnQsIGlkLCBmYWxzZSwgdHlwZSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlQXNzaXN0YW50TWVzc2FnZTogKGlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgdHlwZTogTWVzc2FnZVR5cGUgPSAndGV4dCcpID0+IHtcbiAgICAgICAgdXBkYXRlTWVzc2FnZShrZXksIGlkLCBjb250ZW50LCB0eXBlKTtcbiAgICAgIH0sXG4gICAgICBnZXRBc3Npc3RhbnRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0TWVzc2FnZShrZXksIGlkKTtcbiAgICAgIH0sXG4gICAgICBnZXRNZXNzYWdlczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gX25hbWVzcGFjZVtrZXldLmhpc3Rvcnk7XG4gICAgICB9LFxuICAgICAgZ2V0TWVzc2FnZXNIaXN0b3J5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfbmFtZXNwYWNlW2tleV0uaGlzdG9yeS5tYXAoKG0pID0+ICh7XG4gICAgICAgICAgcm9sZTogbS5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudCxcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIGNsZWFySGlzdG9yeTogKCkgPT4ge1xuICAgICAgICBfbmFtZXNwYWNlW2tleV0uaGlzdG9yeSA9IFtdO1xuICAgICAgfSxcbiAgICB9O1xuICB9LFxufTtcbiIsImltcG9ydCB7IGRyYWcsIGVuZERyYWcgfSBmcm9tICcuL2RyYWdIYW5kbGVycyc7XG5pbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHJlbmRlck1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2VIYW5kbGVycyc7XG5pbXBvcnQgeyByZW1vdmVVcGxvYWRlZEltYWdlLCBzZXRMb2FkaW5nU3RhdGUsIGdsb2JhbFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBjaGF0SGlzdG9yeSwgTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NoYXRIaXN0b3J5JztcbmltcG9ydCB7IGV4ZWN1dG9yIH0gZnJvbSAnLi4vLi4vZXhlY3V0b3InO1xuXG5pbXBvcnQgdHlwZSB7IE1vZGFsLCBNb2RhbENvbmZpZywgTW9kYWxUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb21wdCB9IGZyb20gJy4uLy4uL2V4ZWN1dG9yJztcblxuZXhwb3J0IGNvbnN0IG9wZW5Nb2RhbCA9IChtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgbW9kYWwuY2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICBtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICBtb2RhbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIG1vZGFsLm1vZGFsT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICBjb25zdCBtZXNzYWdlcyA9IG1vZGFsLmhpc3RvcnkuZ2V0TWVzc2FnZXMoKS5maWx0ZXIoKG06IE1lc3NhZ2UpID0+ICFtLmhpZGRlbik7XG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIG1lc3NhZ2VzLmZvckVhY2goKG1zZzogTWVzc2FnZSkgPT4ge1xuICAgICAgcmVuZGVyTWVzc2FnZShtc2csIG1vZGFsLCBjb25maWcpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbW9kYWwuY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IG1vZGFsLmNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgbW9kYWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgfSwgMTAwKTtcblxuICByZXR1cm4gbW9kYWw7XG59O1xuXG5leHBvcnQgY29uc3QgY2xvc2VNb2RhbCA9IChtb2RhbDogTW9kYWwpID0+IHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IGRyYWcoZSwgbW9kYWwpKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IGVuZERyYWcobW9kYWwpKTtcblxuICBpZiAobW9kYWwubW9kYWxPdmVybGF5KSB7XG4gICAgbW9kYWwubW9kYWxPdmVybGF5LnJlbW92ZSgpO1xuICB9XG5cbiAgaWYgKG1vZGFsKSB7XG4gICAgbW9kYWwucmVtb3ZlKCk7XG4gIH1cblxuICBnbG9iYWxTdGF0ZS5tb2RhbE9wZW4gPSBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jIChcbiAgbW9kYWw6IE1vZGFsLFxuICBjb25maWc6IE1vZGFsQ29uZmlnLFxuICBwcm92aWRlZE1lc3NhZ2U/OiBzdHJpbmcsXG4gIGhpZGVQcm9tcHQ/OiBib29sZWFuLFxuKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2U6IFByb21wdCA9IHByb3ZpZGVkTWVzc2FnZVxuICAgID8gcHJvdmlkZWRNZXNzYWdlLnRyaW0oKVxuICAgIDogbW9kYWwubWVzc2FnZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgaWYgKCFtZXNzYWdlIHx8IG1vZGFsLmlzTG9hZGluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNldExvYWRpbmdTdGF0ZShtb2RhbCwgdHJ1ZSwgY29uZmlnKTtcblxuICBtb2RhbC5tZXNzYWdlSW5wdXQudmFsdWUgPSAnJztcbiAgbW9kYWwuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gIGxldCBtZXNzYWdlVG9TZW5kOiBQcm9tcHQgPSBtZXNzYWdlO1xuICBpZiAobW9kYWwudXBsb2FkZWRJbWFnZSAmJiBjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgbWVzc2FnZVRvU2VuZCA9IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB2YWx1ZTogbWVzc2FnZSBhcyBzdHJpbmcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICB2YWx1ZTogbW9kYWwudXBsb2FkZWRJbWFnZSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIHJlbW92ZVVwbG9hZGVkSW1hZ2UobW9kYWwpO1xuXG4gIGNvbnN0IG1lc3NhZ2VzID0gbW9kYWwuaGlzdG9yeS5nZXRNZXNzYWdlc0hpc3RvcnkoKTtcbiAgY29uc3QgbWVzc2FnZUlkID0gJ3VzZXItbXNnLScgKyBEYXRlLm5vdygpICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCk7XG4gIG1vZGFsLmhpc3RvcnkuYWRkVXNlck1lc3NhZ2UobWVzc2FnZVRvU2VuZCwgbWVzc2FnZUlkLCBoaWRlUHJvbXB0KTtcblxuICB0cnkge1xuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC5mcmVlVGV4dChcbiAgICAgICAge1xuICAgICAgICAgIG5hbWVzcGFjZTogY29uZmlnLm5hbWVzcGFjZSxcbiAgICAgICAgICBjb250ZXh0OiBjb25maWcuY29udGV4dCxcbiAgICAgICAgICBwcm9tcHQ6IG1lc3NhZ2VUb1NlbmQsXG4gICAgICAgICAgZmllbGQ6IGNvbmZpZy5maWVsZCB8fCAnJyxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSxcbiAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICBtb2RhbC5oaXN0b3J5LnVwZGF0ZUFzc2lzdGFudE1lc3NhZ2UoZGF0YS5pZCwgZGF0YS5jb250ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgbW9kYWwuYWJvcnRDb250cm9sbGVyLFxuICAgICAgKTtcblxuICAgICAgbW9kYWwuaGlzdG9yeS51cGRhdGVBc3Npc3RhbnRNZXNzYWdlKGRhdGEuaWQsIGRhdGEuY29udGVudCk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhlY3V0b3IubWdyLnByb21wdC5pbWFnZShcbiAgICAgICAge1xuICAgICAgICAgIHByb21wdDogbWVzc2FnZVRvU2VuZCBhcyBzdHJpbmcsXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGFsLmFib3J0Q29udHJvbGxlcixcbiAgICAgICk7XG5cbiAgICAgIG1vZGFsLmhpc3RvcnkuYWRkQXNzaXN0YW50TWVzc2FnZShkYXRhLnVybCwgZGF0YS5pZCwgJ2ltYWdlJyk7XG4gICAgfVxuXG4gICAgbW9kYWwuYWJvcnRDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYWRkRXJyb3JNZXNzYWdlKG1vZGFsLCBlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkRXJyb3JNZXNzYWdlKG1vZGFsLCAnVW5rbm93biBlcnJvcicpO1xuICB9XG5cbiAgc2V0TG9hZGluZ1N0YXRlKG1vZGFsLCBmYWxzZSwgY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdG9wR2VuZXJhdGlvbiA9IChtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgaWYgKCFtb2RhbC5pc0xvYWRpbmcgfHwgIW1vZGFsLmFib3J0Q29udHJvbGxlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1vZGFsLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICBtb2RhbC5hYm9ydENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gIHNldExvYWRpbmdTdGF0ZShtb2RhbCwgZmFsc2UsIGNvbmZpZyk7XG59O1xuXG5leHBvcnQgY29uc3QgdHJ5QWdhaW4gPSAobW9kYWw6IE1vZGFsLCBjb25maWc6IE1vZGFsQ29uZmlnKSA9PiB7XG4gIGlmIChtb2RhbC5oaXN0b3J5LmdldE1lc3NhZ2VzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbmZpZy50eXBlID09PSAndGV4dCcpIHtcbiAgICB2b2lkIHNlbmRNZXNzYWdlKG1vZGFsLCBjb25maWcsICdUcnkgYWdhaW4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29uZmlnLnR5cGUgPT09ICdpbWFnZScpIHtcbiAgICBjb25zdCBsYXRlc3RVc2VyTXNnID0gbW9kYWwuaGlzdG9yeVxuICAgICAgLmdldE1lc3NhZ2VzKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5maW5kKChtc2cpID0+IG1zZy5yb2xlID09PSAndXNlcicpO1xuICAgIGlmIChsYXRlc3RVc2VyTXNnKSB7XG4gICAgICB2b2lkIHNlbmRNZXNzYWdlKG1vZGFsLCBjb25maWcsIGxhdGVzdFVzZXJNc2cuY29udGVudCBhcyBzdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHN3aXRjaFR5cGUgPSAodHlwZTogTW9kYWxUeXBlLCBtb2RhbDogTW9kYWwsIGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgY29uZmlnLnR5cGUgPSB0eXBlO1xuXG4gIG1vZGFsLmhpc3RvcnkgPSBjaGF0SGlzdG9yeS5pbml0KGAke2NvbmZpZy5rZXl9LyR7Y29uZmlnLnR5cGV9YCwgKG1zZykgPT4ge1xuICAgIHJldHVybiByZW5kZXJNZXNzYWdlKG1zZywgbW9kYWwsIGNvbmZpZyk7XG4gIH0pO1xuXG4gIHdoaWxlIChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCkge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5yZW1vdmVDaGlsZChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCk7XG4gIH1cblxuICBtb2RhbC5jaGF0TWVzc2FnZXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgY29uc3QgbWVzc2FnZXMgPSBtb2RhbC5oaXN0b3J5LmdldE1lc3NhZ2VzKCkuZmlsdGVyKChtKSA9PiAhbS5oaWRkZW4pO1xuICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBtZXNzYWdlcy5mb3JFYWNoKChtc2cpID0+IHtcbiAgICAgIHJlbmRlck1lc3NhZ2UobXNnLCBtb2RhbCwgY29uZmlnKTtcbiAgICB9KTtcbiAgICBtb2RhbC50cnlBZ2FpbkJ0bi5lbmFibGUoKTtcbiAgICBtb2RhbC5jbGVhckNoYXRCdG4uZW5hYmxlKCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kYWwudHJ5QWdhaW5CdG4uZGlzYWJsZSgpO1xuICAgIG1vZGFsLmNsZWFyQ2hhdEJ0bi5kaXNhYmxlKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhckNoYXQgPSAobW9kYWw6IE1vZGFsKSA9PiB7XG4gIHdoaWxlIChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCkge1xuICAgIG1vZGFsLmNoYXRNZXNzYWdlcy5yZW1vdmVDaGlsZChtb2RhbC5jaGF0TWVzc2FnZXMuZmlyc3RDaGlsZCk7XG4gIH1cbiAgbW9kYWwuY2hhdE1lc3NhZ2VzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgbW9kYWwuaGlzdG9yeS5jbGVhckhpc3RvcnkoKTtcbiAgbW9kYWwudHJ5QWdhaW5CdG4uZGlzYWJsZSgpO1xuICBtb2RhbC5jbGVhckNoYXRCdG4uZGlzYWJsZSgpO1xufTtcbiIsImltcG9ydCB7IGNsb3NlTW9kYWwsIG9wZW5Nb2RhbCwgc2VuZE1lc3NhZ2UgfSBmcm9tICcuL21vZGFsQWN0aW9ucyc7XG5pbXBvcnQgeyBidWlsZE1vZGFsIH0gZnJvbSAnLi9tb2RhbEJ1aWxkZXInO1xuaW1wb3J0IHsgZ2xvYmFsU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcblxuaW1wb3J0IHR5cGUgeyBNb2RhbENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgbW9kYWxUeXBlcyA9IFsndGV4dCcsICdpbWFnZSddIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTW9kYWwgPSAoY29uZmlnOiBNb2RhbENvbmZpZykgPT4ge1xuICBpZiAoZ2xvYmFsU3RhdGUubW9kYWxPcGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFjb25maWcua2V5KSB7XG4gICAgYWxlcnQoJ2tleSBpcyByZXF1aXJlZCBjb25maWcgcHJvcGVydHknKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29uZmlnLm92ZXJsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbmZpZy5vdmVybGF5ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICghY29uZmlnLnR5cGUpIHtcbiAgICBjb25maWcudHlwZSA9ICd0ZXh0JztcbiAgfVxuXG4gIGlmICghY29uZmlnLmF2YWlsYWJsZVR5cGVzKSB7XG4gICAgY29uZmlnLmF2YWlsYWJsZVR5cGVzID0gW2NvbmZpZy50eXBlXTtcbiAgfVxuXG4gIGNvbmZpZy5hdmFpbGFibGVUeXBlcyA9IGNvbmZpZy5hdmFpbGFibGVUeXBlcy5maWx0ZXIoKHR5cGUpID0+IG1vZGFsVHlwZXMuaW5jbHVkZXModHlwZSkpO1xuXG4gIGlmIChjb25maWcuYXZhaWxhYmxlVHlwZXMubGVuZ3RoID4gMCAmJiAhY29uZmlnLmF2YWlsYWJsZVR5cGVzLmluY2x1ZGVzKGNvbmZpZy50eXBlKSkge1xuICAgIGNvbmZpZy5hdmFpbGFibGVUeXBlcy51bnNoaWZ0KGNvbmZpZy50eXBlKTtcbiAgfVxuXG4gIGNvbnN0IG1vZGFsID0gYnVpbGRNb2RhbChjb25maWcpO1xuXG4gIG1vZGFsLmFwaSA9IHtcbiAgICBzZW5kTWVzc2FnZTogYXN5bmMgKHByb3ZpZGVkTWVzc2FnZT86IHN0cmluZywgaGlkZVByb21wdD86IGJvb2xlYW4pID0+IHtcbiAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKG1vZGFsLCBjb25maWcsIHByb3ZpZGVkTWVzc2FnZSwgaGlkZVByb21wdCk7XG4gICAgfSxcbiAgICBjbG9zZU1vZGFsOiAoKSA9PiB7XG4gICAgICBjbG9zZU1vZGFsKG1vZGFsKTtcbiAgICB9LFxuICB9O1xuXG4gIG9wZW5Nb2RhbChtb2RhbCwgY29uZmlnKTtcbiAgZ2xvYmFsU3RhdGUubW9kYWxPcGVuID0gdHJ1ZTtcblxuICByZXR1cm4gbW9kYWw7XG59O1xuIiwiaW1wb3J0IHsgYXBwbHlTdHlsZXMsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBkcmFnLCBlbmREcmFnLCBpbml0RHJhZyB9IGZyb20gJy4vZHJhZ0hhbmRsZXJzJztcbmltcG9ydCB7IGFkZEVycm9yTWVzc2FnZSwgcmVuZGVyTWVzc2FnZSB9IGZyb20gJy4vbWVzc2FnZUhhbmRsZXJzJztcbmltcG9ydCB7XG4gIGNsZWFyQ2hhdCxcbiAgY2xvc2VNb2RhbCxcbiAgc2VuZE1lc3NhZ2UsXG4gIHN0b3BHZW5lcmF0aW9uLFxuICBzd2l0Y2hUeXBlLFxuICB0cnlBZ2Fpbixcbn0gZnJvbSAnLi9tb2RhbEFjdGlvbnMnO1xuaW1wb3J0IHsgaGFuZGxlSW1hZ2VVcGxvYWQgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCB7IGNoYXRIaXN0b3J5IH0gZnJvbSAnLi4vLi4vY2hhdEhpc3RvcnknO1xuaW1wb3J0IHsgYnV0dG9uIH0gZnJvbSAnLi4vZG9tL2J1dHRvbic7XG5cbmltcG9ydCB0eXBlIHsgTW9kYWwsIE1vZGFsQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBidWlsZE1vZGFsID0gKGNvbmZpZzogTW9kYWxDb25maWcpID0+IHtcbiAgY29uc3QgbW9kYWxPdmVybGF5ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1vZGFsT3ZlcmxheSk7XG5cbiAgY29uc3QgY2hhdE1vZGFsID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRNb2RhbCkgYXMgTW9kYWw7XG4gIGNoYXRNb2RhbC5oaXN0b3J5ID0gY2hhdEhpc3RvcnkuaW5pdChgJHtjb25maWcua2V5fS8ke2NvbmZpZy50eXBlfWAsIChtc2cpID0+IHtcbiAgICByZXR1cm4gcmVuZGVyTWVzc2FnZShtc2csIGNoYXRNb2RhbCwgY29uZmlnKTtcbiAgfSk7XG5cbiAgY29uc3QgY2hhdEhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0SGVhZGVyKTtcbiAgY29uc3QgY2hhdFRpdGxlID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRUaXRsZSwgJ21vZEFJIEFzc2lzdGFudCcpO1xuICBjb25zdCBjaGF0Q29udHJvbHMgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuY2hhdENvbnRyb2xzKTtcblxuICBjb25zdCBjbG9zZUJ0biA9IGJ1dHRvbign4pyVJywgKCkgPT4gY2xvc2VNb2RhbChjaGF0TW9kYWwpLCBzdHlsZXMuY29udHJvbEJ1dHRvbik7XG4gIGNoYXRDb250cm9scy5hcHBlbmQoY2xvc2VCdG4pO1xuICBjaGF0SGVhZGVyLmFwcGVuZChjaGF0VGl0bGUsIGNoYXRDb250cm9scyk7XG5cbiAgY29uc3QgY2hhdE1lc3NhZ2VzID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmNoYXRNZXNzYWdlcyk7XG5cbiAgY29uc3QgY2hhdElucHV0QXJlYSA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy5jaGF0SW5wdXQpO1xuXG4gIGNvbnN0IGlucHV0Um93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmlucHV0Um93KTtcbiAgY29uc3QgaW5wdXRXcmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmlucHV0V3JhcHBlcik7XG5cbiAgY29uc3QgbWVzc2FnZUlucHV0ID0gY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnLCBzdHlsZXMuaW5wdXQpO1xuICBtZXNzYWdlSW5wdXQucGxhY2Vob2xkZXIgPSAnVHlwZSB5b3VyIG1lc3NhZ2UuLi4nO1xuXG4gIG1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbWVzc2FnZUlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJyMwMEI2REUnO1xuICB9KTtcblxuICBtZXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBtZXNzYWdlSW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2UyZThmMCc7XG4gIH0pO1xuXG4gIG1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBtZXNzYWdlSW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2UyZThmMCc7XG5cbiAgICBsZXQgaW1hZ2VGaWxlOiBGaWxlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHJlbW90ZUltYWdlVXJsOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuICAgIGlmICghZGF0YVRyYW5zZmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBmaWxlcyA9IGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBpZiAoZmlsZXM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcbiAgICAgIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgaW1hZ2VGaWxlID0gZmlsZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWltYWdlRmlsZSkge1xuICAgICAgY29uc3QgaW1nVXJsID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvdXJpLWxpc3QnKTtcbiAgICAgIGlmIChpbWdVcmwpIHtcbiAgICAgICAgcmVtb3RlSW1hZ2VVcmwgPSBpbWdVcmw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGltYWdlRmlsZSkge1xuICAgICAgYXdhaXQgaGFuZGxlSW1hZ2VVcGxvYWQoY2hhdE1vZGFsLCBpbWFnZUZpbGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZW1vdGVJbWFnZVVybCkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICBjb25zdCBpc1JlbW90ZSA9ICFyZW1vdGVJbWFnZVVybC5zdGFydHNXaXRoKHVybC5vcmlnaW4pO1xuXG4gICAgICBpZiAoaXNSZW1vdGUpIHtcbiAgICAgICAgYXdhaXQgaGFuZGxlSW1hZ2VVcGxvYWQoY2hhdE1vZGFsLCByZW1vdGVJbWFnZVVybCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1vdGVJbWFnZVVybCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgaWYgKGJsb2IudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgJ2ltYWdlLnBuZycsIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlSW1hZ2VVcGxvYWQoY2hhdE1vZGFsLCBmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBhZGRFcnJvck1lc3NhZ2UoY2hhdE1vZGFsLCAnRmFpbGVkIHRvIGZldGNoIGFuIGltYWdlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkRXJyb3JNZXNzYWdlKGNoYXRNb2RhbCwgJ09ubHkgaW1hZ2UgZmlsZXMgYXJlIGFsbG93ZWQnKTtcbiAgfSk7XG5cbiAgbWVzc2FnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgYXN5bmMgKGUpID0+IHtcbiAgICBjb25zdCBpdGVtcyA9IGUuY2xpcGJvYXJkRGF0YT8uaXRlbXM7XG4gICAgaWYgKCFpdGVtcykgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGl0ZW1zW2ldLnR5cGUuaW5kZXhPZignaW1hZ2UnKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW1zW2ldLmdldEFzRmlsZSgpO1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBhd2FpdCBoYW5kbGVJbWFnZVVwbG9hZChjaGF0TW9kYWwsIGZpbGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjbG9zZU1vZGFsKGNoYXRNb2RhbCk7XG4gIH0pO1xuXG4gIGNvbnN0IGJ1dHRvbnNDb2x1bW4gPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMuYnV0dG9uc0NvbHVtbik7XG5cbiAgY29uc3Qgc2VuZEJ0biA9IGJ1dHRvbihcbiAgICBbY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5zZW5kSWNvbiksICdTZW5kJ10sXG4gICAgKCkgPT4gc2VuZE1lc3NhZ2UoY2hhdE1vZGFsLCBjb25maWcpLFxuICAgIHN0eWxlcy5zZW5kQnV0dG9uLFxuICAgIHN0eWxlcy5kaXNhYmxlZEJ1dHRvbixcbiAgKTtcblxuICBjb25zdCBhY3Rpb25CdXR0b25zUm93ID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLmFjdGlvbkJ1dHRvbnNSb3cpO1xuXG4gIGNvbnN0IHN0b3BCdG4gPSBidXR0b24oXG4gICAgY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5zdG9wSWNvbiksXG4gICAgKCkgPT4gc3RvcEdlbmVyYXRpb24oY2hhdE1vZGFsLCBjb25maWcpLFxuICAgIHN0eWxlcy5pY29uQnV0dG9uLFxuICAgIHN0eWxlcy5kaXNhYmxlZEJ1dHRvbixcbiAgICB7XG4gICAgICB0aXRsZTogJ1N0b3AgR2VuZXJhdGlvbicsXG4gICAgfSxcbiAgKTtcbiAgc3RvcEJ0bi5kaXNhYmxlKCk7XG5cbiAgY29uc3QgdHJ5QWdhaW5CdG4gPSBidXR0b24oXG4gICAgY3JlYXRlRWxlbWVudCgnc3BhbicsIHN0eWxlcy5yZWZyZXNoSWNvbiksXG4gICAgKCkgPT4gdHJ5QWdhaW4oY2hhdE1vZGFsLCBjb25maWcpLFxuICAgIHN0eWxlcy5pY29uQnV0dG9uLFxuICAgIHN0eWxlcy5kaXNhYmxlZEJ1dHRvbixcbiAgICB7XG4gICAgICB0aXRsZTogJ1RyeSBBZ2FpbicsXG4gICAgfSxcbiAgKTtcblxuICBhY3Rpb25CdXR0b25zUm93LmFwcGVuZChzdG9wQnRuLCB0cnlBZ2FpbkJ0bik7XG4gIGJ1dHRvbnNDb2x1bW4uYXBwZW5kKHNlbmRCdG4sIGFjdGlvbkJ1dHRvbnNSb3cpO1xuICBpbnB1dFdyYXBwZXIuYXBwZW5kKG1lc3NhZ2VJbnB1dCk7XG4gIGlucHV0Um93LmFwcGVuZChpbnB1dFdyYXBwZXIsIGJ1dHRvbnNDb2x1bW4pO1xuXG4gIGNvbnN0IGxvYWRpbmdJbmRpY2F0b3IgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzdHlsZXMubG9hZGluZ0luZGljYXRvcik7XG4gIGxvYWRpbmdJbmRpY2F0b3IuaW5uZXJIVE1MID0gYFxuICAgIDxzdHlsZT5cbiAgICAgICAgQGtleWZyYW1lcyBsb2FkaW5nRG90UHVsc2Uge1xuICAgICAgICAgICAgMCUsIDgwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC42KTsgb3BhY2l0eTogMC4zOyB9XG4gICAgICAgICAgICA0MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9XG4gICAgICAgIH1cbiAgICAgICAgLmxvYWRpbmctZG90cyB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmxvYWRpbmctZG90IHtcbiAgICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2QjcyODA7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBhbmltYXRpb246IGxvYWRpbmdEb3RQdWxzZSAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0IGJvdGg7XG4gICAgICAgIH1cbiAgICAgICAgLmxvYWRpbmctZG90Om50aC1jaGlsZCgxKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOyB9XG4gICAgICAgIC5sb2FkaW5nLWRvdDpudGgtY2hpbGQoMikgeyBhbmltYXRpb24tZGVsYXk6IC0wLjE2czsgfVxuICAgICAgICAubG9hZGluZy1kb3Q6bnRoLWNoaWxkKDMpIHsgYW5pbWF0aW9uLWRlbGF5OiAwczsgfVxuICAgIDwvc3R5bGU+XG4gICAgPGRpdiBjbGFzcz1cImxvYWRpbmctZG90c1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZy1kb3RcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctZG90XCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWRvdFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuYDtcblxuICBpbnB1dFdyYXBwZXIuYXBwZW5kKGxvYWRpbmdJbmRpY2F0b3IpO1xuXG4gIGNvbnN0IG1vZGFsRm9vdGVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLm1vZGFsRm9vdGVyKTtcbiAgY29uc3QgdHlwZVNlbGVjdG9yID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLnR5cGVTZWxlY3Rvcik7XG4gIGNvbnN0IHR5cGVMYWJlbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN0eWxlcy50eXBlTGFiZWwsICdHZW5lcmF0ZTonKTtcbiAgY29uc3QgdHlwZVRvZ2dsZUdyb3VwID0gY3JlYXRlRWxlbWVudCgnZGl2Jywgc3R5bGVzLnR5cGVUb2dnbGVHcm91cCk7XG5cbiAgY29uc3QgdHlwZUJ1dHRvbnM6IHsgW2tleTogc3RyaW5nXTogSFRNTEJ1dHRvbkVsZW1lbnQgfSA9IHt9O1xuICBjb25zdCBhdmFpbGFibGVUeXBlcyA9IGNvbmZpZy5hdmFpbGFibGVUeXBlcyA/PyBbXTtcblxuICBhdmFpbGFibGVUeXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlRWxlbWVudChcbiAgICAgICdidXR0b24nLFxuICAgICAgc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24sXG4gICAgICB0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKSxcbiAgICApIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGlmICh0eXBlID09PSBjb25maWcudHlwZSkge1xuICAgICAgYXBwbHlTdHlsZXMoYnV0dG9uLCB7IC4uLnN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uLCAuLi5zdHlsZXMudHlwZVRvZ2dsZUJ1dHRvbkFjdGl2ZSB9KTtcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT09IGNvbmZpZy50eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LnZhbHVlcyh0eXBlQnV0dG9ucykuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGFwcGx5U3R5bGVzKGJ0biwgc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24pO1xuICAgICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBhcHBseVN0eWxlcyhidXR0b24sIHsgLi4uc3R5bGVzLnR5cGVUb2dnbGVCdXR0b24sIC4uLnN0eWxlcy50eXBlVG9nZ2xlQnV0dG9uQWN0aXZlIH0pO1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgc3dpdGNoVHlwZSh0eXBlLCBjaGF0TW9kYWwsIGNvbmZpZyk7XG4gICAgfSk7XG4gICAgdHlwZUJ1dHRvbnNbdHlwZV0gPSBidXR0b247XG4gICAgdHlwZVRvZ2dsZUdyb3VwLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gIH0pO1xuXG4gIHR5cGVTZWxlY3Rvci5hcHBlbmQodHlwZUxhYmVsLCB0eXBlVG9nZ2xlR3JvdXApO1xuICBjaGF0SW5wdXRBcmVhLmFwcGVuZChpbnB1dFJvdyk7XG4gIGNoYXRNb2RhbC5hcHBlbmQoY2hhdEhlYWRlciwgY2hhdE1lc3NhZ2VzLCBjaGF0SW5wdXRBcmVhKTtcblxuICBtb2RhbEZvb3Rlci5hcHBlbmQodHlwZVNlbGVjdG9yKTtcblxuICBjb25zdCBjbGVhckNoYXRCdG4gPSBidXR0b24oXG4gICAgJ0NsZWFyIENoYXQnLFxuICAgICgpID0+IGNsZWFyQ2hhdChjaGF0TW9kYWwpLFxuICAgIHN0eWxlcy5idXR0b24sXG4gICAgc3R5bGVzLmRpc2FibGVkQnV0dG9uLFxuICApO1xuXG4gIG1vZGFsRm9vdGVyLmFwcGVuZChjbGVhckNoYXRCdG4pO1xuXG4gIGNoYXRNb2RhbC5hcHBlbmQobW9kYWxGb290ZXIpO1xuXG4gIGlmIChjb25maWcub3ZlcmxheSkge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1vZGFsT3ZlcmxheSk7XG4gIH1cblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZChjaGF0TW9kYWwpO1xuXG4gIGlmIChjaGF0TW9kYWwuaGlzdG9yeS5nZXRNZXNzYWdlcygpLmxlbmd0aCA9PT0gMCkge1xuICAgIGNsZWFyQ2hhdEJ0bi5kaXNhYmxlKCk7XG4gICAgdHJ5QWdhaW5CdG4uZGlzYWJsZSgpO1xuICB9XG5cbiAgbWVzc2FnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2b2lkIHNlbmRNZXNzYWdlKGNoYXRNb2RhbCwgY29uZmlnKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNoYXRIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IGluaXREcmFnKGUsIGNoYXRNb2RhbCkpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4gZHJhZyhlLCBjaGF0TW9kYWwpKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IGVuZERyYWcoY2hhdE1vZGFsKSk7XG5cbiAgY2hhdE1vZGFsLm1vZGFsT3ZlcmxheSA9IG1vZGFsT3ZlcmxheTtcbiAgY2hhdE1vZGFsLmNoYXRIZWFkZXIgPSBjaGF0SGVhZGVyO1xuICBjaGF0TW9kYWwuY2xvc2VCdG4gPSBjbG9zZUJ0bjtcbiAgY2hhdE1vZGFsLmNoYXRNZXNzYWdlcyA9IGNoYXRNZXNzYWdlcztcbiAgY2hhdE1vZGFsLm1lc3NhZ2VJbnB1dCA9IG1lc3NhZ2VJbnB1dDtcbiAgY2hhdE1vZGFsLnNlbmRCdG4gPSBzZW5kQnRuO1xuICBjaGF0TW9kYWwudHJ5QWdhaW5CdG4gPSB0cnlBZ2FpbkJ0bjtcbiAgY2hhdE1vZGFsLnN0b3BCdG4gPSBzdG9wQnRuO1xuICBjaGF0TW9kYWwuY2xlYXJDaGF0QnRuID0gY2xlYXJDaGF0QnRuO1xuICBjaGF0TW9kYWwubG9hZGluZ0luZGljYXRvciA9IGxvYWRpbmdJbmRpY2F0b3I7XG4gIGNoYXRNb2RhbC50eXBlU2VsZWN0b3IgPSB0eXBlU2VsZWN0b3I7XG4gIGNoYXRNb2RhbC50eXBlQnV0dG9ucyA9IHR5cGVCdXR0b25zO1xuICBjaGF0TW9kYWwuaW5wdXRXcmFwcGVyID0gaW5wdXRXcmFwcGVyO1xuXG4gIGNoYXRNb2RhbC5pc0RyYWdnaW5nID0gZmFsc2U7XG4gIGNoYXRNb2RhbC5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgY2hhdE1vZGFsLmFib3J0Q29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgY2hhdE1vZGFsLm9mZnNldFggPSAwO1xuICBjaGF0TW9kYWwub2Zmc2V0WSA9IDA7XG5cbiAgcmV0dXJuIGNoYXRNb2RhbDtcbn07XG4iLCJ0eXBlIFRleHRhcmVhT3ZlcmxheU9wdGlvbnMgPSB7XG4gIGluZGljYXRvclR5cGU/OiAnc3Bpbm5lcicgfCAnZG90cyc7XG4gIG92ZXJsYXlDb2xvcj86IHN0cmluZztcbiAgaW5kaWNhdG9yQ29sb3I/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTG9hZGluZ092ZXJsYXkgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBvcHRpb25zOiBUZXh0YXJlYU92ZXJsYXlPcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIGluZGljYXRvclR5cGU6IG9wdGlvbnMuaW5kaWNhdG9yVHlwZSB8fCAnc3Bpbm5lcicsXG4gICAgb3ZlcmxheUNvbG9yOiBvcHRpb25zLm92ZXJsYXlDb2xvciB8fCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJyxcbiAgICBpbmRpY2F0b3JDb2xvcjogb3B0aW9ucy5pbmRpY2F0b3JDb2xvciB8fCAnIzM0OThkYicsXG4gIH07XG5cbiAgY29uc3Qgb3ZlcmxheTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgaW5kaWNhdG9yOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGNvbnN0IHRleHRhcmVhU3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIGNvbnN0IHRleHRhcmVhUmVjdDogRE9NUmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgaWYgKCFvcHRpb25zLmluZGljYXRvckNvbG9yKSB7XG4gICAgY29uZmlnLmluZGljYXRvclR5cGUgPSB0ZXh0YXJlYVJlY3QuaGVpZ2h0IDw9IDUwID8gJ2RvdHMnIDogJ3NwaW5uZXInO1xuICB9XG5cbiAgb3ZlcmxheS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIG92ZXJsYXkuc3R5bGUudG9wID0gJzAnO1xuICBvdmVybGF5LnN0eWxlLmxlZnQgPSAnMCc7XG4gIG92ZXJsYXkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gIG92ZXJsYXkuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbmZpZy5vdmVybGF5Q29sb3I7XG4gIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgb3ZlcmxheS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICBvdmVybGF5LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgb3ZlcmxheS5zdHlsZS56SW5kZXggPSAnMTAwMDAnO1xuICBvdmVybGF5LnN0eWxlLmJvcmRlclJhZGl1cyA9IHRleHRhcmVhU3R5bGVzLmJvcmRlclJhZGl1cztcblxuICBsZXQgc3R5bGVUZXh0ID0gJyc7XG5cbiAgaWYgKGNvbmZpZy5pbmRpY2F0b3JUeXBlID09PSAnc3Bpbm5lcicpIHtcbiAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyID0gYDRweCBzb2xpZCAjZjNmM2YzYDtcbiAgICBpbmRpY2F0b3Iuc3R5bGUuYm9yZGVyVG9wID0gYDRweCBzb2xpZCAke2NvbmZpZy5pbmRpY2F0b3JDb2xvcn1gO1xuICAgIGluZGljYXRvci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICBpbmRpY2F0b3Iuc3R5bGUud2lkdGggPSAnMzBweCc7XG4gICAgaW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9ICczMHB4JztcbiAgICBpbmRpY2F0b3Iuc3R5bGUuYW5pbWF0aW9uID0gJ3RleHRhcmVhT3ZlcmxheVNwaW4gMXMgbGluZWFyIGluZmluaXRlJztcblxuICAgIHN0eWxlVGV4dCA9IGBcbiAgICAgIEBrZXlmcmFtZXMgdGV4dGFyZWFPdmVybGF5U3BpbiB7XG4gICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICAgIH1cbiAgICBgO1xuICB9IGVsc2UgaWYgKGNvbmZpZy5pbmRpY2F0b3JUeXBlID09PSAnZG90cycpIHtcbiAgICBpbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBpbmRpY2F0b3Iuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgIGluZGljYXRvci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgY29uc3QgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkb3Quc3R5bGUud2lkdGggPSAnOHB4JztcbiAgICAgIGRvdC5zdHlsZS5oZWlnaHQgPSAnOHB4JztcbiAgICAgIGRvdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgIGRvdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb25maWcuaW5kaWNhdG9yQ29sb3I7XG4gICAgICBkb3Quc3R5bGUubWFyZ2luID0gJzAgNHB4JztcbiAgICAgIGRvdC5zdHlsZS5hbmltYXRpb24gPSBgdGV4dGFyZWFPdmVybGF5RG90UHVsc2UgMS40cyBpbmZpbml0ZSBlYXNlLWluLW91dGA7XG4gICAgICBkb3Quc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBgJHtpICogMC4yfXNgO1xuICAgICAgaW5kaWNhdG9yLmFwcGVuZENoaWxkKGRvdCk7XG4gICAgfVxuXG4gICAgc3R5bGVUZXh0ID0gYFxuICAgICAgQGtleWZyYW1lcyB0ZXh0YXJlYU92ZXJsYXlEb3RQdWxzZSB7XG4gICAgICAgIDAlLCA4MCUsIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDApOyBvcGFjaXR5OiAwLjU7IH1cbiAgICAgICAgNDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgb3BhY2l0eTogMTsgfVxuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBjb25zdCBzdHlsZVNoZWV0OiBIVE1MU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGVTaGVldC50ZXh0Q29udGVudCA9IHN0eWxlVGV4dDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcblxuICBvdmVybGF5LmFwcGVuZENoaWxkKGluZGljYXRvcik7XG5cbiAgY29uc3QgcGFyZW50U3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoXG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50IGFzIEVsZW1lbnQsXG4gICk7XG4gIGxldCB3cmFwcGVyOiBIVE1MRWxlbWVudDtcblxuICBpZiAoWydyZWxhdGl2ZScsICdhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YocGFyZW50U3R5bGVzLnBvc2l0aW9uKSA9PT0gLTEpIHtcbiAgICB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgd3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3RleHRhcmVhUmVjdC53aWR0aH1weGA7XG4gICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHt0ZXh0YXJlYVJlY3QuaGVpZ2h0fXB4YDtcbiAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblxuICAgIGVsZW1lbnQucGFyZW50Tm9kZT8uaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGVsZW1lbnQpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgd3JhcHBlciA9IGVsZW1lbnQucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgfVxuXG4gIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICBjb25zdCB1cGRhdGVkUmVjdDogRE9NUmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGlmICh3cmFwcGVyICE9PSBlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gYCR7dXBkYXRlZFJlY3Qud2lkdGh9cHhgO1xuICAgIHdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dXBkYXRlZFJlY3QuaGVpZ2h0fXB4YDtcbiAgfVxuXG4gIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgcmV0dXJuICgpOiB2b2lkID0+IHtcbiAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG5cbiAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgIHN0eWxlU2hlZXQucmVtb3ZlKCk7XG4gICAgaWYgKHdyYXBwZXIgIT09IGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgd3JhcHBlci5wYXJlbnROb2RlPy5pbnNlcnRCZWZvcmUoZWxlbWVudCwgd3JhcHBlcik7XG4gICAgICB3cmFwcGVyLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVNb2RhbCB9IGZyb20gJy4vbG9jYWxDaGF0JztcbmltcG9ydCB7IGNyZWF0ZUxvYWRpbmdPdmVybGF5IH0gZnJvbSAnLi9vdmVybGF5JztcblxuaW1wb3J0IHR5cGUgeyBNb2RhbENvbmZpZyB9IGZyb20gJy4vbG9jYWxDaGF0L3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHVpID0ge1xuICBjcmVhdGVMb2FkaW5nT3ZlcmxheSxcbiAgbG9jYWxDaGF0OiAoY29uZmlnOiBNb2RhbENvbmZpZykgPT4ge1xuICAgIHJldHVybiBjcmVhdGVNb2RhbChjb25maWcpO1xuICB9LFxufTtcbiIsImltcG9ydCB7IGV4ZWN1dG9yIH0gZnJvbSAnLi9leGVjdXRvcic7XG5pbXBvcnQgeyBoaXN0b3J5IH0gZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCB7IHVpIH0gZnJvbSAnLi91aSc7XG5pbXBvcnQgeyBjcmVhdGVMb2FkaW5nT3ZlcmxheSB9IGZyb20gJy4vdWkvb3ZlcmxheSc7XG5cbmltcG9ydCB0eXBlIHsgTWVzc2FnZSB9IGZyb20gJy4vY2hhdEhpc3RvcnknO1xuaW1wb3J0IHR5cGUgeyBEYXRhT3V0cHV0IH0gZnJvbSAnLi9oaXN0b3J5JztcblxudHlwZSBEYXRhQ29udGV4dCA9IHsgZWxzOiB7IGZpZWxkOiBFeHQuZm9ybS5GaWVsZDsgd3JhcHBlcjogSGlzdG9yeUVsZW1lbnQgfVtdIH07XG50eXBlIEhpc3RvcnlCdXR0b24gPSBIVE1MQnV0dG9uRWxlbWVudCAmIHtcbiAgZW5hYmxlOiAoKSA9PiB2b2lkO1xuICBkaXNhYmxlOiAoKSA9PiB2b2lkO1xufTtcbnR5cGUgSGlzdG9yeUluZm8gPSBIVE1MRWxlbWVudCAmIHtcbiAgdXBkYXRlOiAoc2hvd2luZzogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSA9PiB2b2lkO1xufTtcbnR5cGUgSGlzdG9yeU5hdiA9IEhUTUxFbGVtZW50ICYge1xuICBzaG93OiAoKSA9PiB2b2lkO1xuICBoaWRlOiAoKSA9PiB2b2lkO1xuICBwcmV2QnV0dG9uOiBIaXN0b3J5QnV0dG9uO1xuICBuZXh0QnV0dG9uOiBIaXN0b3J5QnV0dG9uO1xuICBpbmZvOiBIaXN0b3J5SW5mbztcbn07XG50eXBlIEhpc3RvcnlFbGVtZW50ID0gSFRNTEVsZW1lbnQgJiB7IGhpc3RvcnlOYXY6IEhpc3RvcnlOYXYgfTtcblxuY29uc3QgaGlzdG9yeU5hdlN5bmMgPSAoZGF0YTogRGF0YU91dHB1dDxEYXRhQ29udGV4dD4sIG5vU3RvcmU/OiBib29sZWFuKSA9PiB7XG4gIGRhdGEuY29udGV4dC5lbHMuZm9yRWFjaCgoeyB3cmFwcGVyLCBmaWVsZCB9KSA9PiB7XG4gICAgY29uc3QgcHJldlZhbHVlID0gZmllbGQuZ2V0VmFsdWUoKTtcbiAgICBmaWVsZC5zZXRWYWx1ZShkYXRhLnZhbHVlKTtcbiAgICBmaWVsZC5maXJlRXZlbnQoJ2NoYW5nZScsIGZpZWxkLCBkYXRhLnZhbHVlLCBwcmV2VmFsdWUpO1xuXG4gICAgaWYgKG5vU3RvcmUpIHtcbiAgICAgIGZpZWxkLmVsLmRvbS5zY3JvbGxUb3AgPSBmaWVsZC5lbC5kb20uc2Nyb2xsSGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChkYXRhLnRvdGFsID4gMCkge1xuICAgICAgd3JhcHBlci5oaXN0b3J5TmF2LnNob3coKTtcbiAgICB9XG5cbiAgICB3cmFwcGVyLmhpc3RvcnlOYXYuaW5mby51cGRhdGUoZGF0YS5jdXJyZW50LCBkYXRhLnRvdGFsKTtcblxuICAgIGlmIChkYXRhLnByZXZTdGF0dXMpIHtcbiAgICAgIHdyYXBwZXIuaGlzdG9yeU5hdi5wcmV2QnV0dG9uLmVuYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cmFwcGVyLmhpc3RvcnlOYXYucHJldkJ1dHRvbi5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubmV4dFN0YXR1cykge1xuICAgICAgd3JhcHBlci5oaXN0b3J5TmF2Lm5leHRCdXR0b24uZW5hYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdyYXBwZXIuaGlzdG9yeU5hdi5uZXh0QnV0dG9uLmRpc2FibGUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgY3JlYXRlV2FuZEVsID0gKCkgPT4ge1xuICBjb25zdCB3YW5kRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgd2FuZEVsLmNsYXNzTmFtZSA9ICdtb2RhaS1nZW5lcmF0ZSc7XG4gIHdhbmRFbC5pbm5lclRleHQgPSAn4pymJztcbiAgd2FuZEVsLnR5cGUgPSAnYnV0dG9uJztcbiAgd2FuZEVsLnRpdGxlID0gJ0dlbmVyYXRlIHVzaW5nIEFJJztcblxuICByZXR1cm4gd2FuZEVsO1xufTtcblxuY29uc3QgY3JlYXRlSGlzdG9yeU5hdiA9IChjYWNoZTogUmV0dXJuVHlwZTx0eXBlb2YgaGlzdG9yeS5pbml0PERhdGFDb250ZXh0Pj4pID0+IHtcbiAgY29uc3QgcHJldkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpIGFzIEhpc3RvcnlCdXR0b247XG4gIHByZXZCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICBwcmV2QnV0dG9uLnRpdGxlID0gJ1ByZXZpb3VzIFZlcnNpb24nO1xuICBwcmV2QnV0dG9uLmNsYXNzTmFtZSA9ICdtb2RhaS1oaXN0b3J5X3ByZXYnO1xuICBwcmV2QnV0dG9uLmRpc2FibGUgPSAoKSA9PiB7XG4gICAgcHJldkJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG4gIHByZXZCdXR0b24uZW5hYmxlID0gKCkgPT4ge1xuICAgIHByZXZCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcbiAgcHJldkJ1dHRvbi5pbm5lckhUTUwgPSAncHJldic7XG4gIHByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2FjaGUucHJldigpO1xuICB9KTtcblxuICBjb25zdCBuZXh0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykgYXMgSGlzdG9yeUJ1dHRvbjtcbiAgbmV4dEJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gIG5leHRCdXR0b24udGl0bGUgPSAnTmV4dCBWZXJzaW9uJztcbiAgbmV4dEJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kYWktaGlzdG9yeV9uZXh0JztcbiAgbmV4dEJ1dHRvbi5kaXNhYmxlID0gKCkgPT4ge1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9O1xuICBuZXh0QnV0dG9uLmVuYWJsZSA9ICgpID0+IHtcbiAgICBuZXh0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH07XG4gIG5leHRCdXR0b24uaW5uZXJIVE1MID0gJ25leHQnO1xuICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNhY2hlLm5leHQoKTtcbiAgfSk7XG5cbiAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSBhcyBIaXN0b3J5SW5mbztcbiAgaW5mby51cGRhdGUgPSAoc2hvd2luZywgdG90YWwpID0+IHtcbiAgICBpbmZvLmlubmVyVGV4dCA9IGAke3Nob3dpbmd9LyR7dG90YWx9YDtcbiAgfTtcbiAgaW5mby5pbm5lclRleHQgPSAnJztcblxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpIGFzIEhpc3RvcnlOYXY7XG4gIHdyYXBwZXIuc2hvdyA9ICgpID0+IHtcbiAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5pdGlhbCc7XG4gIH07XG5cbiAgd3JhcHBlci5oaWRlID0gKCkgPT4ge1xuICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfTtcblxuICB3cmFwcGVyLnByZXZCdXR0b24gPSBwcmV2QnV0dG9uO1xuICB3cmFwcGVyLm5leHRCdXR0b24gPSBuZXh0QnV0dG9uO1xuICB3cmFwcGVyLmluZm8gPSBpbmZvO1xuXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQocHJldkJ1dHRvbik7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobmV4dEJ1dHRvbik7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG5cbiAgd3JhcHBlci5oaWRlKCk7XG4gIHByZXZCdXR0b24uZGlzYWJsZSgpO1xuICBuZXh0QnV0dG9uLmRpc2FibGUoKTtcblxuICByZXR1cm4gd3JhcHBlcjtcbn07XG5cbmNvbnN0IGNyZWF0ZUZyZWVUZXh0UHJvbXB0ID0gKGZpZWxkTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHdhbmRFbCA9IGNyZWF0ZVdhbmRFbCgpO1xuICB3YW5kRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdWkubG9jYWxDaGF0KHtcbiAgICAgIGtleTogZmllbGROYW1lLFxuICAgICAgZmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgIG92ZXJsYXk6IGZhbHNlLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgYXZhaWxhYmxlVHlwZXM6IFsndGV4dCcsICdpbWFnZSddLFxuICAgICAgcmVzb3VyY2U6IE1PRHgucmVxdWVzdC5pZCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHdhbmRFbDtcbn07XG5cbmNvbnN0IGNyZWF0ZUZvcmNlZFRleHRQcm9tcHQgPSAoZmllbGQ6IEV4dC5mb3JtLkZpZWxkLCBmaWVsZE5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBhaVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykgYXMgSGlzdG9yeUVsZW1lbnQ7XG5cbiAgY29uc3Qgd2FuZEVsID0gY3JlYXRlV2FuZEVsKCk7XG4gIHdhbmRFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBkb25lID0gY3JlYXRlTG9hZGluZ092ZXJsYXkoZmllbGQuZWwuZG9tKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5tZ3IucHJvbXB0LnRleHQoe1xuICAgICAgICBpZDogTU9EeC5yZXF1ZXN0LmlkLFxuICAgICAgICBmaWVsZDogZmllbGROYW1lLFxuICAgICAgfSk7XG4gICAgICBjYWNoZS5pbnNlcnQocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgZG9uZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZG9uZSgpO1xuICAgICAgRXh0Lk1zZy5hbGVydChcbiAgICAgICAgJ0ZhaWxlZCcsXG4gICAgICAgIF8oJ21vZGFpLmNtcC5mYWlsZWRfdHJ5X2FnYWluJywgeyBtc2c6IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnJyB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBhaVdyYXBwZXIuYXBwZW5kQ2hpbGQod2FuZEVsKTtcblxuICBjb25zdCBjYWNoZSA9IGhpc3RvcnkuaW5pdChmaWVsZE5hbWUsIGhpc3RvcnlOYXZTeW5jLCBmaWVsZC5nZXRWYWx1ZSgpLCB7fSBhcyBEYXRhQ29udGV4dCk7XG5cbiAgaWYgKCFjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzKSB7XG4gICAgY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscyA9IFtdO1xuICB9XG4gIGNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMucHVzaCh7IGZpZWxkLCB3cmFwcGVyOiBhaVdyYXBwZXIgfSk7XG5cbiAgY29uc3QgaGlzdG9yeU5hdiA9IGNyZWF0ZUhpc3RvcnlOYXYoY2FjaGUpO1xuXG4gIGFpV3JhcHBlci5hcHBlbmRDaGlsZChoaXN0b3J5TmF2KTtcbiAgYWlXcmFwcGVyLmhpc3RvcnlOYXYgPSBoaXN0b3J5TmF2O1xuXG4gIHJldHVybiBhaVdyYXBwZXI7XG59O1xuXG5jb25zdCBjcmVhdGVJbWFnZVByb21wdCA9IChcbiAgbWVkaWFTb3VyY2U6IHN0cmluZyxcbiAgZmllbGROYW1lOiBzdHJpbmcsXG4gIG9uU3VjY2VzczogKG1zZzogTWVzc2FnZSkgPT4gdm9pZCxcbikgPT4ge1xuICBjb25zdCBpbWFnZVdhbmQgPSBjcmVhdGVXYW5kRWwoKTtcbiAgaW1hZ2VXYW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHVpLmxvY2FsQ2hhdCh7XG4gICAgICBrZXk6IGZpZWxkTmFtZSxcbiAgICAgIGZpZWxkOiBmaWVsZE5hbWUsXG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgcmVzb3VyY2U6IE1PRHgucmVxdWVzdC5pZCxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIG1lZGlhU291cmNlOiBwYXJzZUludChtZWRpYVNvdXJjZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGltYWdlQWN0aW9uczoge1xuICAgICAgICBjb3B5OiBmYWxzZSxcbiAgICAgICAgaW5zZXJ0OiAobXNnLCBtb2RhbCkgPT4ge1xuICAgICAgICAgIG9uU3VjY2Vzcyhtc2cpO1xuICAgICAgICAgIG1vZGFsLmFwaS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gaW1hZ2VXYW5kO1xufTtcblxuY29uc3QgYXR0YWNoRmllbGQgPSAoY21wOiBzdHJpbmcsIGZpZWxkTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGZpZWxkID0gRXh0LmdldENtcChjbXApO1xuICBpZiAoIWZpZWxkKSByZXR1cm47XG5cbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSBhcyBIaXN0b3J5RWxlbWVudDtcblxuICBjb25zdCB3YW5kRWwgPSBjcmVhdGVXYW5kRWwoKTtcbiAgd2FuZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGRvbmUgPSBjcmVhdGVMb2FkaW5nT3ZlcmxheShmaWVsZC5lbC5kb20pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLm1nci5wcm9tcHQudGV4dChcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBNT0R4LnJlcXVlc3QuaWQsXG4gICAgICAgICAgZmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICBjYWNoZS5pbnNlcnQoZGF0YS5jb250ZW50LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBjYWNoZS5pbnNlcnQocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgZG9uZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZG9uZSgpO1xuICAgICAgRXh0Lk1zZy5hbGVydChcbiAgICAgICAgJ0ZhaWxlZCcsXG4gICAgICAgIF8oJ21vZGFpLmNtcC5mYWlsZWRfdHJ5X2FnYWluJywgeyBtc2c6IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnJyB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICB3cmFwcGVyLmFwcGVuZENoaWxkKHdhbmRFbCk7XG5cbiAgY29uc3QgY2FjaGUgPSBoaXN0b3J5LmluaXQ8RGF0YUNvbnRleHQ+KFxuICAgIGZpZWxkTmFtZSxcbiAgICBoaXN0b3J5TmF2U3luYyxcbiAgICBmaWVsZC5nZXRWYWx1ZSgpLFxuICAgIHt9IGFzIERhdGFDb250ZXh0LFxuICApO1xuXG4gIGlmICghY2FjaGUuY2FjaGVkSXRlbS5jb250ZXh0LmVscykge1xuICAgIGNhY2hlLmNhY2hlZEl0ZW0uY29udGV4dC5lbHMgPSBbXTtcbiAgfVxuICBjYWNoZS5jYWNoZWRJdGVtLmNvbnRleHQuZWxzLnB1c2goeyBmaWVsZCwgd3JhcHBlciB9KTtcblxuICBjb25zdCBoaXN0b3J5TmF2ID0gY3JlYXRlSGlzdG9yeU5hdihjYWNoZSk7XG5cbiAgd3JhcHBlci5hcHBlbmRDaGlsZChoaXN0b3J5TmF2KTtcbiAgd3JhcHBlci5oaXN0b3J5TmF2ID0gaGlzdG9yeU5hdjtcblxuICBmaWVsZC5sYWJlbC5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbn07XG5cbmNvbnN0IGF0dGFjaEltYWdlUGx1cyA9IChpbWdQbHVzUGFuZWw6IEVsZW1lbnQsIGZpZWxkTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGltYWdlUGx1cyA9IEV4dC5nZXRDbXAoaW1nUGx1c1BhbmVsLmZpcnN0RWxlbWVudENoaWxkPy5pZCk7XG5cbiAgY29uc3QgaW1hZ2VXYW5kID0gY3JlYXRlSW1hZ2VQcm9tcHQoaW1hZ2VQbHVzLmltYWdlQnJvd3Nlci5zb3VyY2UsIGZpZWxkTmFtZSwgZnVuY3Rpb24gKG1zZykge1xuICAgIGltYWdlUGx1cy5pbWFnZUJyb3dzZXIuc2V0VmFsdWUobXNnLmN0eC51cmwpO1xuICAgIGltYWdlUGx1cy5vbkltYWdlQ2hhbmdlKG1zZy5jdHgudXJsKTtcbiAgfSk7XG5cbiAgY29uc3QgYWx0VGV4dFdhbmQgPSBjcmVhdGVXYW5kRWwoKTtcbiAgYWx0VGV4dFdhbmQuc3R5bGUubWFyZ2luVG9wID0gJzZweCc7XG4gIGFsdFRleHRXYW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWFnZVBsdXMuaW1hZ2VQcmV2aWV3LmVsLmRvbTtcblxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICBjYW52YXMud2lkdGggPSBpbWdFbGVtZW50LndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBpbWdFbGVtZW50LmhlaWdodDtcblxuICAgIGN0eC5kcmF3SW1hZ2UoaW1nRWxlbWVudCwgMCwgMCk7XG5cbiAgICBjb25zdCBiYXNlNjREYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG5cbiAgICBjb25zdCBkb25lID0gY3JlYXRlTG9hZGluZ092ZXJsYXkoaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5pdGVtcy5pdGVtc1swXS5lbC5kb20pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLm1nci5wcm9tcHQudmlzaW9uKFxuICAgICAgICB7XG4gICAgICAgICAgaW1hZ2U6IGJhc2U2NERhdGEsXG4gICAgICAgICAgZmllbGQ6IGZpZWxkTmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLml0ZW1zLml0ZW1zWzBdLnNldFZhbHVlKGRhdGEuY29udGVudCk7XG4gICAgICAgICAgaW1hZ2VQbHVzLmFsdFRleHRGaWVsZC5pdGVtcy5pdGVtc1swXS5lbC5kb20uc2Nyb2xsVG9wID1cbiAgICAgICAgICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuaXRlbXMuaXRlbXNbMF0uZWwuZG9tLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICBpbWFnZVBsdXMuaW1hZ2UuYWx0VGFnID0gZGF0YS5jb250ZW50O1xuICAgICAgICAgIGltYWdlUGx1cy51cGRhdGVWYWx1ZSgpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuaXRlbXMuaXRlbXNbMF0uc2V0VmFsdWUocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgaW1hZ2VQbHVzLmltYWdlLmFsdFRhZyA9IHJlc3VsdC5jb250ZW50O1xuICAgICAgaW1hZ2VQbHVzLnVwZGF0ZVZhbHVlKCk7XG4gICAgICBkb25lKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkb25lKCk7XG4gICAgICBFeHQuTXNnLmFsZXJ0KFxuICAgICAgICAnRmFpbGVkJyxcbiAgICAgICAgXygnbW9kYWkuY21wLmZhaWxlZF90cnlfYWdhaW4nLCB7IG1zZzogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICcnIH0pLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIGltYWdlUGx1cy5hbHRUZXh0RmllbGQuZWwuZG9tLnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLmVsLmRvbS5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG5cbiAgaW1hZ2VQbHVzLmVsLmRvbS5wYXJlbnRFbGVtZW50Py5wYXJlbnRFbGVtZW50Py5wYXJlbnRFbGVtZW50XG4gICAgPy5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpXG4gICAgPy5hcHBlbmRDaGlsZChpbWFnZVdhbmQpO1xuICBpbWFnZVBsdXMuYWx0VGV4dEZpZWxkLmVsLmRvbS5hcHBlbmRDaGlsZChhbHRUZXh0V2FuZCk7XG59O1xuXG5jb25zdCBhdHRhY2hDb250ZW50ID0gKCkgPT4ge1xuICBjb25zdCBjbXAgPSBFeHQuZ2V0Q21wKCdtb2R4LXJlc291cmNlLWNvbnRlbnQnKTtcbiAgY29uc3QgbGFiZWwgPSBjbXAuZWwuZG9tLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gIGxhYmVsPy5hcHBlbmRDaGlsZChjcmVhdGVGcmVlVGV4dFByb21wdCgncmVzLmNvbnRlbnQnKSk7XG59O1xuXG5jb25zdCBhdHRhY2hUVnMgPSAoKSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBFeHQuZ2V0Q21wKCdtb2R4LXBhbmVsLXJlc291cmNlJykuZ2V0Rm9ybSgpO1xuICBmb3IgKGNvbnN0IFt0dklkLCB0dk5hbWVdIG9mIG1vZEFJPy50dnMgfHwgW10pIHtcbiAgICBjb25zdCB3cmFwcGVyID0gRXh0LmdldChgdHYke3R2SWR9LXRyYCk7XG4gICAgaWYgKCF3cmFwcGVyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWVsZCA9IGZvcm0uZmluZEZpZWxkKGB0diR7dHZJZH1gKTtcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBgdHYuJHt0dk5hbWV9YDtcblxuICAgIGlmICghZmllbGQpIHtcbiAgICAgIGNvbnN0IGltZ1BsdXNQYW5lbCA9IHdyYXBwZXIuZG9tLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZXBsdXMtcGFuZWwtaW5wdXQnKTtcbiAgICAgIGlmIChpbWdQbHVzUGFuZWwpIHtcbiAgICAgICAgYXR0YWNoSW1hZ2VQbHVzKGltZ1BsdXNQYW5lbCwgZmllbGROYW1lKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC54dHlwZSA9PT0gJ3RleHRmaWVsZCcgfHwgZmllbGQueHR5cGUgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIGNvbnN0IHByb21wdCA9IE1PRHguY29uZmlnW2Btb2RhaS50di4ke3R2TmFtZX0udGV4dC5wcm9tcHRgXTtcblxuICAgICAgY29uc3QgbGFiZWwgPSB3cmFwcGVyLmRvbS5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuICAgICAgaWYgKCFsYWJlbCkgcmV0dXJuO1xuXG4gICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZUZvcmNlZFRleHRQcm9tcHQoZmllbGQsIGZpZWxkTmFtZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlRnJlZVRleHRQcm9tcHQoZmllbGROYW1lKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnh0eXBlID09PSAnbW9keC1wYW5lbC10di1pbWFnZScpIHtcbiAgICAgIGNvbnN0IGltYWdlV2FuZCA9IGNyZWF0ZUltYWdlUHJvbXB0KGZpZWxkLnNvdXJjZSwgZmllbGROYW1lLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICByZWxhdGl2ZVVybDogbXNnLmN0eC51cmwsXG4gICAgICAgICAgdXJsOiBtc2cuY3R4LnVybCxcbiAgICAgICAgfTtcblxuICAgICAgICBmaWVsZC5pdGVtcy5pdGVtc1sxXS5maXJlRXZlbnQoJ3NlbGVjdCcsIGV2ZW50RGF0YSk7XG4gICAgICAgIGZpZWxkLmZpcmVFdmVudCgnc2VsZWN0JywgZXZlbnREYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsYWJlbCA9IHdyYXBwZXIuZG9tLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgICBpZiAoIWxhYmVsKSByZXR1cm47XG5cbiAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGltYWdlV2FuZCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBhdHRhY2hSZXNvdXJjZUZpZWxkcyA9ICgpID0+IHtcbiAgY29uc3QgZmllbGRzTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gICAgcGFnZXRpdGxlOiBbJ21vZHgtcmVzb3VyY2UtcGFnZXRpdGxlJ10sXG4gICAgbG9uZ3RpdGxlOiBbJ21vZHgtcmVzb3VyY2UtbG9uZ3RpdGxlJywgJ3Nlb3N1aXRlLWxvbmd0aXRsZSddLFxuICAgIGludHJvdGV4dDogWydtb2R4LXJlc291cmNlLWludHJvdGV4dCddLFxuICAgIGRlc2NyaXB0aW9uOiBbJ21vZHgtcmVzb3VyY2UtZGVzY3JpcHRpb24nLCAnc2Vvc3VpdGUtZGVzY3JpcHRpb24nXSxcbiAgICBjb250ZW50OiBbJ21vZHgtcmVzb3VyY2UtY29udGVudCddLFxuICB9O1xuXG4gIGZvciAoY29uc3QgZmllbGQgb2YgbW9kQUk/LnJlc291cmNlRmllbGRzIHx8IFtdKSB7XG4gICAgaWYgKCFmaWVsZHNNYXBbZmllbGRdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQgPT09ICdjb250ZW50Jykge1xuICAgICAgYXR0YWNoQ29udGVudCgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgZmllbGRzTWFwW2ZpZWxkXS5mb3JFYWNoKChjbXBJZCkgPT4ge1xuICAgICAgYXR0YWNoRmllbGQoY21wSWQsIGByZXMuJHtmaWVsZH1gKTtcbiAgICB9KTtcbiAgfVxufTtcblxuKCgpID0+IHtcbiAgRXh0Lm9uUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIEV4dC5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBhdHRhY2hSZXNvdXJjZUZpZWxkcygpO1xuICAgICAgYXR0YWNoVFZzKCk7XG4gICAgfSwgNTAwKTtcbiAgfSk7XG59KSgpO1xuIiwiaW1wb3J0ICcuL3Jlc291cmNlJztcblxuZXhwb3J0IGNvbnN0IHdpbmRvdyA9IHt9O1xuXG5leHBvcnQgeyBjaGF0SGlzdG9yeSB9IGZyb20gJy4vY2hhdEhpc3RvcnknO1xuZXhwb3J0IHsgaGlzdG9yeSB9IGZyb20gJy4vaGlzdG9yeSc7XG5leHBvcnQgeyBleGVjdXRvciB9IGZyb20gJy4vZXhlY3V0b3InO1xuZXhwb3J0IHsgdWkgfSBmcm9tICcuL3VpJztcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJzZXJ2aWNlcyIsImJ1ZmZlcmVkIiwiY2hhdGdwdCIsImNvbnRlbnQiLCJkYXRhIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJFcnJvciIsIl8iLCJpZCIsImltYWdlIiwidXJsIiwiYjY0X2pzb24iLCJEYXRlIiwibm93IiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY2xhdWRlIiwidGV4dCIsImdlbWluaSIsImNhbmRpZGF0ZXMiLCJwYXJ0cyIsImJhc2U2NCIsInByZWRpY3Rpb25zIiwiYnl0ZXNCYXNlNjRFbmNvZGVkIiwic3RyZWFtIiwibmV3RGF0YSIsImN1cnJlbnREYXRhIiwiY3VycmVudENvbnRlbnQiLCJkZWx0YSIsImVycm9ySGFuZGxlciIsImFzeW5jIiwicmVzIiwib2siLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaGFuZGxlU3RyZWFtIiwic2VydmljZSIsInBhcnNlciIsIm9uQ2h1bmtTdHJlYW0iLCJzaWduYWwiLCJib2R5IiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYnVmZmVyIiwiYWJvcnRlZCIsImRvbmUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJqc29uTGluZXMiLCJ0cmltIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwicmVwbGFjZSIsImZpbHRlciIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJuZXdsaW5lSW5kZXgiLCJsYXN0TmV3bGluZUluZGV4IiwiaW5kZXhPZiIsInNsaWNlIiwic3RhcnRzV2l0aCIsInR5cGUiLCJhaUZldGNoIiwiYWN0aW9uIiwicGFyYW1zIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsImZldGNoIiwibW9kQUkiLCJhcGlVUkwiLCJtZXRob2QiLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiZGV0YWlsIiwicGFyc2VJbnQiLCJkZXRhaWxzIiwiZm9yRXhlY3V0b3IiLCJleGVjdXRvckRldGFpbHMiLCJjYWxsU3RyZWFtU2VydmljZSIsImNhbGxTZXJ2aWNlIiwic2VydmljZUV4ZWN1dG9yIiwiYWJvcnQiLCJleGVjdXRvciIsIm1nciIsImRvd25sb2FkIiwibW9keEZldGNoIiwicHJvbXB0IiwiZnJlZVRleHQiLCJ2aXNpb24iLCJ1bmRlZmluZWQiLCJfY2FjaGUiLCJfZm9ybWF0T3V0cHV0IiwiY2FjaGVkSXRlbSIsInByZXZTdGF0dXMiLCJ2aXNpYmxlIiwibmV4dFN0YXR1cyIsInZhbHVlcyIsImxlbmd0aCIsImN1cnJlbnQiLCJ0b3RhbCIsImNvbnRleHQiLCJpbnNlcnQiLCJub1N0b3JlIiwicHVzaCIsIm91dHB1dCIsInRoaXMiLCJzeW5jVUkiLCJuZXh0IiwicHJldiIsImluaXQiLCJpbml0VmFsdWUiLCJnZXREYXRhIiwiZ2V0QWxsIiwiZHJhZyIsImUiLCJtb2RhbCIsImlzRHJhZ2dpbmciLCJuZXdYIiwiY2xpZW50WCIsIm9mZnNldFgiLCJuZXdZIiwiY2xpZW50WSIsIm9mZnNldFkiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJ0cmFuc2Zvcm0iLCJlbmREcmFnIiwiZG9jdW1lbnQiLCJ1c2VyU2VsZWN0IiwiZ2xvYmFsU3R5bGVzIiwibWFyZ2luIiwicGFkZGluZyIsImJveFNpemluZyIsImZvbnRGYW1pbHkiLCJhcHBseVN0eWxlcyIsImVsZW1lbnQiLCJzdHlsZU9iaiIsImFzc2lnbiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsIm5sVG9CciIsInRlc3QiLCJvbkNsaWNrIiwiZGlzYWJsZWRTdHlsZU9iaiIsImJ0blByb3BzIiwiQXJyYXkiLCJpc0FycmF5IiwiZWwiLCJmb3JFYWNoIiwiaSIsImFwcGVuZCIsImNyZWF0ZVRleHROb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZSIsImRpc2FibGVkIiwiZGlzYWJsZSIsImRlZmF1bHRDb25maWciLCJsb2FkaW5nVGV4dCIsImNvbXBsZXRlZFRleHQiLCJjb21wbGV0ZWRUZXh0RHVyYXRpb24iLCJzdHlsZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsImN1cnNvciIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiY29sb3IiLCJvcGFjaXR5Iiwid2lkdGgiLCJoZWlnaHQiLCJtYXJnaW5SaWdodCIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZFJlcGVhdCIsImJhY2tncm91bmRQb3NpdGlvbiIsImljb25zIiwiY29weSIsImNyZWF0ZUFjdGlvbkJ1dHRvbiIsImNvbmZpZyIsImJ0biIsImJhY2tncm91bmRJbWFnZSIsImljb24iLCJsYWJlbCIsIm9yaWdpbmFsSFRNTCIsImlubmVySFRNTCIsInJlc3VsdCIsIlByb21pc2UiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2xhc3NOYW1lIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJib3hTaGFkb3ciLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJ0cmFuc2l0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJmb250V2VpZ2h0IiwiZ2FwIiwiYmFja2dyb3VuZCIsImZsZXgiLCJvdmVyZmxvd1kiLCJtYXJnaW5Cb3R0b20iLCJ3b3JkV3JhcCIsIm1hcmdpbkxlZnQiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsIm1heFdpZHRoIiwiYm9yZGVyVG9wIiwib3V0bGluZSIsInJlc2l6ZSIsIm1pbldpZHRoIiwianVzdGlmeUl0ZW1zIiwiYmFja2Ryb3BGaWx0ZXIiLCJwb2ludGVyRXZlbnRzIiwiYm9yZGVyQ29sb3IiLCJvYmplY3RGaXQiLCJhZGRFcnJvck1lc3NhZ2UiLCJjaGF0TWVzc2FnZXMiLCJtZXNzYWdlRGl2IiwiZXJyb3JJY29uIiwidGV4dFNwYW4iLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJhZGRBc3Npc3RhbnRNZXNzYWdlIiwicHJvdmlkZWRJZCIsIm1lc3NhZ2VJZCIsImNvbnRlbnREaXYiLCJpZnJhbWUiLCJwcm92aWRlZENvbnRlbnQiLCJjdXN0b21DU1MiLCJpc0xvYWRlZCIsInBlbmRpbmdDb250ZW50IiwiZ2V0SWZyYW1lRG9jdW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50V2luZG93IiwiY3JlYXRlSWZyYW1lQ29udGVudCIsImNzcyIsImpvaW4iLCJzZXR1cElmcmFtZUNvbnRlbnQiLCJkb2MiLCJsaW5rIiwicmVsIiwiaHJlZiIsInN5bmNDb250ZW50IiwibmV3Q29udGVudCIsInNyY2RvYyIsInF1ZXJ5U2VsZWN0b3IiLCJzeW5jSGVpZ2h0IiwidXBkYXRlQ29udGVudCIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvZmZzZXRIZWlnaHQiLCJib3R0b20iLCJvZmZzZXRUb3AiLCJtYXgiLCJvbmxvYWQiLCJjcmVhdGVDb250ZW50SWZyYW1lIiwiYWN0aW9uc0RpdiIsImhpc3RvcnkiLCJnZXRNZXNzYWdlcyIsImZpbmQiLCJtIiwicm9sZSIsInRleHRBY3Rpb25zIiwiaXNMb2FkaW5nIiwiY29weVRvQ2xpcGJvYXJkIiwiaW1hZ2VBY3Rpb25zIiwibXNnIiwiaGFuZGxlciIsImN0eCIsImRvd25sb2FkZWQiLCJmaWVsZCIsIm5hbWVzcGFjZSIsInJlc291cmNlIiwibWVkaWFTb3VyY2UiLCJmdWxsVXJsIiwiaW5zZXJ0Q2IiLCJ1cGRhdGUiLCJyZW5kZXJNZXNzYWdlIiwiaGlkZGVuIiwiaW1hZ2VzQ29udGVudCIsImltYWdlcyIsImNvbnRlbnRXcmFwcGVyIiwidGV4dERpdiIsImltYWdlUm93IiwiZmxleFdyYXAiLCJpbWdDb250ZW50IiwiaW1hZ2VXcmFwcGVyIiwibWFyZ2luVG9wIiwiaW1nIiwic3JjIiwiYWRkVXNlck1lc3NhZ2UiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0ZXh0YXJlYSIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwiZ2xvYmFsU3RhdGUiLCJtb2RhbE9wZW4iLCJzZXRMb2FkaW5nU3RhdGUiLCJsb2FkaW5nIiwibG9hZGluZ0luZGljYXRvciIsIm1lc3NhZ2VJbnB1dCIsImNsZWFyQ2hhdEJ0biIsInNlbmRCdG4iLCJzdG9wQnRuIiwiaGFzTWVzc2FnZXMiLCJ0cnlBZ2FpbkJ0biIsInR5cGVCdXR0b25zIiwiYnV0dG9uIiwiaXNBY3RpdmUiLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVVcGxvYWRlZEltYWdlIiwiaW1hZ2VQcmV2aWV3IiwicmVtb3ZlIiwidXBsb2FkZWRJbWFnZSIsInBhZGRpbmdMZWZ0IiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmaWxlT3JVcmwiLCJpc1JlbW90ZVVybCIsIkZpbGUiLCJyZW1vdmVCdG4iLCJkYXRhVVJMIiwicmVqZWN0IiwiRmlsZVJlYWRlciIsImV2ZW50IiwidGFyZ2V0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJzdG9wUHJvcGFnYXRpb24iLCJpbnB1dFdyYXBwZXIiLCJfbmFtZXNwYWNlIiwiUk9MRVMiLCJhZGRNZXNzYWdlIiwibXNnT2JqZWN0IiwiaW5kZXgiLCJpZFJlZiIsIm9uQWRkTWVzc2FnZSIsImNoYXRIaXN0b3J5IiwidXBkYXRlQXNzaXN0YW50TWVzc2FnZSIsInVwZGF0ZU1lc3NhZ2UiLCJnZXRBc3Npc3RhbnRNZXNzYWdlIiwiZ2V0TWVzc2FnZSIsImdldE1lc3NhZ2VzSGlzdG9yeSIsImNsZWFySGlzdG9yeSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibW9kYWxPdmVybGF5Iiwic2VuZE1lc3NhZ2UiLCJwcm92aWRlZE1lc3NhZ2UiLCJoaWRlUHJvbXB0IiwiYWJvcnRDb250cm9sbGVyIiwibWVzc2FnZVRvU2VuZCIsIm1lc3NhZ2VzIiwiZXJyIiwibmFtZSIsIm1vZGFsVHlwZXMiLCJjcmVhdGVNb2RhbCIsImFsZXJ0Iiwib3ZlcmxheSIsImF2YWlsYWJsZVR5cGVzIiwiaW5jbHVkZXMiLCJ1bnNoaWZ0IiwiY2hhdE1vZGFsIiwiY2hhdEhlYWRlciIsImNoYXRUaXRsZSIsImNoYXRDb250cm9scyIsImNsb3NlQnRuIiwiY2hhdElucHV0QXJlYSIsImlucHV0Um93IiwicGxhY2Vob2xkZXIiLCJwcmV2ZW50RGVmYXVsdCIsImltYWdlRmlsZSIsInJlbW90ZUltYWdlVXJsIiwiZGF0YVRyYW5zZmVyIiwiZmlsZXMiLCJmaWxlIiwiaW1nVXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJyZXNwb25zZSIsImJsb2IiLCJpdGVtcyIsImNsaXBib2FyZERhdGEiLCJnZXRBc0ZpbGUiLCJidXR0b25zQ29sdW1uIiwiYWN0aW9uQnV0dG9uc1JvdyIsInN0b3BHZW5lcmF0aW9uIiwidGl0bGUiLCJsYXRlc3RVc2VyTXNnIiwicmV2ZXJzZSIsInRyeUFnYWluIiwibW9kYWxGb290ZXIiLCJ0eXBlU2VsZWN0b3IiLCJ0eXBlTGFiZWwiLCJ0eXBlVG9nZ2xlR3JvdXAiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImZpcnN0Q2hpbGQiLCJzd2l0Y2hUeXBlIiwiY2xlYXJDaGF0Iiwic2hpZnRLZXkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5pdERyYWciLCJidWlsZE1vZGFsIiwiYXBpIiwidmlzaWJpbGl0eSIsIm9wZW5Nb2RhbCIsImNyZWF0ZUxvYWRpbmdPdmVybGF5Iiwib3B0aW9ucyIsImluZGljYXRvclR5cGUiLCJvdmVybGF5Q29sb3IiLCJpbmRpY2F0b3JDb2xvciIsImluZGljYXRvciIsInRleHRhcmVhU3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRleHRhcmVhUmVjdCIsInN0eWxlVGV4dCIsImFuaW1hdGlvbiIsImRvdCIsImFuaW1hdGlvbkRlbGF5Iiwic3R5bGVTaGVldCIsInBhcmVudFN0eWxlcyIsInBhcmVudEVsZW1lbnQiLCJ3cmFwcGVyIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInVwZGF0ZWRSZWN0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidWkiLCJsb2NhbENoYXQiLCJoaXN0b3J5TmF2U3luYyIsImVscyIsInByZXZWYWx1ZSIsImdldFZhbHVlIiwic2V0VmFsdWUiLCJmaXJlRXZlbnQiLCJkb20iLCJoaXN0b3J5TmF2Iiwic2hvdyIsImluZm8iLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImNyZWF0ZVdhbmRFbCIsIndhbmRFbCIsImlubmVyVGV4dCIsImNyZWF0ZUhpc3RvcnlOYXYiLCJjYWNoZSIsInNob3dpbmciLCJoaWRlIiwiY3JlYXRlRnJlZVRleHRQcm9tcHQiLCJmaWVsZE5hbWUiLCJNT0R4IiwicmVxdWVzdCIsImNyZWF0ZUZvcmNlZFRleHRQcm9tcHQiLCJhaVdyYXBwZXIiLCJFeHQiLCJNc2ciLCJjcmVhdGVJbWFnZVByb21wdCIsIm9uU3VjY2VzcyIsImltYWdlV2FuZCIsImF0dGFjaEZpZWxkIiwiY21wIiwiZ2V0Q21wIiwiYXR0YWNoSW1hZ2VQbHVzIiwiaW1nUGx1c1BhbmVsIiwiaW1hZ2VQbHVzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpbWFnZUJyb3dzZXIiLCJzb3VyY2UiLCJvbkltYWdlQ2hhbmdlIiwiYWx0VGV4dFdhbmQiLCJpbWdFbGVtZW50IiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImJhc2U2NERhdGEiLCJ0b0RhdGFVUkwiLCJhbHRUZXh0RmllbGQiLCJhbHRUYWciLCJ1cGRhdGVWYWx1ZSIsImF0dGFjaENvbnRlbnQiLCJvblJlYWR5IiwiZGVmZXIiLCJmaWVsZHNNYXAiLCJwYWdldGl0bGUiLCJsb25ndGl0bGUiLCJpbnRyb3RleHQiLCJkZXNjcmlwdGlvbiIsInJlc291cmNlRmllbGRzIiwiY21wSWQiLCJhdHRhY2hSZXNvdXJjZUZpZWxkcyIsImZvcm0iLCJnZXRGb3JtIiwidHZJZCIsInR2TmFtZSIsInR2cyIsImZpbmRGaWVsZCIsInh0eXBlIiwiZXZlbnREYXRhIiwicmVsYXRpdmVVcmwiLCJhdHRhY2hUVnMiXSwic291cmNlUm9vdCI6IiJ9